{"format_version":"1.1","terraform_version":"1.2.7","variables":{"var_global_aws_environment":{"value":"prod"},"var_global_aws_profile":{"value":"default"},"var_global_aws_region":{"value":"eu-west-1"},"var_global_ec2instance_aws_ami_owner_list":{"value":["099720109477"]},"var_global_ec2instance_filter_full_ref_list":{"value":["ubuntu/images/hvm-ssd/ubuntu-focal-20.04-amd64-server-*"]},"var_global_ec2instance_filter_virtualiazation_type_list":{"value":["hvm"]},"var_global_mysql_port":{"value":"4417"},"var_global_product":{"value":"phlosys"},"var_iam_ec2_ec2_session_manager_ssm_policy_name":{"value":"custom-ec2-ssm"},"var_iam_ec2_profile_name":{"value":"ec2-profile"},"var_iam_ec2_role_name":{"value":"ec2-role"},"var_iam_ec2_s3_bucket_arn_list":{"value":["arn:aws:s3:::assets.phlosys.prod","arn:aws:s3:::assets.phlosys.prod/*","arn:aws:s3:::binaries.phlosys.prod*","arn:aws:s3:::binaries.phlosys.prod/*"]},"var_iam_ec2_s3_policy_name":{"value":"custom-ec2-s3"},"var_iam_ec2_secret_manager_readwrite_resource_name":{"value":"custom-secretsmanager"},"var_iam_ecs_task_bucket_arn_list":{"value":["arn:aws:s3:::assets.phlosys.prod","arn:aws:s3:::assets.phlosys.prod/*"]},"var_iam_ecs_task_loggroup_resources_list":{"value":["*"]},"var_iam_ecs_task_policy_name":{"value":"custom-ecs-exec"},"var_iam_ecs_task_role_name":{"value":"ecs-task-role"},"var_load_balancer_default_tg_name":{"value":"defaultTG"},"var_load_balancer_name":{"value":"endpoint"},"var_rds_aurora_mr_apply_immediately":{"value":true},"var_rds_aurora_mr_cloudwatch_logs_exports":{"value":["audit","error","general","slowquery"]},"var_rds_aurora_mr_cluster_gr_family":{"value":"aurora-mysql5.7"},"var_rds_aurora_mr_cluster_param_gr_name":{"value":"multiregion-cluster-param-group"},"var_rds_aurora_mr_create_db_subnet_group":{"value":false},"var_rds_aurora_mr_create_security_group":{"value":false},"var_rds_aurora_mr_database_name":{"value":"phlosysdb"},"var_rds_aurora_mr_engine":{"value":"aurora-mysql"},"var_rds_aurora_mr_engine_version":{"value":"5.7.mysql_aurora.2.10.2"},"var_rds_aurora_mr_first_instance_class":{"value":"db.t3.micro"},"var_rds_aurora_mr_first_instance_identifier":{"value":"aurora-1"},"var_rds_aurora_mr_first_publicly_assessible":{"value":false},"var_rds_aurora_mr_iam_authentication_enable":{"value":true},"var_rds_aurora_mr_identifier":{"value":"aurora"},"var_rds_aurora_mr_master_password":{"value":"password"},"var_rds_aurora_mr_master_username":{"value":"admin"},"var_rds_aurora_mr_param_gr_family":{"value":"aurora-mysql5.7"},"var_rds_aurora_mr_param_gr_name":{"value":"multiregion-param-group"},"var_rds_aurora_mr_skip_final_snapshot":{"value":true},"var_rds_aurora_multiregion_parameter_max_con":{"value":500},"var_secgroup_app_ecs_allow_egress_cidrs_list":{"value":["0.0.0.0/0"]},"var_secgroup_app_ecs_from_port":{"value":"80"},"var_secgroup_app_ecs_group_name":{"value":"app-ecs-secgroup"},"var_secgroup_app_ecs_to_port":{"value":"8090"},"var_secgroup_jumpbox_ec2_allow_egress_cidrs_list":{"value":["0.0.0.0/0"]},"var_secgroup_jumpbox_ec2_group_name":{"value":"jumpbox-secgroup"},"var_secgroup_jumpbox_ec2_ingress_cidr_list":{"value":["154.160.30.168/32"]},"var_secgroup_jumpbox_ec2_ingress_rules_list":{"value":["ssh-tcp"]},"var_secgroup_mysql_allow_egress_cidrs_list":{"value":["0.0.0.0/0"]},"var_secgroup_public_elb_allow_egress_cidrs_list":{"value":["0.0.0.0/0"]},"var_secgroup_public_elb_allow_ingress_waf_cidrs_list":{"value":["0.0.0.0/0"]},"var_secgroup_public_elb_group_name":{"value":"public-elb-secgroup"},"var_secgroup_public_elb_group_rule_list":{"value":["http-80-tcp"]},"var_secgroup_single_multiregion_rds_allowed_ingress_cidr":{"value":"10.25.0.0/16"},"var_secgroup_single_multiregion_rds_group_name":{"value":"single-multireg-rds-secgroup"},"vpc_cidr":{"value":"10.20.0.0/16"},"vpc_create_database_subnet":{"value":true},"vpc_database_subnet_group_name":{"value":"subnet-group"},"vpc_enable_hostname":{"value":true},"vpc_enable_nat_gateway":{"value":true},"vpc_enable_single_nat_gateway":{"value":true},"vpc_global_environment":{"value":"prod"},"vpc_name":{"value":"vpc"},"vpc_private_database_subnets_cidrs":{"value":["10.20.20.0/24","10.20.21.0/24","10.20.22.0/24"]},"vpc_private_subnets_cidrs":{"value":["10.20.10.0/24","10.20.11.0/24","10.20.12.0/24"]},"vpc_public_subnets_cidrs":{"value":["10.20.0.0/24","10.20.1.0/24","10.20.2.0/24"]}},"planned_values":{"outputs":{"output_iam_profile_name":{"sensitive":false,"type":"string","value":"prod-phlosys-ec2-profile"},"output_load_balancer_cname":{"sensitive":false},"output_multiregion_aurora_cluster_instances":{"sensitive":false},"output_multiregion_aurora_cluster_members":{"sensitive":false},"output_multiregion_aurora_cluster_reader_endpoint":{"sensitive":false},"output_multiregion_aurora_cluster_writer_endpoint":{"sensitive":false},"output_network_vpc_id":{"sensitive":false}},"root_module":{"child_modules":[{"resources":[{"address":"module.alb.aws_lb.lb","mode":"managed","type":"aws_lb","name":"lb","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"access_logs":[],"customer_owned_ipv4_pool":null,"desync_mitigation_mode":"defensive","drop_invalid_header_fields":false,"enable_cross_zone_load_balancing":null,"enable_deletion_protection":false,"enable_http2":true,"enable_waf_fail_open":false,"idle_timeout":60,"internal":false,"load_balancer_type":"application","name":"prod-phlosys-endpoint","name_prefix":null,"preserve_host_header":false,"tags":null,"timeouts":null},"sensitive_values":{"access_logs":[],"security_groups":[],"subnet_mapping":[],"subnets":[],"tags_all":{}}},{"address":"module.alb.aws_lb_listener.https_lb_listener","mode":"managed","type":"aws_lb_listener","name":"https_lb_listener","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"alpn_policy":null,"certificate_arn":null,"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"redirect":[],"type":"forward"}],"port":80,"protocol":"HTTP","tags":null,"timeouts":null},"sensitive_values":{"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"redirect":[]}],"tags_all":{}}},{"address":"module.alb.aws_lb_target_group.http_backend_target_group","mode":"managed","type":"aws_lb_target_group","name":"http_backend_target_group","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"connection_termination":false,"deregistration_delay":"300","health_check":[{"enabled":true,"healthy_threshold":3,"interval":6,"path":"/","port":"80","protocol":"HTTP","timeout":5,"unhealthy_threshold":3}],"lambda_multi_value_headers_enabled":false,"name":"prod-phlosys-defaultTG","name_prefix":null,"port":80,"protocol":"HTTP","proxy_protocol_v2":false,"slow_start":0,"tags":null,"target_type":"ip"},"sensitive_values":{"health_check":[{}],"stickiness":[],"tags_all":{}}}],"address":"module.alb"},{"resources":[{"address":"module.iam.aws_iam_instance_profile.ec2_instance_profile","mode":"managed","type":"aws_iam_instance_profile","name":"ec2_instance_profile","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"name":"prod-phlosys-ec2-profile","name_prefix":null,"path":"/","role":"prod-phlosys-ec2-role","tags":{"ENV":"prod","Name":"prod-phlosys-ec2-profile","Product":"phlosys","Terraform":"true"},"tags_all":{"ENV":"prod","Name":"prod-phlosys-ec2-profile","Product":"phlosys","Terraform":"true"}},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.iam.aws_iam_policy.ec2_s3_bucket_policy","mode":"managed","type":"aws_iam_policy","name":"ec2_s3_bucket_policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":null,"name":"prod-phlosys-custom-ec2-s3","name_prefix":null,"path":"/","policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"2\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"s3:ListAllMyBuckets\",\n      \"Resource\": \"*\"\n    },\n    {\n      \"Sid\": \"1\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"s3:PutBucket\",\n        \"s3:ListBucket\",\n        \"s3:GetObject\"\n      ],\n      \"Resource\": [\n        \"arn:aws:s3:::binaries.phlosys.prod/*\",\n        \"arn:aws:s3:::binaries.phlosys.prod*\",\n        \"arn:aws:s3:::assets.phlosys.prod/*\",\n        \"arn:aws:s3:::assets.phlosys.prod\"\n      ]\n    }\n  ]\n}","tags":{"ENV":"prod","Name":"prod-phlosys-custom-ec2-s3","Product":"phlosys","Terraform":"true"},"tags_all":{"ENV":"prod","Name":"prod-phlosys-custom-ec2-s3","Product":"phlosys","Terraform":"true"}},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.iam.aws_iam_policy.ec2_secrets_manager_readwrite_policy","mode":"managed","type":"aws_iam_policy","name":"ec2_secrets_manager_readwrite_policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":null,"name":"custom-secretsmanager","name_prefix":null,"path":"/","policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"2\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"secretsmanager:*\",\n      \"Resource\": \"arn:aws:secretsmanager:eu-west-1:265728079114:secret:prod-phlosys-vault*\"\n    }\n  ]\n}","tags":{"ENV":"prod","Name":"custom-secretsmanager","Product":"phlosys","Terraform":"true"},"tags_all":{"ENV":"prod","Name":"custom-secretsmanager","Product":"phlosys","Terraform":"true"}},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.iam.aws_iam_policy.ec2_session_manager_ssm_policy","mode":"managed","type":"aws_iam_policy","name":"ec2_session_manager_ssm_policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":null,"name":"prod-phlosys-custom-ec2-ssm","name_prefix":null,"path":"/","policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"2\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ssmmessages:OpenDataChannel\",\n        \"ssmmessages:OpenControlChannel\",\n        \"ssmmessages:CreateDataChannel\",\n        \"ssmmessages:CreateControlChannel\",\n        \"ssm:UpdateInstanceInformation\",\n        \"ssm:UpdateInstanceAssociationStatus\",\n        \"ssm:UpdateAssociationStatus\",\n        \"ssm:PutInventory\",\n        \"ssm:PutConfigurePackageResult\",\n        \"ssm:PutComplianceItems\",\n        \"ssm:ListInstanceAssociations\",\n        \"ssm:ListAssociations\",\n        \"ssm:GetParameters\",\n        \"ssm:GetManifest\",\n        \"ssm:GetDocument\",\n        \"ssm:GetDeployablePatchSnapshotForInstance\",\n        \"ssm:DescribeDocument\",\n        \"ssm:DescribeAssociation\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}","tags":{"ENV":"prod","Name":"prod-phlosys-custom-ec2-ssm","Product":"phlosys","Terraform":"true"},"tags_all":{"ENV":"prod","Name":"prod-phlosys-custom-ec2-ssm","Product":"phlosys","Terraform":"true"}},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.iam.aws_iam_policy.ecs_task_log-ssm-s3_policy","mode":"managed","type":"aws_iam_policy","name":"ecs_task_log-ssm-s3_policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":null,"name":"prod-phlosys-custom-ecs-exec","name_prefix":null,"path":"/","policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"1\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"logs:PutLogEvents\",\n        \"logs:CreateLogStream\"\n      ],\n      \"Resource\": \"*\"\n    },\n    {\n      \"Sid\": \"2\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ssm:GetParametersByPath\",\n        \"ssm:GetParameters\",\n        \"ssm:GetParameter\",\n        \"secretsmanager:GetSecretValue\"\n      ],\n      \"Resource\": \"*\"\n    },\n    {\n      \"Sid\": \"3\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"s3:PutObject\",\n        \"s3:GetObjectVersion\",\n        \"s3:GetObject\",\n        \"s3:GetBucketLocation\",\n        \"s3:GetBucketAcl\"\n      ],\n      \"Resource\": [\n        \"arn:aws:s3:::assets.phlosys.prod/*\",\n        \"arn:aws:s3:::assets.phlosys.prod\"\n      ]\n    },\n    {\n      \"Sid\": \"4\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ecs:ListContainerInstances\",\n        \"ecs:ListClusters\",\n        \"ecs:DescribeContainerInstances\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}","tags":{"ENV":"prod","Name":"prod-phlosys-custom-ecs-exec","Product":"phlosys","Terraform":"true"},"tags_all":{"ENV":"prod","Name":"prod-phlosys-custom-ecs-exec","Product":"phlosys","Terraform":"true"}},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.iam.aws_iam_role.ec2_iam_role","mode":"managed","type":"aws_iam_role","name":"ec2_iam_role","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"},\"Sid\":\"1\"}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"prod-phlosys-ec2-role","path":"/","permissions_boundary":null,"tags":{"ENV":"prod","Name":"prod-phlosys-ec2-role","Product":"phlosys","Terraform":"true"},"tags_all":{"ENV":"prod","Name":"prod-phlosys-ec2-role","Product":"phlosys","Terraform":"true"}},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[],"tags":{},"tags_all":{}}},{"address":"module.iam.aws_iam_role.ecs_task_iam_role","mode":"managed","type":"aws_iam_role","name":"ecs_task_iam_role","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Sid\":\"1\"}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"prod-phlosys-ecs-task-role","path":"/","permissions_boundary":null,"tags":{"ENV":"prod","Name":"prod-phlosys-ecs-task-role","Product":"phlosys","Terraform":"true"},"tags_all":{"ENV":"prod","Name":"prod-phlosys-ecs-task-role","Product":"phlosys","Terraform":"true"}},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[],"tags":{},"tags_all":{}}},{"address":"module.iam.aws_iam_role_policy_attachment.ec2_iam_role_s3_bucket_policy_attachment","mode":"managed","type":"aws_iam_role_policy_attachment","name":"ec2_iam_role_s3_bucket_policy_attachment","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"role":"prod-phlosys-ec2-role"},"sensitive_values":{}},{"address":"module.iam.aws_iam_role_policy_attachment.ec2_iam_role_secretsmanager_policy_attachment","mode":"managed","type":"aws_iam_role_policy_attachment","name":"ec2_iam_role_secretsmanager_policy_attachment","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"role":"prod-phlosys-ec2-role"},"sensitive_values":{}},{"address":"module.iam.aws_iam_role_policy_attachment.ec2_iam_role_session_manager_policy_attachment","mode":"managed","type":"aws_iam_role_policy_attachment","name":"ec2_iam_role_session_manager_policy_attachment","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"role":"prod-phlosys-ec2-role"},"sensitive_values":{}},{"address":"module.iam.aws_iam_role_policy_attachment.ecs_task_log-ssm-s3_policy_attachment","mode":"managed","type":"aws_iam_role_policy_attachment","name":"ecs_task_log-ssm-s3_policy_attachment","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"role":"prod-phlosys-ecs-task-role"},"sensitive_values":{}}],"address":"module.iam"},{"resources":[{"address":"module.jumpbox_instance.aws_instance.ec2_instance[0]","mode":"managed","type":"aws_instance","name":"ec2_instance","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"ami":"ami-0a2616929f1e63d91","associate_public_ip_address":true,"credit_specification":[],"get_password_data":false,"hibernation":null,"iam_instance_profile":"prod-phlosys-ec2-profile","instance_type":"t3.micro","key_name":"prod_phlosys.pem","launch_template":[],"private_ip":"10.20.0.20","root_block_device":[{"delete_on_termination":true,"encrypted":true,"tags":{"ENV":"prod","Name":"phlosys-jumpbox","Product":"phlosys","Terraform":"true"},"volume_size":30,"volume_type":"gp3"}],"source_dest_check":true,"tags":{"AName":"prod-phlosys-jumpbox-eu-west-1a","ENV":"prod","EnvName":"prod-phlosys-jumpbox","Name":"phlosys-jumpbox","Product":"phlosys","Terraform":"true"},"tags_all":{"AName":"prod-phlosys-jumpbox-eu-west-1a","ENV":"prod","EnvName":"prod-phlosys-jumpbox","Name":"phlosys-jumpbox","Product":"phlosys","Terraform":"true"},"timeouts":null,"user_data":"151eb222d62b73ac667104b0ad52c4e264f3fddd","user_data_replace_on_change":false,"volume_tags":null},"sensitive_values":{"capacity_reservation_specification":[],"credit_specification":[],"ebs_block_device":[],"enclave_options":[],"ephemeral_block_device":[],"ipv6_addresses":[],"launch_template":[],"maintenance_options":[],"metadata_options":[],"network_interface":[],"private_dns_name_options":[],"root_block_device":[{"tags":{}}],"secondary_private_ips":[],"security_groups":[],"tags":{},"tags_all":{},"vpc_security_group_ids":[]}}],"address":"module.jumpbox_instance"},{"resources":[{"address":"module.rds_aurora_multiregion.aws_db_parameter_group.aurora_multiregion_mysql_57_param_group","mode":"managed","type":"aws_db_parameter_group","name":"aurora_multiregion_mysql_57_param_group","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":"multiregion aurora rds paramerter group","family":"aurora-mysql5.7","name":"multiregion-param-group","parameter":[{"apply_method":"immediate","name":"max_connections","value":"500"}],"tags":{"ENV":"prod","Name":"multiregion-param-group","Product":"phlosys","Terraform":"true"},"tags_all":{"ENV":"prod","Name":"multiregion-param-group","Product":"phlosys","Terraform":"true"}},"sensitive_values":{"parameter":[{}],"tags":{},"tags_all":{}}},{"address":"module.rds_aurora_multiregion.aws_rds_cluster_parameter_group.aurora_multiregion_cluster_mysql_57_param_group","mode":"managed","type":"aws_rds_cluster_parameter_group","name":"aurora_multiregion_cluster_mysql_57_param_group","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":"multiregion aurora rds cluster param group","family":"aurora-mysql5.7","name":"prod-phlosys-multiregion-cluster-param-group","parameter":[],"tags":{"ENV":"prod","Name":"prod-phlosys-multiregion-cluster-param-group","Product":"phlosys","Terraform":"true"},"tags_all":{"ENV":"prod","Name":"prod-phlosys-multiregion-cluster-param-group","Product":"phlosys","Terraform":"true"}},"sensitive_values":{"parameter":[],"tags":{},"tags_all":{}}}],"address":"module.rds_aurora_multiregion","child_modules":[{"resources":[{"address":"module.rds_aurora_multiregion.module.rds_aurora.aws_rds_cluster.this[0]","mode":"managed","type":"aws_rds_cluster","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"allow_major_version_upgrade":false,"apply_immediately":true,"backtrack_window":null,"backup_retention_period":7,"cluster_identifier":"prod-phlosys-aurora","copy_tags_to_snapshot":false,"database_name":"phlosysdb","db_cluster_instance_class":null,"db_cluster_parameter_group_name":"prod-phlosys-multiregion-cluster-param-group","db_instance_parameter_group_name":null,"db_subnet_group_name":"prod-phlosys-subnet-group","deletion_protection":null,"enable_global_write_forwarding":false,"enable_http_endpoint":false,"enabled_cloudwatch_logs_exports":["audit","error","general","slowquery"],"engine":"aurora-mysql","engine_mode":"provisioned","engine_version":"5.7.mysql_aurora.2.10.2","global_cluster_identifier":null,"iam_database_authentication_enabled":true,"iops":null,"master_username":"admin","port":4417,"preferred_backup_window":"02:00-03:00","preferred_maintenance_window":"sun:05:00-sun:06:00","replication_source_identifier":null,"restore_to_point_in_time":[],"s3_import":[],"scaling_configuration":[],"serverlessv2_scaling_configuration":[],"skip_final_snapshot":true,"snapshot_identifier":null,"source_region":null,"storage_encrypted":true,"storage_type":null,"tags":{"ENV":"prod","Name":"prod-phlosys-aurora","Product":"phlosys","Terraform":"true"},"tags_all":{"ENV":"prod","Name":"prod-phlosys-aurora","Product":"phlosys","Terraform":"true"},"timeouts":{"create":null,"delete":null,"update":null}},"sensitive_values":{"availability_zones":[],"cluster_members":[],"enabled_cloudwatch_logs_exports":[false,false,false,false],"iam_roles":[],"master_password":true,"restore_to_point_in_time":[],"s3_import":[],"scaling_configuration":[],"serverlessv2_scaling_configuration":[],"tags":{},"tags_all":{},"timeouts":{},"vpc_security_group_ids":[]}},{"address":"module.rds_aurora_multiregion.module.rds_aurora.aws_rds_cluster_instance.this[\"1\"]","mode":"managed","type":"aws_rds_cluster_instance","name":"this","index":"1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"apply_immediately":true,"auto_minor_version_upgrade":true,"copy_tags_to_snapshot":false,"db_parameter_group_name":"multiregion-param-group","db_subnet_group_name":"prod-phlosys-subnet-group","engine":"aurora-mysql","engine_version":"5.7.mysql_aurora.2.10.2","identifier":"prod-phlosys-aurora-1","instance_class":"db.t3.micro","monitoring_interval":0,"preferred_maintenance_window":"sun:05:00-sun:06:00","promotion_tier":0,"publicly_accessible":false,"tags":{"ENV":"prod","Name":"prod-phlosys-aurora","Product":"phlosys","Terraform":"true"},"tags_all":{"ENV":"prod","Name":"prod-phlosys-aurora","Product":"phlosys","Terraform":"true"},"timeouts":{"create":null,"delete":null,"update":null}},"sensitive_values":{"tags":{},"tags_all":{},"timeouts":{}}},{"address":"module.rds_aurora_multiregion.module.rds_aurora.random_id.snapshot_identifier[0]","mode":"managed","type":"random_id","name":"snapshot_identifier","index":0,"provider_name":"registry.terraform.io/hashicorp/random","schema_version":0,"values":{"byte_length":4,"keepers":{"id":"prod-phlosys-aurora"},"prefix":null},"sensitive_values":{"keepers":{}}},{"address":"module.rds_aurora_multiregion.module.rds_aurora.random_password.master_password[0]","mode":"managed","type":"random_password","name":"master_password","index":0,"provider_name":"registry.terraform.io/hashicorp/random","schema_version":2,"values":{"keepers":null,"length":10,"lower":true,"min_lower":0,"min_numeric":0,"min_special":0,"min_upper":0,"number":true,"numeric":true,"override_special":null,"special":false,"upper":true},"sensitive_values":{}}],"address":"module.rds_aurora_multiregion.module.rds_aurora"}]},{"address":"module.securitygroups","child_modules":[{"resources":[{"address":"module.securitygroups.module.single_multiregion_rds_security_group.aws_security_group.this_name_prefix[0]","mode":"managed","type":"aws_security_group","name":"this_name_prefix","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"description":"Security Group for mysql on ports","name_prefix":"prod-phlosys-single-multireg-rds-secgroup-","revoke_rules_on_delete":false,"tags":{"ENV":"prod","Name":"prod-phlosys-single-multireg-rds-secgroup","Product":"phlosys","Terraform":"true"},"tags_all":{"ENV":"prod","Name":"prod-phlosys-single-multireg-rds-secgroup","Product":"phlosys","Terraform":"true"},"timeouts":{"create":"10m","delete":"15m"}},"sensitive_values":{"egress":[],"ingress":[],"tags":{},"tags_all":{},"timeouts":{}}},{"address":"module.securitygroups.module.single_multiregion_rds_security_group.aws_security_group_rule.computed_ingress_with_source_security_group_id[0]","mode":"managed","type":"aws_security_group_rule","name":"computed_ingress_with_source_security_group_id","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":null,"description":"Ingress Rule","from_port":4417,"ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"tcp","self":false,"timeouts":null,"to_port":4417,"type":"ingress"},"sensitive_values":{"prefix_list_ids":[]}},{"address":"module.securitygroups.module.single_multiregion_rds_security_group.aws_security_group_rule.computed_ingress_with_source_security_group_id[1]","mode":"managed","type":"aws_security_group_rule","name":"computed_ingress_with_source_security_group_id","index":1,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":null,"description":"Ingress Rule","from_port":4417,"ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"tcp","self":false,"timeouts":null,"to_port":4417,"type":"ingress"},"sensitive_values":{"prefix_list_ids":[]}},{"address":"module.securitygroups.module.single_multiregion_rds_security_group.aws_security_group_rule.egress_rules[0]","mode":"managed","type":"aws_security_group_rule","name":"egress_rules","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":["0.0.0.0/0"],"description":"All protocols","from_port":-1,"ipv6_cidr_blocks":["::/0"],"prefix_list_ids":[],"protocol":"-1","self":false,"timeouts":null,"to_port":-1,"type":"egress"},"sensitive_values":{"cidr_blocks":[false],"ipv6_cidr_blocks":[false],"prefix_list_ids":[]}},{"address":"module.securitygroups.module.single_multiregion_rds_security_group.aws_security_group_rule.ingress_with_cidr_blocks[0]","mode":"managed","type":"aws_security_group_rule","name":"ingress_with_cidr_blocks","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":["10.25.0.0/16"],"description":"access to mysql on ports","from_port":4417,"ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"tcp","self":false,"timeouts":null,"to_port":4417,"type":"ingress"},"sensitive_values":{"cidr_blocks":[false],"prefix_list_ids":[]}}],"address":"module.securitygroups.module.single_multiregion_rds_security_group"},{"resources":[{"address":"module.securitygroups.module.public_elb_security_group.aws_security_group.this_name_prefix[0]","mode":"managed","type":"aws_security_group","name":"this_name_prefix","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"description":"Security Group for elb","name_prefix":"prod-phlosys-public-elb-secgroup-","revoke_rules_on_delete":false,"tags":{"ENV":"prod","Name":"prod-phlosys-public-elb-secgroup","Product":"phlosys","Terraform":"true"},"tags_all":{"ENV":"prod","Name":"prod-phlosys-public-elb-secgroup","Product":"phlosys","Terraform":"true"},"timeouts":{"create":"10m","delete":"15m"}},"sensitive_values":{"egress":[],"ingress":[],"tags":{},"tags_all":{},"timeouts":{}}},{"address":"module.securitygroups.module.public_elb_security_group.aws_security_group_rule.egress_rules[0]","mode":"managed","type":"aws_security_group_rule","name":"egress_rules","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":["0.0.0.0/0"],"description":"All protocols","from_port":-1,"ipv6_cidr_blocks":["::/0"],"prefix_list_ids":[],"protocol":"-1","self":false,"timeouts":null,"to_port":-1,"type":"egress"},"sensitive_values":{"cidr_blocks":[false],"ipv6_cidr_blocks":[false],"prefix_list_ids":[]}},{"address":"module.securitygroups.module.public_elb_security_group.aws_security_group_rule.ingress_rules[0]","mode":"managed","type":"aws_security_group_rule","name":"ingress_rules","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":["0.0.0.0/0"],"description":"HTTP","from_port":80,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","self":false,"timeouts":null,"to_port":80,"type":"ingress"},"sensitive_values":{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[]}}],"address":"module.securitygroups.module.public_elb_security_group"},{"resources":[{"address":"module.securitygroups.module.jumpbox_ec2_security_group.aws_security_group.this_name_prefix[0]","mode":"managed","type":"aws_security_group","name":"this_name_prefix","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"description":"Security Group EC2","name_prefix":"prod-phlosys-jumpbox-secgroup-","revoke_rules_on_delete":false,"tags":{"ENV":"prod","Name":"prod-phlosys-jumpbox-secgroup","Product":"phlosys","Terraform":"true"},"tags_all":{"ENV":"prod","Name":"prod-phlosys-jumpbox-secgroup","Product":"phlosys","Terraform":"true"},"timeouts":{"create":"10m","delete":"15m"}},"sensitive_values":{"egress":[],"ingress":[],"tags":{},"tags_all":{},"timeouts":{}}},{"address":"module.securitygroups.module.jumpbox_ec2_security_group.aws_security_group_rule.egress_rules[0]","mode":"managed","type":"aws_security_group_rule","name":"egress_rules","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":["0.0.0.0/0"],"description":"All protocols","from_port":-1,"ipv6_cidr_blocks":["::/0"],"prefix_list_ids":[],"protocol":"-1","self":false,"timeouts":null,"to_port":-1,"type":"egress"},"sensitive_values":{"cidr_blocks":[false],"ipv6_cidr_blocks":[false],"prefix_list_ids":[]}},{"address":"module.securitygroups.module.jumpbox_ec2_security_group.aws_security_group_rule.ingress_rules[0]","mode":"managed","type":"aws_security_group_rule","name":"ingress_rules","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":["154.160.30.168/32"],"description":"SSH","from_port":22,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","self":false,"timeouts":null,"to_port":22,"type":"ingress"},"sensitive_values":{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[]}}],"address":"module.securitygroups.module.jumpbox_ec2_security_group"},{"resources":[{"address":"module.securitygroups.module.app_ecs_security_group.aws_security_group.this_name_prefix[0]","mode":"managed","type":"aws_security_group","name":"this_name_prefix","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"description":"Security Group EC2","name_prefix":"prod-phlosys-app-ecs-secgroup-","revoke_rules_on_delete":false,"tags":{"ENV":"prod","Name":"prod-phlosys-app-ecs-secgroup","Product":"phlosys","Terraform":"true"},"tags_all":{"ENV":"prod","Name":"prod-phlosys-app-ecs-secgroup","Product":"phlosys","Terraform":"true"},"timeouts":{"create":"10m","delete":"15m"}},"sensitive_values":{"egress":[],"ingress":[],"tags":{},"tags_all":{},"timeouts":{}}},{"address":"module.securitygroups.module.app_ecs_security_group.aws_security_group_rule.computed_ingress_with_source_security_group_id[0]","mode":"managed","type":"aws_security_group_rule","name":"computed_ingress_with_source_security_group_id","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":null,"description":"security group from elb to ecs tasks","from_port":80,"ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"tcp","self":false,"timeouts":null,"to_port":8090,"type":"ingress"},"sensitive_values":{"prefix_list_ids":[]}},{"address":"module.securitygroups.module.app_ecs_security_group.aws_security_group_rule.computed_ingress_with_source_security_group_id[1]","mode":"managed","type":"aws_security_group_rule","name":"computed_ingress_with_source_security_group_id","index":1,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":null,"description":"allow jumpbox to ecs_task","from_port":80,"ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"tcp","self":false,"timeouts":null,"to_port":8090,"type":"ingress"},"sensitive_values":{"prefix_list_ids":[]}},{"address":"module.securitygroups.module.app_ecs_security_group.aws_security_group_rule.egress_rules[0]","mode":"managed","type":"aws_security_group_rule","name":"egress_rules","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":["0.0.0.0/0"],"description":"All protocols","from_port":-1,"ipv6_cidr_blocks":["::/0"],"prefix_list_ids":[],"protocol":"-1","self":false,"timeouts":null,"to_port":-1,"type":"egress"},"sensitive_values":{"cidr_blocks":[false],"ipv6_cidr_blocks":[false],"prefix_list_ids":[]}},{"address":"module.securitygroups.module.app_ecs_security_group.aws_security_group_rule.ingress_with_self[0]","mode":"managed","type":"aws_security_group_rule","name":"ingress_with_self","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":null,"description":"self security group ecs tasks","from_port":80,"ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"tcp","self":true,"timeouts":null,"to_port":8090,"type":"ingress"},"sensitive_values":{"prefix_list_ids":[]}}],"address":"module.securitygroups.module.app_ecs_security_group"}]},{"address":"module.vpc","child_modules":[{"resources":[{"address":"module.vpc.module.network.aws_db_subnet_group.database[0]","mode":"managed","type":"aws_db_subnet_group","name":"database","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":"Database subnet group for prod-phlosys-vpc","name":"prod-phlosys-subnet-group","tags":{"ENV":"prod","Name":"prod-phlosys-vpc","Product":"phlosys","Terraform":"true"},"tags_all":{"ENV":"prod","Name":"prod-phlosys-vpc","Product":"phlosys","Terraform":"true"}},"sensitive_values":{"subnet_ids":[],"tags":{},"tags_all":{}}},{"address":"module.vpc.module.network.aws_eip.nat[0]","mode":"managed","type":"aws_eip","name":"nat","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"address":null,"associate_with_private_ip":null,"customer_owned_ipv4_pool":null,"tags":{"ENV":"prod","Name":"prod-phlosys-vpc","Product":"phlosys","Terraform":"true"},"tags_all":{"ENV":"prod","Name":"prod-phlosys-vpc","Product":"phlosys","Terraform":"true"},"timeouts":null,"vpc":true},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.vpc.module.network.aws_internet_gateway.this[0]","mode":"managed","type":"aws_internet_gateway","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"tags":{"ENV":"prod","Name":"prod-phlosys-vpc","Product":"phlosys","Terraform":"true"},"tags_all":{"ENV":"prod","Name":"prod-phlosys-vpc","Product":"phlosys","Terraform":"true"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.vpc.module.network.aws_nat_gateway.this[0]","mode":"managed","type":"aws_nat_gateway","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"connectivity_type":"public","tags":{"ENV":"prod","Name":"prod-phlosys-vpc","Product":"phlosys","Terraform":"true"},"tags_all":{"ENV":"prod","Name":"prod-phlosys-vpc","Product":"phlosys","Terraform":"true"}},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.vpc.module.network.aws_route.private_nat_gateway[0]","mode":"managed","type":"aws_route","name":"private_nat_gateway","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"carrier_gateway_id":null,"core_network_arn":null,"destination_cidr_block":"0.0.0.0/0","destination_ipv6_cidr_block":null,"destination_prefix_list_id":null,"egress_only_gateway_id":null,"gateway_id":null,"local_gateway_id":null,"timeouts":{"create":"5m","delete":null,"update":null},"transit_gateway_id":null,"vpc_endpoint_id":null,"vpc_peering_connection_id":null},"sensitive_values":{"timeouts":{}}},{"address":"module.vpc.module.network.aws_route.public_internet_gateway[0]","mode":"managed","type":"aws_route","name":"public_internet_gateway","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"carrier_gateway_id":null,"core_network_arn":null,"destination_cidr_block":"0.0.0.0/0","destination_ipv6_cidr_block":null,"destination_prefix_list_id":null,"egress_only_gateway_id":null,"local_gateway_id":null,"nat_gateway_id":null,"timeouts":{"create":"5m","delete":null,"update":null},"transit_gateway_id":null,"vpc_endpoint_id":null,"vpc_peering_connection_id":null},"sensitive_values":{"timeouts":{}}},{"address":"module.vpc.module.network.aws_route_table.private[0]","mode":"managed","type":"aws_route_table","name":"private","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"tags":{"ENV":"prod","Name":"prod-phlosys-vpc","Product":"phlosys","Terraform":"true"},"tags_all":{"ENV":"prod","Name":"prod-phlosys-vpc","Product":"phlosys","Terraform":"true"},"timeouts":null},"sensitive_values":{"propagating_vgws":[],"route":[],"tags":{},"tags_all":{}}},{"address":"module.vpc.module.network.aws_route_table.public[0]","mode":"managed","type":"aws_route_table","name":"public","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"tags":{"ENV":"prod","Name":"prod-phlosys-vpc","Product":"phlosys","Terraform":"true"},"tags_all":{"ENV":"prod","Name":"prod-phlosys-vpc","Product":"phlosys","Terraform":"true"},"timeouts":null},"sensitive_values":{"propagating_vgws":[],"route":[],"tags":{},"tags_all":{}}},{"address":"module.vpc.module.network.aws_route_table_association.database[0]","mode":"managed","type":"aws_route_table_association","name":"database","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null},"sensitive_values":{}},{"address":"module.vpc.module.network.aws_route_table_association.database[1]","mode":"managed","type":"aws_route_table_association","name":"database","index":1,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null},"sensitive_values":{}},{"address":"module.vpc.module.network.aws_route_table_association.database[2]","mode":"managed","type":"aws_route_table_association","name":"database","index":2,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null},"sensitive_values":{}},{"address":"module.vpc.module.network.aws_route_table_association.private[0]","mode":"managed","type":"aws_route_table_association","name":"private","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null},"sensitive_values":{}},{"address":"module.vpc.module.network.aws_route_table_association.private[1]","mode":"managed","type":"aws_route_table_association","name":"private","index":1,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null},"sensitive_values":{}},{"address":"module.vpc.module.network.aws_route_table_association.private[2]","mode":"managed","type":"aws_route_table_association","name":"private","index":2,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null},"sensitive_values":{}},{"address":"module.vpc.module.network.aws_route_table_association.public[0]","mode":"managed","type":"aws_route_table_association","name":"public","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null},"sensitive_values":{}},{"address":"module.vpc.module.network.aws_route_table_association.public[1]","mode":"managed","type":"aws_route_table_association","name":"public","index":1,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null},"sensitive_values":{}},{"address":"module.vpc.module.network.aws_route_table_association.public[2]","mode":"managed","type":"aws_route_table_association","name":"public","index":2,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null},"sensitive_values":{}},{"address":"module.vpc.module.network.aws_subnet.database[0]","mode":"managed","type":"aws_subnet","name":"database","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"eu-west-1a","cidr_block":"10.20.20.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"ENV":"prod","Name":"prod-phlosys-vpc-database-subnet","Product":"phlosys","Terraform":"true"},"tags_all":{"ENV":"prod","Name":"prod-phlosys-vpc-database-subnet","Product":"phlosys","Terraform":"true"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.vpc.module.network.aws_subnet.database[1]","mode":"managed","type":"aws_subnet","name":"database","index":1,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"eu-west-1b","cidr_block":"10.20.21.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"ENV":"prod","Name":"prod-phlosys-vpc-database-subnet","Product":"phlosys","Terraform":"true"},"tags_all":{"ENV":"prod","Name":"prod-phlosys-vpc-database-subnet","Product":"phlosys","Terraform":"true"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.vpc.module.network.aws_subnet.database[2]","mode":"managed","type":"aws_subnet","name":"database","index":2,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"eu-west-1c","cidr_block":"10.20.22.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"ENV":"prod","Name":"prod-phlosys-vpc-database-subnet","Product":"phlosys","Terraform":"true"},"tags_all":{"ENV":"prod","Name":"prod-phlosys-vpc-database-subnet","Product":"phlosys","Terraform":"true"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.vpc.module.network.aws_subnet.private[0]","mode":"managed","type":"aws_subnet","name":"private","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"eu-west-1a","cidr_block":"10.20.10.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"ENV":"prod","Name":"prod-phlosys-vpc-private-subnet","Product":"phlosys","Terraform":"true"},"tags_all":{"ENV":"prod","Name":"prod-phlosys-vpc-private-subnet","Product":"phlosys","Terraform":"true"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.vpc.module.network.aws_subnet.private[1]","mode":"managed","type":"aws_subnet","name":"private","index":1,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"eu-west-1b","cidr_block":"10.20.11.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"ENV":"prod","Name":"prod-phlosys-vpc-private-subnet","Product":"phlosys","Terraform":"true"},"tags_all":{"ENV":"prod","Name":"prod-phlosys-vpc-private-subnet","Product":"phlosys","Terraform":"true"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.vpc.module.network.aws_subnet.private[2]","mode":"managed","type":"aws_subnet","name":"private","index":2,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"eu-west-1c","cidr_block":"10.20.12.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"ENV":"prod","Name":"prod-phlosys-vpc-private-subnet","Product":"phlosys","Terraform":"true"},"tags_all":{"ENV":"prod","Name":"prod-phlosys-vpc-private-subnet","Product":"phlosys","Terraform":"true"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.vpc.module.network.aws_subnet.public[0]","mode":"managed","type":"aws_subnet","name":"public","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"eu-west-1a","cidr_block":"10.20.0.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":true,"outpost_arn":null,"tags":{"ENV":"prod","Name":"prod-phlosys-vpc-public-subnet","Product":"phlosys","Terraform":"true"},"tags_all":{"ENV":"prod","Name":"prod-phlosys-vpc-public-subnet","Product":"phlosys","Terraform":"true"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.vpc.module.network.aws_subnet.public[1]","mode":"managed","type":"aws_subnet","name":"public","index":1,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"eu-west-1b","cidr_block":"10.20.1.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":true,"outpost_arn":null,"tags":{"ENV":"prod","Name":"prod-phlosys-vpc-public-subnet","Product":"phlosys","Terraform":"true"},"tags_all":{"ENV":"prod","Name":"prod-phlosys-vpc-public-subnet","Product":"phlosys","Terraform":"true"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.vpc.module.network.aws_subnet.public[2]","mode":"managed","type":"aws_subnet","name":"public","index":2,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"eu-west-1c","cidr_block":"10.20.2.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":true,"outpost_arn":null,"tags":{"ENV":"prod","Name":"prod-phlosys-vpc-public-subnet","Product":"phlosys","Terraform":"true"},"tags_all":{"ENV":"prod","Name":"prod-phlosys-vpc-public-subnet","Product":"phlosys","Terraform":"true"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.vpc.module.network.aws_vpc.this[0]","mode":"managed","type":"aws_vpc","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_generated_ipv6_cidr_block":false,"cidr_block":"10.20.0.0/16","enable_dns_hostnames":true,"enable_dns_support":true,"instance_tenancy":"default","ipv4_ipam_pool_id":null,"ipv4_netmask_length":null,"ipv6_ipam_pool_id":null,"ipv6_netmask_length":null,"tags":{"ENV":"prod","Name":"prod-phlosys-vpc","Product":"phlosys","Terraform":"true"},"tags_all":{"ENV":"prod","Name":"prod-phlosys-vpc","Product":"phlosys","Terraform":"true"}},"sensitive_values":{"tags":{},"tags_all":{}}}],"address":"module.vpc.module.network"}]}]}},"resource_changes":[{"address":"module.alb.aws_lb.lb","module_address":"module.alb","mode":"managed","type":"aws_lb","name":"lb","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"access_logs":[],"customer_owned_ipv4_pool":null,"desync_mitigation_mode":"defensive","drop_invalid_header_fields":false,"enable_cross_zone_load_balancing":null,"enable_deletion_protection":false,"enable_http2":true,"enable_waf_fail_open":false,"idle_timeout":60,"internal":false,"load_balancer_type":"application","name":"prod-phlosys-endpoint","name_prefix":null,"preserve_host_header":false,"tags":null,"timeouts":null},"after_unknown":{"access_logs":[],"arn":true,"arn_suffix":true,"dns_name":true,"id":true,"ip_address_type":true,"security_groups":true,"subnet_mapping":true,"subnets":true,"tags_all":true,"vpc_id":true,"zone_id":true},"before_sensitive":false,"after_sensitive":{"access_logs":[],"security_groups":[],"subnet_mapping":[],"subnets":[],"tags_all":{}}}},{"address":"module.alb.aws_lb_listener.https_lb_listener","module_address":"module.alb","mode":"managed","type":"aws_lb_listener","name":"https_lb_listener","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"alpn_policy":null,"certificate_arn":null,"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"redirect":[],"type":"forward"}],"port":80,"protocol":"HTTP","tags":null,"timeouts":null},"after_unknown":{"arn":true,"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"order":true,"redirect":[],"target_group_arn":true}],"id":true,"load_balancer_arn":true,"ssl_policy":true,"tags_all":true},"before_sensitive":false,"after_sensitive":{"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"redirect":[]}],"tags_all":{}}}},{"address":"module.alb.aws_lb_target_group.http_backend_target_group","module_address":"module.alb","mode":"managed","type":"aws_lb_target_group","name":"http_backend_target_group","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"connection_termination":false,"deregistration_delay":"300","health_check":[{"enabled":true,"healthy_threshold":3,"interval":6,"path":"/","port":"80","protocol":"HTTP","timeout":5,"unhealthy_threshold":3}],"lambda_multi_value_headers_enabled":false,"name":"prod-phlosys-defaultTG","name_prefix":null,"port":80,"protocol":"HTTP","proxy_protocol_v2":false,"slow_start":0,"tags":null,"target_type":"ip"},"after_unknown":{"arn":true,"arn_suffix":true,"health_check":[{"matcher":true}],"id":true,"load_balancing_algorithm_type":true,"preserve_client_ip":true,"protocol_version":true,"stickiness":true,"tags_all":true,"vpc_id":true},"before_sensitive":false,"after_sensitive":{"health_check":[{}],"stickiness":[],"tags_all":{}}}},{"address":"module.iam.aws_iam_instance_profile.ec2_instance_profile","module_address":"module.iam","mode":"managed","type":"aws_iam_instance_profile","name":"ec2_instance_profile","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"name":"prod-phlosys-ec2-profile","name_prefix":null,"path":"/","role":"prod-phlosys-ec2-role","tags":{"ENV":"prod","Name":"prod-phlosys-ec2-profile","Product":"phlosys","Terraform":"true"},"tags_all":{"ENV":"prod","Name":"prod-phlosys-ec2-profile","Product":"phlosys","Terraform":"true"}},"after_unknown":{"arn":true,"create_date":true,"id":true,"tags":{},"tags_all":{},"unique_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.iam.aws_iam_policy.ec2_s3_bucket_policy","module_address":"module.iam","mode":"managed","type":"aws_iam_policy","name":"ec2_s3_bucket_policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":null,"name":"prod-phlosys-custom-ec2-s3","name_prefix":null,"path":"/","policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"2\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"s3:ListAllMyBuckets\",\n      \"Resource\": \"*\"\n    },\n    {\n      \"Sid\": \"1\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"s3:PutBucket\",\n        \"s3:ListBucket\",\n        \"s3:GetObject\"\n      ],\n      \"Resource\": [\n        \"arn:aws:s3:::binaries.phlosys.prod/*\",\n        \"arn:aws:s3:::binaries.phlosys.prod*\",\n        \"arn:aws:s3:::assets.phlosys.prod/*\",\n        \"arn:aws:s3:::assets.phlosys.prod\"\n      ]\n    }\n  ]\n}","tags":{"ENV":"prod","Name":"prod-phlosys-custom-ec2-s3","Product":"phlosys","Terraform":"true"},"tags_all":{"ENV":"prod","Name":"prod-phlosys-custom-ec2-s3","Product":"phlosys","Terraform":"true"}},"after_unknown":{"arn":true,"id":true,"policy_id":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.iam.aws_iam_policy.ec2_secrets_manager_readwrite_policy","module_address":"module.iam","mode":"managed","type":"aws_iam_policy","name":"ec2_secrets_manager_readwrite_policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":null,"name":"custom-secretsmanager","name_prefix":null,"path":"/","policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"2\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"secretsmanager:*\",\n      \"Resource\": \"arn:aws:secretsmanager:eu-west-1:265728079114:secret:prod-phlosys-vault*\"\n    }\n  ]\n}","tags":{"ENV":"prod","Name":"custom-secretsmanager","Product":"phlosys","Terraform":"true"},"tags_all":{"ENV":"prod","Name":"custom-secretsmanager","Product":"phlosys","Terraform":"true"}},"after_unknown":{"arn":true,"id":true,"policy_id":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.iam.aws_iam_policy.ec2_session_manager_ssm_policy","module_address":"module.iam","mode":"managed","type":"aws_iam_policy","name":"ec2_session_manager_ssm_policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":null,"name":"prod-phlosys-custom-ec2-ssm","name_prefix":null,"path":"/","policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"2\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ssmmessages:OpenDataChannel\",\n        \"ssmmessages:OpenControlChannel\",\n        \"ssmmessages:CreateDataChannel\",\n        \"ssmmessages:CreateControlChannel\",\n        \"ssm:UpdateInstanceInformation\",\n        \"ssm:UpdateInstanceAssociationStatus\",\n        \"ssm:UpdateAssociationStatus\",\n        \"ssm:PutInventory\",\n        \"ssm:PutConfigurePackageResult\",\n        \"ssm:PutComplianceItems\",\n        \"ssm:ListInstanceAssociations\",\n        \"ssm:ListAssociations\",\n        \"ssm:GetParameters\",\n        \"ssm:GetManifest\",\n        \"ssm:GetDocument\",\n        \"ssm:GetDeployablePatchSnapshotForInstance\",\n        \"ssm:DescribeDocument\",\n        \"ssm:DescribeAssociation\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}","tags":{"ENV":"prod","Name":"prod-phlosys-custom-ec2-ssm","Product":"phlosys","Terraform":"true"},"tags_all":{"ENV":"prod","Name":"prod-phlosys-custom-ec2-ssm","Product":"phlosys","Terraform":"true"}},"after_unknown":{"arn":true,"id":true,"policy_id":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.iam.aws_iam_policy.ecs_task_log-ssm-s3_policy","module_address":"module.iam","mode":"managed","type":"aws_iam_policy","name":"ecs_task_log-ssm-s3_policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":null,"name":"prod-phlosys-custom-ecs-exec","name_prefix":null,"path":"/","policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"1\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"logs:PutLogEvents\",\n        \"logs:CreateLogStream\"\n      ],\n      \"Resource\": \"*\"\n    },\n    {\n      \"Sid\": \"2\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ssm:GetParametersByPath\",\n        \"ssm:GetParameters\",\n        \"ssm:GetParameter\",\n        \"secretsmanager:GetSecretValue\"\n      ],\n      \"Resource\": \"*\"\n    },\n    {\n      \"Sid\": \"3\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"s3:PutObject\",\n        \"s3:GetObjectVersion\",\n        \"s3:GetObject\",\n        \"s3:GetBucketLocation\",\n        \"s3:GetBucketAcl\"\n      ],\n      \"Resource\": [\n        \"arn:aws:s3:::assets.phlosys.prod/*\",\n        \"arn:aws:s3:::assets.phlosys.prod\"\n      ]\n    },\n    {\n      \"Sid\": \"4\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ecs:ListContainerInstances\",\n        \"ecs:ListClusters\",\n        \"ecs:DescribeContainerInstances\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}","tags":{"ENV":"prod","Name":"prod-phlosys-custom-ecs-exec","Product":"phlosys","Terraform":"true"},"tags_all":{"ENV":"prod","Name":"prod-phlosys-custom-ecs-exec","Product":"phlosys","Terraform":"true"}},"after_unknown":{"arn":true,"id":true,"policy_id":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.iam.aws_iam_role.ec2_iam_role","module_address":"module.iam","mode":"managed","type":"aws_iam_role","name":"ec2_iam_role","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"},\"Sid\":\"1\"}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"prod-phlosys-ec2-role","path":"/","permissions_boundary":null,"tags":{"ENV":"prod","Name":"prod-phlosys-ec2-role","Product":"phlosys","Terraform":"true"},"tags_all":{"ENV":"prod","Name":"prod-phlosys-ec2-role","Product":"phlosys","Terraform":"true"}},"after_unknown":{"arn":true,"create_date":true,"id":true,"inline_policy":true,"managed_policy_arns":true,"name_prefix":true,"tags":{},"tags_all":{},"unique_id":true},"before_sensitive":false,"after_sensitive":{"inline_policy":[],"managed_policy_arns":[],"tags":{},"tags_all":{}}}},{"address":"module.iam.aws_iam_role.ecs_task_iam_role","module_address":"module.iam","mode":"managed","type":"aws_iam_role","name":"ecs_task_iam_role","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Sid\":\"1\"}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"prod-phlosys-ecs-task-role","path":"/","permissions_boundary":null,"tags":{"ENV":"prod","Name":"prod-phlosys-ecs-task-role","Product":"phlosys","Terraform":"true"},"tags_all":{"ENV":"prod","Name":"prod-phlosys-ecs-task-role","Product":"phlosys","Terraform":"true"}},"after_unknown":{"arn":true,"create_date":true,"id":true,"inline_policy":true,"managed_policy_arns":true,"name_prefix":true,"tags":{},"tags_all":{},"unique_id":true},"before_sensitive":false,"after_sensitive":{"inline_policy":[],"managed_policy_arns":[],"tags":{},"tags_all":{}}}},{"address":"module.iam.aws_iam_role_policy_attachment.ec2_iam_role_s3_bucket_policy_attachment","module_address":"module.iam","mode":"managed","type":"aws_iam_role_policy_attachment","name":"ec2_iam_role_s3_bucket_policy_attachment","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"role":"prod-phlosys-ec2-role"},"after_unknown":{"id":true,"policy_arn":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.iam.aws_iam_role_policy_attachment.ec2_iam_role_secretsmanager_policy_attachment","module_address":"module.iam","mode":"managed","type":"aws_iam_role_policy_attachment","name":"ec2_iam_role_secretsmanager_policy_attachment","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"role":"prod-phlosys-ec2-role"},"after_unknown":{"id":true,"policy_arn":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.iam.aws_iam_role_policy_attachment.ec2_iam_role_session_manager_policy_attachment","module_address":"module.iam","mode":"managed","type":"aws_iam_role_policy_attachment","name":"ec2_iam_role_session_manager_policy_attachment","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"role":"prod-phlosys-ec2-role"},"after_unknown":{"id":true,"policy_arn":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.iam.aws_iam_role_policy_attachment.ecs_task_log-ssm-s3_policy_attachment","module_address":"module.iam","mode":"managed","type":"aws_iam_role_policy_attachment","name":"ecs_task_log-ssm-s3_policy_attachment","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"role":"prod-phlosys-ecs-task-role"},"after_unknown":{"id":true,"policy_arn":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.jumpbox_instance.aws_instance.ec2_instance[0]","module_address":"module.jumpbox_instance","mode":"managed","type":"aws_instance","name":"ec2_instance","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"ami":"ami-0a2616929f1e63d91","associate_public_ip_address":true,"credit_specification":[],"get_password_data":false,"hibernation":null,"iam_instance_profile":"prod-phlosys-ec2-profile","instance_type":"t3.micro","key_name":"prod_phlosys.pem","launch_template":[],"private_ip":"10.20.0.20","root_block_device":[{"delete_on_termination":true,"encrypted":true,"tags":{"ENV":"prod","Name":"phlosys-jumpbox","Product":"phlosys","Terraform":"true"},"volume_size":30,"volume_type":"gp3"}],"source_dest_check":true,"tags":{"AName":"prod-phlosys-jumpbox-eu-west-1a","ENV":"prod","EnvName":"prod-phlosys-jumpbox","Name":"phlosys-jumpbox","Product":"phlosys","Terraform":"true"},"tags_all":{"AName":"prod-phlosys-jumpbox-eu-west-1a","ENV":"prod","EnvName":"prod-phlosys-jumpbox","Name":"phlosys-jumpbox","Product":"phlosys","Terraform":"true"},"timeouts":null,"user_data":"151eb222d62b73ac667104b0ad52c4e264f3fddd","user_data_replace_on_change":false,"volume_tags":null},"after_unknown":{"arn":true,"availability_zone":true,"capacity_reservation_specification":true,"cpu_core_count":true,"cpu_threads_per_core":true,"credit_specification":[],"disable_api_stop":true,"disable_api_termination":true,"ebs_block_device":true,"ebs_optimized":true,"enclave_options":true,"ephemeral_block_device":true,"host_id":true,"id":true,"instance_initiated_shutdown_behavior":true,"instance_state":true,"ipv6_address_count":true,"ipv6_addresses":true,"launch_template":[],"maintenance_options":true,"metadata_options":true,"monitoring":true,"network_interface":true,"outpost_arn":true,"password_data":true,"placement_group":true,"placement_partition_number":true,"primary_network_interface_id":true,"private_dns":true,"private_dns_name_options":true,"public_dns":true,"public_ip":true,"root_block_device":[{"device_name":true,"iops":true,"kms_key_id":true,"tags":{},"throughput":true,"volume_id":true}],"secondary_private_ips":true,"security_groups":true,"subnet_id":true,"tags":{},"tags_all":{},"tenancy":true,"user_data_base64":true,"vpc_security_group_ids":true},"before_sensitive":false,"after_sensitive":{"capacity_reservation_specification":[],"credit_specification":[],"ebs_block_device":[],"enclave_options":[],"ephemeral_block_device":[],"ipv6_addresses":[],"launch_template":[],"maintenance_options":[],"metadata_options":[],"network_interface":[],"private_dns_name_options":[],"root_block_device":[{"tags":{}}],"secondary_private_ips":[],"security_groups":[],"tags":{},"tags_all":{},"vpc_security_group_ids":[]}}},{"address":"module.rds_aurora_multiregion.aws_db_parameter_group.aurora_multiregion_mysql_57_param_group","module_address":"module.rds_aurora_multiregion","mode":"managed","type":"aws_db_parameter_group","name":"aurora_multiregion_mysql_57_param_group","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"multiregion aurora rds paramerter group","family":"aurora-mysql5.7","name":"multiregion-param-group","parameter":[{"apply_method":"immediate","name":"max_connections","value":"500"}],"tags":{"ENV":"prod","Name":"multiregion-param-group","Product":"phlosys","Terraform":"true"},"tags_all":{"ENV":"prod","Name":"multiregion-param-group","Product":"phlosys","Terraform":"true"}},"after_unknown":{"arn":true,"id":true,"name_prefix":true,"parameter":[{}],"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"parameter":[{}],"tags":{},"tags_all":{}}}},{"address":"module.rds_aurora_multiregion.aws_rds_cluster_parameter_group.aurora_multiregion_cluster_mysql_57_param_group","module_address":"module.rds_aurora_multiregion","mode":"managed","type":"aws_rds_cluster_parameter_group","name":"aurora_multiregion_cluster_mysql_57_param_group","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"multiregion aurora rds cluster param group","family":"aurora-mysql5.7","name":"prod-phlosys-multiregion-cluster-param-group","parameter":[],"tags":{"ENV":"prod","Name":"prod-phlosys-multiregion-cluster-param-group","Product":"phlosys","Terraform":"true"},"tags_all":{"ENV":"prod","Name":"prod-phlosys-multiregion-cluster-param-group","Product":"phlosys","Terraform":"true"}},"after_unknown":{"arn":true,"id":true,"name_prefix":true,"parameter":[],"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"parameter":[],"tags":{},"tags_all":{}}}},{"address":"module.rds_aurora_multiregion.module.rds_aurora.aws_rds_cluster.this[0]","module_address":"module.rds_aurora_multiregion.module.rds_aurora","mode":"managed","type":"aws_rds_cluster","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"allow_major_version_upgrade":false,"apply_immediately":true,"backtrack_window":null,"backup_retention_period":7,"cluster_identifier":"prod-phlosys-aurora","copy_tags_to_snapshot":false,"database_name":"phlosysdb","db_cluster_instance_class":null,"db_cluster_parameter_group_name":"prod-phlosys-multiregion-cluster-param-group","db_instance_parameter_group_name":null,"db_subnet_group_name":"prod-phlosys-subnet-group","deletion_protection":null,"enable_global_write_forwarding":false,"enable_http_endpoint":false,"enabled_cloudwatch_logs_exports":["audit","error","general","slowquery"],"engine":"aurora-mysql","engine_mode":"provisioned","engine_version":"5.7.mysql_aurora.2.10.2","global_cluster_identifier":null,"iam_database_authentication_enabled":true,"iops":null,"master_username":"admin","port":4417,"preferred_backup_window":"02:00-03:00","preferred_maintenance_window":"sun:05:00-sun:06:00","replication_source_identifier":null,"restore_to_point_in_time":[],"s3_import":[],"scaling_configuration":[],"serverlessv2_scaling_configuration":[],"skip_final_snapshot":true,"snapshot_identifier":null,"source_region":null,"storage_encrypted":true,"storage_type":null,"tags":{"ENV":"prod","Name":"prod-phlosys-aurora","Product":"phlosys","Terraform":"true"},"tags_all":{"ENV":"prod","Name":"prod-phlosys-aurora","Product":"phlosys","Terraform":"true"},"timeouts":{"create":null,"delete":null,"update":null}},"after_unknown":{"allocated_storage":true,"arn":true,"availability_zones":true,"cluster_identifier_prefix":true,"cluster_members":true,"cluster_resource_id":true,"enabled_cloudwatch_logs_exports":[false,false,false,false],"endpoint":true,"engine_version_actual":true,"final_snapshot_identifier":true,"hosted_zone_id":true,"iam_roles":true,"id":true,"kms_key_id":true,"master_password":true,"reader_endpoint":true,"restore_to_point_in_time":[],"s3_import":[],"scaling_configuration":[],"serverlessv2_scaling_configuration":[],"tags":{},"tags_all":{},"timeouts":{},"vpc_security_group_ids":true},"before_sensitive":false,"after_sensitive":{"availability_zones":[],"cluster_members":[],"enabled_cloudwatch_logs_exports":[false,false,false,false],"iam_roles":[],"master_password":true,"restore_to_point_in_time":[],"s3_import":[],"scaling_configuration":[],"serverlessv2_scaling_configuration":[],"tags":{},"tags_all":{},"timeouts":{},"vpc_security_group_ids":[]}}},{"address":"module.rds_aurora_multiregion.module.rds_aurora.aws_rds_cluster_instance.this[\"1\"]","module_address":"module.rds_aurora_multiregion.module.rds_aurora","mode":"managed","type":"aws_rds_cluster_instance","name":"this","index":"1","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"apply_immediately":true,"auto_minor_version_upgrade":true,"copy_tags_to_snapshot":false,"db_parameter_group_name":"multiregion-param-group","db_subnet_group_name":"prod-phlosys-subnet-group","engine":"aurora-mysql","engine_version":"5.7.mysql_aurora.2.10.2","identifier":"prod-phlosys-aurora-1","instance_class":"db.t3.micro","monitoring_interval":0,"preferred_maintenance_window":"sun:05:00-sun:06:00","promotion_tier":0,"publicly_accessible":false,"tags":{"ENV":"prod","Name":"prod-phlosys-aurora","Product":"phlosys","Terraform":"true"},"tags_all":{"ENV":"prod","Name":"prod-phlosys-aurora","Product":"phlosys","Terraform":"true"},"timeouts":{"create":null,"delete":null,"update":null}},"after_unknown":{"arn":true,"availability_zone":true,"ca_cert_identifier":true,"cluster_identifier":true,"dbi_resource_id":true,"endpoint":true,"engine_version_actual":true,"id":true,"identifier_prefix":true,"kms_key_id":true,"monitoring_role_arn":true,"performance_insights_enabled":true,"performance_insights_kms_key_id":true,"performance_insights_retention_period":true,"port":true,"preferred_backup_window":true,"storage_encrypted":true,"tags":{},"tags_all":{},"timeouts":{},"writer":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{},"timeouts":{}}}},{"address":"module.rds_aurora_multiregion.module.rds_aurora.random_id.snapshot_identifier[0]","module_address":"module.rds_aurora_multiregion.module.rds_aurora","mode":"managed","type":"random_id","name":"snapshot_identifier","index":0,"provider_name":"registry.terraform.io/hashicorp/random","change":{"actions":["create"],"before":null,"after":{"byte_length":4,"keepers":{"id":"prod-phlosys-aurora"},"prefix":null},"after_unknown":{"b64_std":true,"b64_url":true,"dec":true,"hex":true,"id":true,"keepers":{}},"before_sensitive":false,"after_sensitive":{"keepers":{}}}},{"address":"module.rds_aurora_multiregion.module.rds_aurora.random_password.master_password[0]","module_address":"module.rds_aurora_multiregion.module.rds_aurora","mode":"managed","type":"random_password","name":"master_password","index":0,"provider_name":"registry.terraform.io/hashicorp/random","change":{"actions":["create"],"before":null,"after":{"keepers":null,"length":10,"lower":true,"min_lower":0,"min_numeric":0,"min_special":0,"min_upper":0,"number":true,"numeric":true,"override_special":null,"special":false,"upper":true},"after_unknown":{"bcrypt_hash":true,"id":true,"result":true},"before_sensitive":false,"after_sensitive":{"bcrypt_hash":true,"result":true}}},{"address":"module.securitygroups.module.app_ecs_security_group.aws_security_group.this_name_prefix[0]","module_address":"module.securitygroups.module.app_ecs_security_group","mode":"managed","type":"aws_security_group","name":"this_name_prefix","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"Security Group EC2","name_prefix":"prod-phlosys-app-ecs-secgroup-","revoke_rules_on_delete":false,"tags":{"ENV":"prod","Name":"prod-phlosys-app-ecs-secgroup","Product":"phlosys","Terraform":"true"},"tags_all":{"ENV":"prod","Name":"prod-phlosys-app-ecs-secgroup","Product":"phlosys","Terraform":"true"},"timeouts":{"create":"10m","delete":"15m"}},"after_unknown":{"arn":true,"egress":true,"id":true,"ingress":true,"name":true,"owner_id":true,"tags":{},"tags_all":{},"timeouts":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"egress":[],"ingress":[],"tags":{},"tags_all":{},"timeouts":{}}}},{"address":"module.securitygroups.module.app_ecs_security_group.aws_security_group_rule.computed_ingress_with_source_security_group_id[0]","module_address":"module.securitygroups.module.app_ecs_security_group","mode":"managed","type":"aws_security_group_rule","name":"computed_ingress_with_source_security_group_id","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_blocks":null,"description":"security group from elb to ecs tasks","from_port":80,"ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"tcp","self":false,"timeouts":null,"to_port":8090,"type":"ingress"},"after_unknown":{"id":true,"prefix_list_ids":[],"security_group_id":true,"source_security_group_id":true},"before_sensitive":false,"after_sensitive":{"prefix_list_ids":[]}}},{"address":"module.securitygroups.module.app_ecs_security_group.aws_security_group_rule.computed_ingress_with_source_security_group_id[1]","module_address":"module.securitygroups.module.app_ecs_security_group","mode":"managed","type":"aws_security_group_rule","name":"computed_ingress_with_source_security_group_id","index":1,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_blocks":null,"description":"allow jumpbox to ecs_task","from_port":80,"ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"tcp","self":false,"timeouts":null,"to_port":8090,"type":"ingress"},"after_unknown":{"id":true,"prefix_list_ids":[],"security_group_id":true,"source_security_group_id":true},"before_sensitive":false,"after_sensitive":{"prefix_list_ids":[]}}},{"address":"module.securitygroups.module.app_ecs_security_group.aws_security_group_rule.egress_rules[0]","module_address":"module.securitygroups.module.app_ecs_security_group","mode":"managed","type":"aws_security_group_rule","name":"egress_rules","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_blocks":["0.0.0.0/0"],"description":"All protocols","from_port":-1,"ipv6_cidr_blocks":["::/0"],"prefix_list_ids":[],"protocol":"-1","self":false,"timeouts":null,"to_port":-1,"type":"egress"},"after_unknown":{"cidr_blocks":[false],"id":true,"ipv6_cidr_blocks":[false],"prefix_list_ids":[],"security_group_id":true,"source_security_group_id":true},"before_sensitive":false,"after_sensitive":{"cidr_blocks":[false],"ipv6_cidr_blocks":[false],"prefix_list_ids":[]}}},{"address":"module.securitygroups.module.app_ecs_security_group.aws_security_group_rule.ingress_with_self[0]","module_address":"module.securitygroups.module.app_ecs_security_group","mode":"managed","type":"aws_security_group_rule","name":"ingress_with_self","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_blocks":null,"description":"self security group ecs tasks","from_port":80,"ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"tcp","self":true,"timeouts":null,"to_port":8090,"type":"ingress"},"after_unknown":{"id":true,"prefix_list_ids":[],"security_group_id":true,"source_security_group_id":true},"before_sensitive":false,"after_sensitive":{"prefix_list_ids":[]}}},{"address":"module.securitygroups.module.jumpbox_ec2_security_group.aws_security_group.this_name_prefix[0]","module_address":"module.securitygroups.module.jumpbox_ec2_security_group","mode":"managed","type":"aws_security_group","name":"this_name_prefix","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"Security Group EC2","name_prefix":"prod-phlosys-jumpbox-secgroup-","revoke_rules_on_delete":false,"tags":{"ENV":"prod","Name":"prod-phlosys-jumpbox-secgroup","Product":"phlosys","Terraform":"true"},"tags_all":{"ENV":"prod","Name":"prod-phlosys-jumpbox-secgroup","Product":"phlosys","Terraform":"true"},"timeouts":{"create":"10m","delete":"15m"}},"after_unknown":{"arn":true,"egress":true,"id":true,"ingress":true,"name":true,"owner_id":true,"tags":{},"tags_all":{},"timeouts":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"egress":[],"ingress":[],"tags":{},"tags_all":{},"timeouts":{}}}},{"address":"module.securitygroups.module.jumpbox_ec2_security_group.aws_security_group_rule.egress_rules[0]","module_address":"module.securitygroups.module.jumpbox_ec2_security_group","mode":"managed","type":"aws_security_group_rule","name":"egress_rules","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_blocks":["0.0.0.0/0"],"description":"All protocols","from_port":-1,"ipv6_cidr_blocks":["::/0"],"prefix_list_ids":[],"protocol":"-1","self":false,"timeouts":null,"to_port":-1,"type":"egress"},"after_unknown":{"cidr_blocks":[false],"id":true,"ipv6_cidr_blocks":[false],"prefix_list_ids":[],"security_group_id":true,"source_security_group_id":true},"before_sensitive":false,"after_sensitive":{"cidr_blocks":[false],"ipv6_cidr_blocks":[false],"prefix_list_ids":[]}}},{"address":"module.securitygroups.module.jumpbox_ec2_security_group.aws_security_group_rule.ingress_rules[0]","module_address":"module.securitygroups.module.jumpbox_ec2_security_group","mode":"managed","type":"aws_security_group_rule","name":"ingress_rules","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_blocks":["154.160.30.168/32"],"description":"SSH","from_port":22,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","self":false,"timeouts":null,"to_port":22,"type":"ingress"},"after_unknown":{"cidr_blocks":[false],"id":true,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_group_id":true,"source_security_group_id":true},"before_sensitive":false,"after_sensitive":{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[]}}},{"address":"module.securitygroups.module.public_elb_security_group.aws_security_group.this_name_prefix[0]","module_address":"module.securitygroups.module.public_elb_security_group","mode":"managed","type":"aws_security_group","name":"this_name_prefix","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"Security Group for elb","name_prefix":"prod-phlosys-public-elb-secgroup-","revoke_rules_on_delete":false,"tags":{"ENV":"prod","Name":"prod-phlosys-public-elb-secgroup","Product":"phlosys","Terraform":"true"},"tags_all":{"ENV":"prod","Name":"prod-phlosys-public-elb-secgroup","Product":"phlosys","Terraform":"true"},"timeouts":{"create":"10m","delete":"15m"}},"after_unknown":{"arn":true,"egress":true,"id":true,"ingress":true,"name":true,"owner_id":true,"tags":{},"tags_all":{},"timeouts":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"egress":[],"ingress":[],"tags":{},"tags_all":{},"timeouts":{}}}},{"address":"module.securitygroups.module.public_elb_security_group.aws_security_group_rule.egress_rules[0]","module_address":"module.securitygroups.module.public_elb_security_group","mode":"managed","type":"aws_security_group_rule","name":"egress_rules","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_blocks":["0.0.0.0/0"],"description":"All protocols","from_port":-1,"ipv6_cidr_blocks":["::/0"],"prefix_list_ids":[],"protocol":"-1","self":false,"timeouts":null,"to_port":-1,"type":"egress"},"after_unknown":{"cidr_blocks":[false],"id":true,"ipv6_cidr_blocks":[false],"prefix_list_ids":[],"security_group_id":true,"source_security_group_id":true},"before_sensitive":false,"after_sensitive":{"cidr_blocks":[false],"ipv6_cidr_blocks":[false],"prefix_list_ids":[]}}},{"address":"module.securitygroups.module.public_elb_security_group.aws_security_group_rule.ingress_rules[0]","module_address":"module.securitygroups.module.public_elb_security_group","mode":"managed","type":"aws_security_group_rule","name":"ingress_rules","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_blocks":["0.0.0.0/0"],"description":"HTTP","from_port":80,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","self":false,"timeouts":null,"to_port":80,"type":"ingress"},"after_unknown":{"cidr_blocks":[false],"id":true,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_group_id":true,"source_security_group_id":true},"before_sensitive":false,"after_sensitive":{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[]}}},{"address":"module.securitygroups.module.single_multiregion_rds_security_group.aws_security_group.this_name_prefix[0]","module_address":"module.securitygroups.module.single_multiregion_rds_security_group","mode":"managed","type":"aws_security_group","name":"this_name_prefix","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"Security Group for mysql on ports","name_prefix":"prod-phlosys-single-multireg-rds-secgroup-","revoke_rules_on_delete":false,"tags":{"ENV":"prod","Name":"prod-phlosys-single-multireg-rds-secgroup","Product":"phlosys","Terraform":"true"},"tags_all":{"ENV":"prod","Name":"prod-phlosys-single-multireg-rds-secgroup","Product":"phlosys","Terraform":"true"},"timeouts":{"create":"10m","delete":"15m"}},"after_unknown":{"arn":true,"egress":true,"id":true,"ingress":true,"name":true,"owner_id":true,"tags":{},"tags_all":{},"timeouts":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"egress":[],"ingress":[],"tags":{},"tags_all":{},"timeouts":{}}}},{"address":"module.securitygroups.module.single_multiregion_rds_security_group.aws_security_group_rule.computed_ingress_with_source_security_group_id[0]","module_address":"module.securitygroups.module.single_multiregion_rds_security_group","mode":"managed","type":"aws_security_group_rule","name":"computed_ingress_with_source_security_group_id","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_blocks":null,"description":"Ingress Rule","from_port":4417,"ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"tcp","self":false,"timeouts":null,"to_port":4417,"type":"ingress"},"after_unknown":{"id":true,"prefix_list_ids":[],"security_group_id":true,"source_security_group_id":true},"before_sensitive":false,"after_sensitive":{"prefix_list_ids":[]}}},{"address":"module.securitygroups.module.single_multiregion_rds_security_group.aws_security_group_rule.computed_ingress_with_source_security_group_id[1]","module_address":"module.securitygroups.module.single_multiregion_rds_security_group","mode":"managed","type":"aws_security_group_rule","name":"computed_ingress_with_source_security_group_id","index":1,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_blocks":null,"description":"Ingress Rule","from_port":4417,"ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"tcp","self":false,"timeouts":null,"to_port":4417,"type":"ingress"},"after_unknown":{"id":true,"prefix_list_ids":[],"security_group_id":true,"source_security_group_id":true},"before_sensitive":false,"after_sensitive":{"prefix_list_ids":[]}}},{"address":"module.securitygroups.module.single_multiregion_rds_security_group.aws_security_group_rule.egress_rules[0]","module_address":"module.securitygroups.module.single_multiregion_rds_security_group","mode":"managed","type":"aws_security_group_rule","name":"egress_rules","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_blocks":["0.0.0.0/0"],"description":"All protocols","from_port":-1,"ipv6_cidr_blocks":["::/0"],"prefix_list_ids":[],"protocol":"-1","self":false,"timeouts":null,"to_port":-1,"type":"egress"},"after_unknown":{"cidr_blocks":[false],"id":true,"ipv6_cidr_blocks":[false],"prefix_list_ids":[],"security_group_id":true,"source_security_group_id":true},"before_sensitive":false,"after_sensitive":{"cidr_blocks":[false],"ipv6_cidr_blocks":[false],"prefix_list_ids":[]}}},{"address":"module.securitygroups.module.single_multiregion_rds_security_group.aws_security_group_rule.ingress_with_cidr_blocks[0]","module_address":"module.securitygroups.module.single_multiregion_rds_security_group","mode":"managed","type":"aws_security_group_rule","name":"ingress_with_cidr_blocks","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_blocks":["10.25.0.0/16"],"description":"access to mysql on ports","from_port":4417,"ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"tcp","self":false,"timeouts":null,"to_port":4417,"type":"ingress"},"after_unknown":{"cidr_blocks":[false],"id":true,"prefix_list_ids":[],"security_group_id":true,"source_security_group_id":true},"before_sensitive":false,"after_sensitive":{"cidr_blocks":[false],"prefix_list_ids":[]}}},{"address":"module.vpc.module.network.aws_db_subnet_group.database[0]","module_address":"module.vpc.module.network","mode":"managed","type":"aws_db_subnet_group","name":"database","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"Database subnet group for prod-phlosys-vpc","name":"prod-phlosys-subnet-group","tags":{"ENV":"prod","Name":"prod-phlosys-vpc","Product":"phlosys","Terraform":"true"},"tags_all":{"ENV":"prod","Name":"prod-phlosys-vpc","Product":"phlosys","Terraform":"true"}},"after_unknown":{"arn":true,"id":true,"name_prefix":true,"subnet_ids":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"subnet_ids":[],"tags":{},"tags_all":{}}}},{"address":"module.vpc.module.network.aws_eip.nat[0]","module_address":"module.vpc.module.network","mode":"managed","type":"aws_eip","name":"nat","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"address":null,"associate_with_private_ip":null,"customer_owned_ipv4_pool":null,"tags":{"ENV":"prod","Name":"prod-phlosys-vpc","Product":"phlosys","Terraform":"true"},"tags_all":{"ENV":"prod","Name":"prod-phlosys-vpc","Product":"phlosys","Terraform":"true"},"timeouts":null,"vpc":true},"after_unknown":{"allocation_id":true,"association_id":true,"carrier_ip":true,"customer_owned_ip":true,"domain":true,"id":true,"instance":true,"network_border_group":true,"network_interface":true,"private_dns":true,"private_ip":true,"public_dns":true,"public_ip":true,"public_ipv4_pool":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.vpc.module.network.aws_internet_gateway.this[0]","module_address":"module.vpc.module.network","mode":"managed","type":"aws_internet_gateway","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"tags":{"ENV":"prod","Name":"prod-phlosys-vpc","Product":"phlosys","Terraform":"true"},"tags_all":{"ENV":"prod","Name":"prod-phlosys-vpc","Product":"phlosys","Terraform":"true"},"timeouts":null},"after_unknown":{"arn":true,"id":true,"owner_id":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.vpc.module.network.aws_nat_gateway.this[0]","module_address":"module.vpc.module.network","mode":"managed","type":"aws_nat_gateway","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"connectivity_type":"public","tags":{"ENV":"prod","Name":"prod-phlosys-vpc","Product":"phlosys","Terraform":"true"},"tags_all":{"ENV":"prod","Name":"prod-phlosys-vpc","Product":"phlosys","Terraform":"true"}},"after_unknown":{"allocation_id":true,"id":true,"network_interface_id":true,"private_ip":true,"public_ip":true,"subnet_id":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.vpc.module.network.aws_route.private_nat_gateway[0]","module_address":"module.vpc.module.network","mode":"managed","type":"aws_route","name":"private_nat_gateway","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"carrier_gateway_id":null,"core_network_arn":null,"destination_cidr_block":"0.0.0.0/0","destination_ipv6_cidr_block":null,"destination_prefix_list_id":null,"egress_only_gateway_id":null,"gateway_id":null,"local_gateway_id":null,"timeouts":{"create":"5m","delete":null,"update":null},"transit_gateway_id":null,"vpc_endpoint_id":null,"vpc_peering_connection_id":null},"after_unknown":{"id":true,"instance_id":true,"instance_owner_id":true,"nat_gateway_id":true,"network_interface_id":true,"origin":true,"route_table_id":true,"state":true,"timeouts":{}},"before_sensitive":false,"after_sensitive":{"timeouts":{}}}},{"address":"module.vpc.module.network.aws_route.public_internet_gateway[0]","module_address":"module.vpc.module.network","mode":"managed","type":"aws_route","name":"public_internet_gateway","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"carrier_gateway_id":null,"core_network_arn":null,"destination_cidr_block":"0.0.0.0/0","destination_ipv6_cidr_block":null,"destination_prefix_list_id":null,"egress_only_gateway_id":null,"local_gateway_id":null,"nat_gateway_id":null,"timeouts":{"create":"5m","delete":null,"update":null},"transit_gateway_id":null,"vpc_endpoint_id":null,"vpc_peering_connection_id":null},"after_unknown":{"gateway_id":true,"id":true,"instance_id":true,"instance_owner_id":true,"network_interface_id":true,"origin":true,"route_table_id":true,"state":true,"timeouts":{}},"before_sensitive":false,"after_sensitive":{"timeouts":{}}}},{"address":"module.vpc.module.network.aws_route_table.private[0]","module_address":"module.vpc.module.network","mode":"managed","type":"aws_route_table","name":"private","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"tags":{"ENV":"prod","Name":"prod-phlosys-vpc","Product":"phlosys","Terraform":"true"},"tags_all":{"ENV":"prod","Name":"prod-phlosys-vpc","Product":"phlosys","Terraform":"true"},"timeouts":null},"after_unknown":{"arn":true,"id":true,"owner_id":true,"propagating_vgws":true,"route":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"propagating_vgws":[],"route":[],"tags":{},"tags_all":{}}}},{"address":"module.vpc.module.network.aws_route_table.public[0]","module_address":"module.vpc.module.network","mode":"managed","type":"aws_route_table","name":"public","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"tags":{"ENV":"prod","Name":"prod-phlosys-vpc","Product":"phlosys","Terraform":"true"},"tags_all":{"ENV":"prod","Name":"prod-phlosys-vpc","Product":"phlosys","Terraform":"true"},"timeouts":null},"after_unknown":{"arn":true,"id":true,"owner_id":true,"propagating_vgws":true,"route":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"propagating_vgws":[],"route":[],"tags":{},"tags_all":{}}}},{"address":"module.vpc.module.network.aws_route_table_association.database[0]","module_address":"module.vpc.module.network","mode":"managed","type":"aws_route_table_association","name":"database","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.vpc.module.network.aws_route_table_association.database[1]","module_address":"module.vpc.module.network","mode":"managed","type":"aws_route_table_association","name":"database","index":1,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.vpc.module.network.aws_route_table_association.database[2]","module_address":"module.vpc.module.network","mode":"managed","type":"aws_route_table_association","name":"database","index":2,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.vpc.module.network.aws_route_table_association.private[0]","module_address":"module.vpc.module.network","mode":"managed","type":"aws_route_table_association","name":"private","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.vpc.module.network.aws_route_table_association.private[1]","module_address":"module.vpc.module.network","mode":"managed","type":"aws_route_table_association","name":"private","index":1,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.vpc.module.network.aws_route_table_association.private[2]","module_address":"module.vpc.module.network","mode":"managed","type":"aws_route_table_association","name":"private","index":2,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.vpc.module.network.aws_route_table_association.public[0]","module_address":"module.vpc.module.network","mode":"managed","type":"aws_route_table_association","name":"public","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.vpc.module.network.aws_route_table_association.public[1]","module_address":"module.vpc.module.network","mode":"managed","type":"aws_route_table_association","name":"public","index":1,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.vpc.module.network.aws_route_table_association.public[2]","module_address":"module.vpc.module.network","mode":"managed","type":"aws_route_table_association","name":"public","index":2,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.vpc.module.network.aws_subnet.database[0]","module_address":"module.vpc.module.network","mode":"managed","type":"aws_subnet","name":"database","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"eu-west-1a","cidr_block":"10.20.20.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"ENV":"prod","Name":"prod-phlosys-vpc-database-subnet","Product":"phlosys","Terraform":"true"},"tags_all":{"ENV":"prod","Name":"prod-phlosys-vpc-database-subnet","Product":"phlosys","Terraform":"true"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"private_dns_hostname_type_on_launch":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.vpc.module.network.aws_subnet.database[1]","module_address":"module.vpc.module.network","mode":"managed","type":"aws_subnet","name":"database","index":1,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"eu-west-1b","cidr_block":"10.20.21.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"ENV":"prod","Name":"prod-phlosys-vpc-database-subnet","Product":"phlosys","Terraform":"true"},"tags_all":{"ENV":"prod","Name":"prod-phlosys-vpc-database-subnet","Product":"phlosys","Terraform":"true"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"private_dns_hostname_type_on_launch":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.vpc.module.network.aws_subnet.database[2]","module_address":"module.vpc.module.network","mode":"managed","type":"aws_subnet","name":"database","index":2,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"eu-west-1c","cidr_block":"10.20.22.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"ENV":"prod","Name":"prod-phlosys-vpc-database-subnet","Product":"phlosys","Terraform":"true"},"tags_all":{"ENV":"prod","Name":"prod-phlosys-vpc-database-subnet","Product":"phlosys","Terraform":"true"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"private_dns_hostname_type_on_launch":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.vpc.module.network.aws_subnet.private[0]","module_address":"module.vpc.module.network","mode":"managed","type":"aws_subnet","name":"private","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"eu-west-1a","cidr_block":"10.20.10.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"ENV":"prod","Name":"prod-phlosys-vpc-private-subnet","Product":"phlosys","Terraform":"true"},"tags_all":{"ENV":"prod","Name":"prod-phlosys-vpc-private-subnet","Product":"phlosys","Terraform":"true"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"private_dns_hostname_type_on_launch":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.vpc.module.network.aws_subnet.private[1]","module_address":"module.vpc.module.network","mode":"managed","type":"aws_subnet","name":"private","index":1,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"eu-west-1b","cidr_block":"10.20.11.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"ENV":"prod","Name":"prod-phlosys-vpc-private-subnet","Product":"phlosys","Terraform":"true"},"tags_all":{"ENV":"prod","Name":"prod-phlosys-vpc-private-subnet","Product":"phlosys","Terraform":"true"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"private_dns_hostname_type_on_launch":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.vpc.module.network.aws_subnet.private[2]","module_address":"module.vpc.module.network","mode":"managed","type":"aws_subnet","name":"private","index":2,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"eu-west-1c","cidr_block":"10.20.12.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"ENV":"prod","Name":"prod-phlosys-vpc-private-subnet","Product":"phlosys","Terraform":"true"},"tags_all":{"ENV":"prod","Name":"prod-phlosys-vpc-private-subnet","Product":"phlosys","Terraform":"true"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"private_dns_hostname_type_on_launch":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.vpc.module.network.aws_subnet.public[0]","module_address":"module.vpc.module.network","mode":"managed","type":"aws_subnet","name":"public","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"eu-west-1a","cidr_block":"10.20.0.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":true,"outpost_arn":null,"tags":{"ENV":"prod","Name":"prod-phlosys-vpc-public-subnet","Product":"phlosys","Terraform":"true"},"tags_all":{"ENV":"prod","Name":"prod-phlosys-vpc-public-subnet","Product":"phlosys","Terraform":"true"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"private_dns_hostname_type_on_launch":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.vpc.module.network.aws_subnet.public[1]","module_address":"module.vpc.module.network","mode":"managed","type":"aws_subnet","name":"public","index":1,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"eu-west-1b","cidr_block":"10.20.1.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":true,"outpost_arn":null,"tags":{"ENV":"prod","Name":"prod-phlosys-vpc-public-subnet","Product":"phlosys","Terraform":"true"},"tags_all":{"ENV":"prod","Name":"prod-phlosys-vpc-public-subnet","Product":"phlosys","Terraform":"true"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"private_dns_hostname_type_on_launch":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.vpc.module.network.aws_subnet.public[2]","module_address":"module.vpc.module.network","mode":"managed","type":"aws_subnet","name":"public","index":2,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"eu-west-1c","cidr_block":"10.20.2.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":true,"outpost_arn":null,"tags":{"ENV":"prod","Name":"prod-phlosys-vpc-public-subnet","Product":"phlosys","Terraform":"true"},"tags_all":{"ENV":"prod","Name":"prod-phlosys-vpc-public-subnet","Product":"phlosys","Terraform":"true"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"private_dns_hostname_type_on_launch":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.vpc.module.network.aws_vpc.this[0]","module_address":"module.vpc.module.network","mode":"managed","type":"aws_vpc","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_generated_ipv6_cidr_block":false,"cidr_block":"10.20.0.0/16","enable_dns_hostnames":true,"enable_dns_support":true,"instance_tenancy":"default","ipv4_ipam_pool_id":null,"ipv4_netmask_length":null,"ipv6_ipam_pool_id":null,"ipv6_netmask_length":null,"tags":{"ENV":"prod","Name":"prod-phlosys-vpc","Product":"phlosys","Terraform":"true"},"tags_all":{"ENV":"prod","Name":"prod-phlosys-vpc","Product":"phlosys","Terraform":"true"}},"after_unknown":{"arn":true,"default_network_acl_id":true,"default_route_table_id":true,"default_security_group_id":true,"dhcp_options_id":true,"enable_classiclink":true,"enable_classiclink_dns_support":true,"id":true,"ipv6_association_id":true,"ipv6_cidr_block":true,"ipv6_cidr_block_network_border_group":true,"main_route_table_id":true,"owner_id":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}}],"output_changes":{"output_iam_profile_name":{"actions":["create"],"before":null,"after":"prod-phlosys-ec2-profile","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"output_load_balancer_cname":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false},"output_multiregion_aurora_cluster_instances":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false},"output_multiregion_aurora_cluster_members":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false},"output_multiregion_aurora_cluster_reader_endpoint":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false},"output_multiregion_aurora_cluster_writer_endpoint":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false},"output_network_vpc_id":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false}},"prior_state":{"format_version":"1.0","terraform_version":"1.2.7","values":{"outputs":{"output_iam_profile_name":{"sensitive":false,"value":"prod-phlosys-ec2-profile","type":"string"}},"root_module":{"resources":[{"address":"data.aws_ami.ec2_instance_type","mode":"data","type":"aws_ami","name":"ec2_instance_type","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"architecture":"x86_64","arn":"arn:aws:ec2:eu-west-1::image/ami-0a2616929f1e63d91","block_device_mappings":[{"device_name":"/dev/sda1","ebs":{"delete_on_termination":"true","encrypted":"false","iops":"0","snapshot_id":"snap-01135b6bbcfe38ac3","throughput":"0","volume_size":"8","volume_type":"gp2"},"no_device":"","virtual_name":""},{"device_name":"/dev/sdb","ebs":{},"no_device":"","virtual_name":"ephemeral0"},{"device_name":"/dev/sdc","ebs":{},"no_device":"","virtual_name":"ephemeral1"}],"boot_mode":"","creation_date":"2022-04-05T00:51:20.000Z","deprecation_time":"2024-04-05T00:51:20.000Z","description":"Canonical, Ubuntu, 20.04 LTS, amd64 focal image build on 2022-04-04","ena_support":true,"executable_users":null,"filter":[{"name":"image-id","values":["ami-0a2616929f1e63d91"]},{"name":"name","values":["ubuntu/images/hvm-ssd/ubuntu-focal-20.04-amd64-server-*"]},{"name":"virtualization-type","values":["hvm"]}],"hypervisor":"xen","id":"ami-0a2616929f1e63d91","image_id":"ami-0a2616929f1e63d91","image_location":"099720109477/ubuntu/images/hvm-ssd/ubuntu-focal-20.04-amd64-server-20220404","image_owner_alias":"","image_type":"machine","include_deprecated":false,"kernel_id":"","most_recent":true,"name":"ubuntu/images/hvm-ssd/ubuntu-focal-20.04-amd64-server-20220404","name_regex":null,"owner_id":"099720109477","owners":["099720109477"],"platform":"","platform_details":"Linux/UNIX","product_codes":[],"public":true,"ramdisk_id":"","root_device_name":"/dev/sda1","root_device_type":"ebs","root_snapshot_id":"snap-01135b6bbcfe38ac3","sriov_net_support":"simple","state":"available","state_reason":{"code":"UNSET","message":"UNSET"},"tags":{},"timeouts":null,"tpm_support":"","usage_operation":"RunInstances","virtualization_type":"hvm"},"sensitive_values":{"block_device_mappings":[{"ebs":{}},{"ebs":{}},{"ebs":{}}],"filter":[{"values":[false]},{"values":[false]},{"values":[false]}],"owners":[false],"product_codes":[],"state_reason":{},"tags":{}}},{"address":"data.aws_availability_zones.azs","mode":"data","type":"aws_availability_zones","name":"azs","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"all_availability_zones":null,"exclude_names":null,"exclude_zone_ids":null,"filter":null,"group_names":["eu-west-1"],"id":"eu-west-1","names":["eu-west-1a","eu-west-1b","eu-west-1c"],"state":null,"timeouts":null,"zone_ids":["euw1-az3","euw1-az1","euw1-az2"]},"sensitive_values":{"group_names":[false],"names":[false,false,false],"zone_ids":[false,false,false]}},{"address":"data.aws_caller_identity.current","mode":"data","type":"aws_caller_identity","name":"current","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"account_id":"265728079114","arn":"arn:aws:iam::265728079114:user/automation_user","id":"265728079114","user_id":"AIDAT3XVAWUFGLDYIMY4D"},"sensitive_values":{}},{"address":"data.aws_iam_policy_document.rds","mode":"data","type":"aws_iam_policy_document","name":"rds","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"2506493704","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"Enable IAM User Permissions\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"kms:*\",\n      \"Resource\": \"*\",\n      \"Principal\": {\n        \"AWS\": [\n          \"arn:aws:iam::265728079114:user/automation_user\",\n          \"arn:aws:iam::265728079114:root\"\n        ]\n      }\n    },\n    {\n      \"Sid\": \"Allow use of the key\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"kms:ReEncrypt*\",\n        \"kms:GenerateDataKey*\",\n        \"kms:Encrypt\",\n        \"kms:DescribeKey\",\n        \"kms:Decrypt\"\n      ],\n      \"Resource\": \"*\",\n      \"Principal\": {\n        \"Service\": [\n          \"rds.amazonaws.com\",\n          \"monitoring.rds.amazonaws.com\"\n        ]\n      }\n    }\n  ]\n}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["kms:*"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":["arn:aws:iam::265728079114:root","arn:aws:iam::265728079114:user/automation_user"],"type":"AWS"}],"resources":["*"],"sid":"Enable IAM User Permissions"},{"actions":["kms:Decrypt","kms:DescribeKey","kms:Encrypt","kms:GenerateDataKey*","kms:ReEncrypt*"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":["monitoring.rds.amazonaws.com","rds.amazonaws.com"],"type":"Service"}],"resources":["*"],"sid":"Allow use of the key"}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":[false,false]}],"resources":[false]},{"actions":[false,false,false,false,false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":[false,false]}],"resources":[false]}]}}],"child_modules":[{"resources":[{"address":"module.iam.data.aws_iam_policy_document.ec2_assume_document","mode":"data","type":"aws_iam_policy_document","name":"ec2_assume_document","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"3833428742","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"1\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"ec2.amazonaws.com\"\n      }\n    }\n  ]\n}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["sts:AssumeRole"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":["ec2.amazonaws.com"],"type":"Service"}],"resources":[],"sid":"1"}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":[false]}],"resources":[]}]}},{"address":"module.iam.data.aws_iam_policy_document.ec2_s3_bucket_document","mode":"data","type":"aws_iam_policy_document","name":"ec2_s3_bucket_document","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"4017293917","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"2\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"s3:ListAllMyBuckets\",\n      \"Resource\": \"*\"\n    },\n    {\n      \"Sid\": \"1\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"s3:PutBucket\",\n        \"s3:ListBucket\",\n        \"s3:GetObject\"\n      ],\n      \"Resource\": [\n        \"arn:aws:s3:::binaries.phlosys.prod/*\",\n        \"arn:aws:s3:::binaries.phlosys.prod*\",\n        \"arn:aws:s3:::assets.phlosys.prod/*\",\n        \"arn:aws:s3:::assets.phlosys.prod\"\n      ]\n    }\n  ]\n}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["s3:ListAllMyBuckets"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["*"],"sid":"2"},{"actions":["s3:GetObject","s3:ListBucket","s3:PutBucket"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["arn:aws:s3:::assets.phlosys.prod","arn:aws:s3:::assets.phlosys.prod/*","arn:aws:s3:::binaries.phlosys.prod*","arn:aws:s3:::binaries.phlosys.prod/*"],"sid":"1"}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":[false]},{"actions":[false,false,false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":[false,false,false,false]}]}},{"address":"module.iam.data.aws_iam_policy_document.ec2_secrets_manager_readwrite_document","mode":"data","type":"aws_iam_policy_document","name":"ec2_secrets_manager_readwrite_document","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"1344406162","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"2\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"secretsmanager:*\",\n      \"Resource\": \"arn:aws:secretsmanager:eu-west-1:265728079114:secret:prod-phlosys-vault*\"\n    }\n  ]\n}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["secretsmanager:*"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["arn:aws:secretsmanager:eu-west-1:265728079114:secret:prod-phlosys-vault*"],"sid":"2"}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":[false]}]}},{"address":"module.iam.data.aws_iam_policy_document.ec2_session_manager_ssm_document","mode":"data","type":"aws_iam_policy_document","name":"ec2_session_manager_ssm_document","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"198625731","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"2\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ssmmessages:OpenDataChannel\",\n        \"ssmmessages:OpenControlChannel\",\n        \"ssmmessages:CreateDataChannel\",\n        \"ssmmessages:CreateControlChannel\",\n        \"ssm:UpdateInstanceInformation\",\n        \"ssm:UpdateInstanceAssociationStatus\",\n        \"ssm:UpdateAssociationStatus\",\n        \"ssm:PutInventory\",\n        \"ssm:PutConfigurePackageResult\",\n        \"ssm:PutComplianceItems\",\n        \"ssm:ListInstanceAssociations\",\n        \"ssm:ListAssociations\",\n        \"ssm:GetParameters\",\n        \"ssm:GetManifest\",\n        \"ssm:GetDocument\",\n        \"ssm:GetDeployablePatchSnapshotForInstance\",\n        \"ssm:DescribeDocument\",\n        \"ssm:DescribeAssociation\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["ssm:DescribeAssociation","ssm:DescribeDocument","ssm:GetDeployablePatchSnapshotForInstance","ssm:GetDocument","ssm:GetManifest","ssm:GetParameters","ssm:ListAssociations","ssm:ListInstanceAssociations","ssm:PutComplianceItems","ssm:PutConfigurePackageResult","ssm:PutInventory","ssm:UpdateAssociationStatus","ssm:UpdateInstanceAssociationStatus","ssm:UpdateInstanceInformation","ssmmessages:CreateControlChannel","ssmmessages:CreateDataChannel","ssmmessages:OpenControlChannel","ssmmessages:OpenDataChannel"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["*"],"sid":"2"}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":[false]}]}},{"address":"module.iam.data.aws_iam_policy_document.ecs_task_assume_document","mode":"data","type":"aws_iam_policy_document","name":"ecs_task_assume_document","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"3147592169","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"1\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"ecs-tasks.amazonaws.com\"\n      }\n    }\n  ]\n}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["sts:AssumeRole"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":["ecs-tasks.amazonaws.com"],"type":"Service"}],"resources":[],"sid":"1"}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":[false]}],"resources":[]}]}},{"address":"module.iam.data.aws_iam_policy_document.ecs_task_log-ssm-s3_document","mode":"data","type":"aws_iam_policy_document","name":"ecs_task_log-ssm-s3_document","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"4294546708","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"1\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"logs:PutLogEvents\",\n        \"logs:CreateLogStream\"\n      ],\n      \"Resource\": \"*\"\n    },\n    {\n      \"Sid\": \"2\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ssm:GetParametersByPath\",\n        \"ssm:GetParameters\",\n        \"ssm:GetParameter\",\n        \"secretsmanager:GetSecretValue\"\n      ],\n      \"Resource\": \"*\"\n    },\n    {\n      \"Sid\": \"3\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"s3:PutObject\",\n        \"s3:GetObjectVersion\",\n        \"s3:GetObject\",\n        \"s3:GetBucketLocation\",\n        \"s3:GetBucketAcl\"\n      ],\n      \"Resource\": [\n        \"arn:aws:s3:::assets.phlosys.prod/*\",\n        \"arn:aws:s3:::assets.phlosys.prod\"\n      ]\n    },\n    {\n      \"Sid\": \"4\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ecs:ListContainerInstances\",\n        \"ecs:ListClusters\",\n        \"ecs:DescribeContainerInstances\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["logs:CreateLogStream","logs:PutLogEvents"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["*"],"sid":"1"},{"actions":["secretsmanager:GetSecretValue","ssm:GetParameter","ssm:GetParameters","ssm:GetParametersByPath"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["*"],"sid":"2"},{"actions":["s3:GetBucketAcl","s3:GetBucketLocation","s3:GetObject","s3:GetObjectVersion","s3:PutObject"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["arn:aws:s3:::assets.phlosys.prod","arn:aws:s3:::assets.phlosys.prod/*"],"sid":"3"},{"actions":["ecs:DescribeContainerInstances","ecs:ListClusters","ecs:ListContainerInstances"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["*"],"sid":"4"}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false,false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":[false]},{"actions":[false,false,false,false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":[false]},{"actions":[false,false,false,false,false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":[false,false]},{"actions":[false,false,false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":[false]}]}}],"address":"module.iam"},{"address":"module.rds_aurora_multiregion","child_modules":[{"resources":[{"address":"module.rds_aurora_multiregion.module.rds_aurora.data.aws_iam_policy_document.monitoring_rds_assume_role","mode":"data","type":"aws_iam_policy_document","name":"monitoring_rds_assume_role","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"1813475199","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"monitoring.rds.amazonaws.com\"\n      }\n    }\n  ]\n}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["sts:AssumeRole"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":["monitoring.rds.amazonaws.com"],"type":"Service"}],"resources":[],"sid":""}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":[false]}],"resources":[]}]}},{"address":"module.rds_aurora_multiregion.module.rds_aurora.data.aws_partition.current","mode":"data","type":"aws_partition","name":"current","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"dns_suffix":"amazonaws.com","id":"aws","partition":"aws","reverse_dns_prefix":"com.amazonaws"},"sensitive_values":{}}],"address":"module.rds_aurora_multiregion.module.rds_aurora"}]}]}}},"configuration":{"provider_config":{"aws":{"name":"aws","full_name":"registry.terraform.io/hashicorp/aws","expressions":{"profile":{"references":["var.var_global_aws_profile"]},"region":{"references":["var.var_global_aws_region"]}}},"module.rds_aurora_multiregion.module.rds_aurora:random":{"name":"random","full_name":"registry.terraform.io/hashicorp/random","version_constraint":"\u003e= 2.2.0","module_address":"module.rds_aurora_multiregion.module.rds_aurora"},"module.securitygroups.module.app_ecs_security_group:aws":{"name":"aws","full_name":"registry.terraform.io/hashicorp/aws","version_constraint":"\u003e= 3.0.0","module_address":"module.securitygroups.module.app_ecs_security_group"},"module.securitygroups.module.jumpbox_ec2_security_group:aws":{"name":"aws","full_name":"registry.terraform.io/hashicorp/aws","version_constraint":"\u003e= 3.0.0","module_address":"module.securitygroups.module.jumpbox_ec2_security_group"},"module.securitygroups.module.public_elb_security_group:aws":{"name":"aws","full_name":"registry.terraform.io/hashicorp/aws","version_constraint":"\u003e= 3.0.0","module_address":"module.securitygroups.module.public_elb_security_group"},"module.securitygroups.module.single_multiregion_rds_security_group:aws":{"name":"aws","full_name":"registry.terraform.io/hashicorp/aws","version_constraint":"\u003e= 3.0.0","module_address":"module.securitygroups.module.single_multiregion_rds_security_group"},"module.vpc.module.network:aws":{"name":"aws","full_name":"registry.terraform.io/hashicorp/aws","version_constraint":"\u003e= 3.63.0","module_address":"module.vpc.module.network"}},"root_module":{"outputs":{"output_iam_profile_name":{"expression":{"references":["module.iam.output_instance_profile_name","module.iam"]}},"output_load_balancer_cname":{"expression":{"references":["module.alb.output_load_balancer_dns_name","module.alb"]}},"output_multiregion_aurora_cluster_instances":{"expression":{"references":["module.rds_aurora_multiregion.output_rds_aurora_multiregion_cluster_instances","module.rds_aurora_multiregion"]}},"output_multiregion_aurora_cluster_members":{"expression":{"references":["module.rds_aurora_multiregion.output_rds_aurora_multiregion_cluster_members","module.rds_aurora_multiregion"]}},"output_multiregion_aurora_cluster_reader_endpoint":{"expression":{"references":["module.rds_aurora_multiregion.output_rds_aurora_multiregion_reader_endpoint","module.rds_aurora_multiregion"]}},"output_multiregion_aurora_cluster_writer_endpoint":{"expression":{"references":["module.rds_aurora_multiregion.output_rds_aurora_multiregion_writer_endpoint","module.rds_aurora_multiregion"]}},"output_network_vpc_id":{"expression":{"references":["module.vpc.output_vpc_vpc_id","module.vpc"]}}},"resources":[{"address":"data.aws_ami.ec2_instance_type","mode":"data","type":"aws_ami","name":"ec2_instance_type","provider_config_key":"aws","expressions":{"filter":[{"name":{"constant_value":"name"},"values":{"references":["var.var_global_ec2instance_filter_full_ref_list"]}},{"name":{"constant_value":"virtualization-type"},"values":{"references":["var.var_global_ec2instance_filter_virtualiazation_type_list"]}},{"name":{"constant_value":"image-id"},"values":{"constant_value":["ami-0a2616929f1e63d91"]}}],"most_recent":{"constant_value":true},"owners":{"references":["var.var_global_ec2instance_aws_ami_owner_list"]}},"schema_version":0},{"address":"data.aws_availability_zones.azs","mode":"data","type":"aws_availability_zones","name":"azs","provider_config_key":"aws","schema_version":0},{"address":"data.aws_caller_identity.current","mode":"data","type":"aws_caller_identity","name":"current","provider_config_key":"aws","schema_version":0},{"address":"data.aws_iam_policy_document.rds","mode":"data","type":"aws_iam_policy_document","name":"rds","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["kms:*"]},"principals":[{"identifiers":{"references":["data.aws_caller_identity.current.account_id","data.aws_caller_identity.current","data.aws_caller_identity.current.arn","data.aws_caller_identity.current"]},"type":{"constant_value":"AWS"}}],"resources":{"constant_value":["*"]},"sid":{"constant_value":"Enable IAM User Permissions"}},{"actions":{"constant_value":["kms:Encrypt","kms:Decrypt","kms:ReEncrypt*","kms:GenerateDataKey*","kms:DescribeKey"]},"principals":[{"identifiers":{"constant_value":["monitoring.rds.amazonaws.com","rds.amazonaws.com"]},"type":{"constant_value":"Service"}}],"resources":{"constant_value":["*"]},"sid":{"constant_value":"Allow use of the key"}}]},"schema_version":0}],"module_calls":{"alb":{"source":"../modules/load_balancer","expressions":{"load_balancer_default_targetgroup_name":{"references":["local.global_prefix","var.var_load_balancer_default_tg_name"]},"load_balancer_lbname":{"references":["local.global_prefix","var.var_load_balancer_name"]},"load_balancer_security_group_ids_list":{"references":["module.securitygroups.output_secgroup_elb_group_id","module.securitygroups"]},"load_balancer_subnet_ids_list":{"references":["module.vpc.output_vpc_public_subnet_ids","module.vpc"]},"load_balancer_vpc_id":{"references":["module.vpc.output_vpc_vpc_id","module.vpc"]}},"module":{"outputs":{"output_load_balancer_arn":{"expression":{"references":["aws_lb.lb.arn","aws_lb.lb"]}},"output_load_balancer_dns_name":{"expression":{"references":["aws_lb.lb.dns_name","aws_lb.lb"]}}},"resources":[{"address":"aws_lb.lb","mode":"managed","type":"aws_lb","name":"lb","provider_config_key":"aws","expressions":{"internal":{"constant_value":"false"},"load_balancer_type":{"constant_value":"application"},"name":{"references":["var.load_balancer_lbname"]},"security_groups":{"references":["var.load_balancer_security_group_ids_list"]},"subnets":{"references":["var.load_balancer_subnet_ids_list"]}},"schema_version":0},{"address":"aws_lb_listener.https_lb_listener","mode":"managed","type":"aws_lb_listener","name":"https_lb_listener","provider_config_key":"aws","expressions":{"default_action":[{"target_group_arn":{"references":["aws_lb_target_group.http_backend_target_group.arn","aws_lb_target_group.http_backend_target_group"]},"type":{"constant_value":"forward"}}],"load_balancer_arn":{"references":["aws_lb.lb.arn","aws_lb.lb"]},"port":{"constant_value":"80"},"protocol":{"constant_value":"HTTP"}},"schema_version":0},{"address":"aws_lb_target_group.http_backend_target_group","mode":"managed","type":"aws_lb_target_group","name":"http_backend_target_group","provider_config_key":"aws","expressions":{"health_check":[{"enabled":{"constant_value":true},"healthy_threshold":{"constant_value":3},"interval":{"constant_value":6},"path":{"constant_value":"/"},"port":{"constant_value":80},"protocol":{"constant_value":"HTTP"},"timeout":{"constant_value":5},"unhealthy_threshold":{"constant_value":3}}],"name":{"references":["var.load_balancer_default_targetgroup_name"]},"port":{"constant_value":80},"protocol":{"constant_value":"HTTP"},"target_type":{"constant_value":"ip"},"vpc_id":{"references":["var.load_balancer_vpc_id"]}},"schema_version":0}],"variables":{"load_balancer_default_targetgroup_name":{},"load_balancer_lbname":{},"load_balancer_security_group_ids_list":{},"load_balancer_subnet_ids_list":{},"load_balancer_vpc_id":{}}}},"iam":{"source":"../modules/roles_and_profiles","expressions":{"iam_ec2_ec2_session_manager_ssm_policy_name":{"references":["local.global_prefix","var.var_iam_ec2_ec2_session_manager_ssm_policy_name"]},"iam_ec2_profile_name":{"references":["local.global_prefix","var.var_iam_ec2_profile_name"]},"iam_ec2_role_name":{"references":["local.global_prefix","var.var_iam_ec2_role_name"]},"iam_ec2_s3_bucket_arn_list":{"references":["var.var_iam_ec2_s3_bucket_arn_list"]},"iam_ec2_s3_policy_name":{"references":["local.global_prefix","var.var_iam_ec2_s3_policy_name"]},"iam_ec2_secret_manager_readwrite_resource_name":{"references":["var.var_iam_ec2_secret_manager_readwrite_resource_name"]},"iam_ec2_secrets_manager_readwrite_resources":{"references":["var.var_global_aws_region","data.aws_caller_identity.current.account_id","data.aws_caller_identity.current","var.var_global_aws_environment","var.var_global_product"]},"iam_ecs_task_bucket_arn_list":{"references":["var.var_iam_ecs_task_bucket_arn_list"]},"iam_ecs_task_loggroup_resources_list":{"references":["var.var_iam_ecs_task_loggroup_resources_list"]},"iam_ecs_task_policy_name":{"references":["local.global_prefix","var.var_iam_ecs_task_policy_name"]},"iam_ecs_task_role_name":{"references":["local.global_prefix","var.var_iam_ecs_task_role_name"]},"iam_environment":{"references":["var.var_global_aws_environment"]},"iam_product_name":{"references":["var.var_global_product"]}},"module":{"outputs":{"output_ec2_role_arn":{"expression":{"references":["aws_iam_role.ec2_iam_role.arn","aws_iam_role.ec2_iam_role"]}},"output_ec2_role_name":{"expression":{"references":["aws_iam_role.ec2_iam_role.name","aws_iam_role.ec2_iam_role"]}},"output_ecs_task_role_arn":{"expression":{"references":["aws_iam_role.ecs_task_iam_role.arn","aws_iam_role.ecs_task_iam_role"]}},"output_ecs_task_role_name":{"expression":{"references":["aws_iam_role.ecs_task_iam_role.name","aws_iam_role.ecs_task_iam_role"]}},"output_instance_profile_name":{"expression":{"references":["aws_iam_instance_profile.ec2_instance_profile.name","aws_iam_instance_profile.ec2_instance_profile"]}}},"resources":[{"address":"aws_iam_instance_profile.ec2_instance_profile","mode":"managed","type":"aws_iam_instance_profile","name":"ec2_instance_profile","provider_config_key":"aws","expressions":{"name":{"references":["var.iam_ec2_profile_name"]},"role":{"references":["aws_iam_role.ec2_iam_role.name","aws_iam_role.ec2_iam_role"]},"tags":{"references":["var.iam_ec2_profile_name","var.iam_product_name","var.iam_environment"]}},"schema_version":0},{"address":"aws_iam_policy.ec2_s3_bucket_policy","mode":"managed","type":"aws_iam_policy","name":"ec2_s3_bucket_policy","provider_config_key":"aws","expressions":{"name":{"references":["var.iam_ec2_s3_policy_name"]},"policy":{"references":["data.aws_iam_policy_document.ec2_s3_bucket_document.json","data.aws_iam_policy_document.ec2_s3_bucket_document"]},"tags":{"references":["var.iam_ec2_s3_policy_name","var.iam_product_name","var.iam_environment"]}},"schema_version":0},{"address":"aws_iam_policy.ec2_secrets_manager_readwrite_policy","mode":"managed","type":"aws_iam_policy","name":"ec2_secrets_manager_readwrite_policy","provider_config_key":"aws","expressions":{"name":{"references":["var.iam_ec2_secret_manager_readwrite_resource_name"]},"policy":{"references":["data.aws_iam_policy_document.ec2_secrets_manager_readwrite_document.json","data.aws_iam_policy_document.ec2_secrets_manager_readwrite_document"]},"tags":{"references":["var.iam_ec2_secret_manager_readwrite_resource_name","var.iam_product_name","var.iam_environment"]}},"schema_version":0},{"address":"aws_iam_policy.ec2_session_manager_ssm_policy","mode":"managed","type":"aws_iam_policy","name":"ec2_session_manager_ssm_policy","provider_config_key":"aws","expressions":{"name":{"references":["var.iam_ec2_ec2_session_manager_ssm_policy_name"]},"policy":{"references":["data.aws_iam_policy_document.ec2_session_manager_ssm_document.json","data.aws_iam_policy_document.ec2_session_manager_ssm_document"]},"tags":{"references":["var.iam_ec2_ec2_session_manager_ssm_policy_name","var.iam_product_name","var.iam_environment"]}},"schema_version":0},{"address":"aws_iam_policy.ecs_task_log-ssm-s3_policy","mode":"managed","type":"aws_iam_policy","name":"ecs_task_log-ssm-s3_policy","provider_config_key":"aws","expressions":{"name":{"references":["var.iam_ecs_task_policy_name"]},"policy":{"references":["data.aws_iam_policy_document.ecs_task_log-ssm-s3_document.json","data.aws_iam_policy_document.ecs_task_log-ssm-s3_document"]},"tags":{"references":["var.iam_ecs_task_policy_name","var.iam_product_name","var.iam_environment"]}},"schema_version":0},{"address":"aws_iam_role.ec2_iam_role","mode":"managed","type":"aws_iam_role","name":"ec2_iam_role","provider_config_key":"aws","expressions":{"assume_role_policy":{"references":["data.aws_iam_policy_document.ec2_assume_document.json","data.aws_iam_policy_document.ec2_assume_document"]},"name":{"references":["var.iam_ec2_role_name"]},"path":{"constant_value":"/"},"tags":{"references":["var.iam_ec2_role_name","var.iam_product_name","var.iam_environment"]}},"schema_version":0},{"address":"aws_iam_role.ecs_task_iam_role","mode":"managed","type":"aws_iam_role","name":"ecs_task_iam_role","provider_config_key":"aws","expressions":{"assume_role_policy":{"references":["data.aws_iam_policy_document.ecs_task_assume_document.json","data.aws_iam_policy_document.ecs_task_assume_document"]},"name":{"references":["var.iam_ecs_task_role_name"]},"path":{"constant_value":"/"},"tags":{"references":["var.iam_ecs_task_role_name","var.iam_product_name","var.iam_environment"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.ec2_iam_role_s3_bucket_policy_attachment","mode":"managed","type":"aws_iam_role_policy_attachment","name":"ec2_iam_role_s3_bucket_policy_attachment","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.ec2_s3_bucket_policy.arn","aws_iam_policy.ec2_s3_bucket_policy"]},"role":{"references":["aws_iam_role.ec2_iam_role.name","aws_iam_role.ec2_iam_role"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.ec2_iam_role_secretsmanager_policy_attachment","mode":"managed","type":"aws_iam_role_policy_attachment","name":"ec2_iam_role_secretsmanager_policy_attachment","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.ec2_secrets_manager_readwrite_policy.arn","aws_iam_policy.ec2_secrets_manager_readwrite_policy"]},"role":{"references":["aws_iam_role.ec2_iam_role.name","aws_iam_role.ec2_iam_role"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.ec2_iam_role_session_manager_policy_attachment","mode":"managed","type":"aws_iam_role_policy_attachment","name":"ec2_iam_role_session_manager_policy_attachment","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.ec2_session_manager_ssm_policy.arn","aws_iam_policy.ec2_session_manager_ssm_policy"]},"role":{"references":["aws_iam_role.ec2_iam_role.name","aws_iam_role.ec2_iam_role"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.ecs_task_log-ssm-s3_policy_attachment","mode":"managed","type":"aws_iam_role_policy_attachment","name":"ecs_task_log-ssm-s3_policy_attachment","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.ecs_task_log-ssm-s3_policy.arn","aws_iam_policy.ecs_task_log-ssm-s3_policy"]},"role":{"references":["aws_iam_role.ecs_task_iam_role.name","aws_iam_role.ecs_task_iam_role"]}},"schema_version":0},{"address":"data.aws_iam_policy_document.ec2_assume_document","mode":"data","type":"aws_iam_policy_document","name":"ec2_assume_document","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["sts:AssumeRole"]},"effect":{"constant_value":"Allow"},"principals":[{"identifiers":{"constant_value":["ec2.amazonaws.com"]},"type":{"constant_value":"Service"}}],"sid":{"constant_value":"1"}}],"version":{"constant_value":"2012-10-17"}},"schema_version":0},{"address":"data.aws_iam_policy_document.ec2_s3_bucket_document","mode":"data","type":"aws_iam_policy_document","name":"ec2_s3_bucket_document","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["s3:ListAllMyBuckets"]},"resources":{"constant_value":["*"]},"sid":{"constant_value":"2"}},{"actions":{"constant_value":["s3:GetObject","s3:ListBucket","s3:PutBucket"]},"resources":{"references":["var.iam_ec2_s3_bucket_arn_list"]},"sid":{"constant_value":"1"}}]},"schema_version":0},{"address":"data.aws_iam_policy_document.ec2_secrets_manager_readwrite_document","mode":"data","type":"aws_iam_policy_document","name":"ec2_secrets_manager_readwrite_document","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["secretsmanager:*"]},"resources":{"references":["var.iam_ec2_secrets_manager_readwrite_resources"]},"sid":{"constant_value":"2"}}]},"schema_version":0},{"address":"data.aws_iam_policy_document.ec2_session_manager_ssm_document","mode":"data","type":"aws_iam_policy_document","name":"ec2_session_manager_ssm_document","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["ssm:DescribeAssociation","ssm:GetDeployablePatchSnapshotForInstance","ssm:GetDocument","ssm:DescribeDocument","ssm:GetManifest","ssm:GetParameters","ssm:ListAssociations","ssm:ListInstanceAssociations","ssm:PutInventory","ssm:PutComplianceItems","ssm:PutConfigurePackageResult","ssm:UpdateAssociationStatus","ssm:UpdateInstanceAssociationStatus","ssm:UpdateInstanceInformation","ssmmessages:CreateControlChannel","ssmmessages:CreateDataChannel","ssmmessages:OpenControlChannel","ssmmessages:OpenDataChannel"]},"resources":{"constant_value":["*"]},"sid":{"constant_value":"2"}}]},"schema_version":0},{"address":"data.aws_iam_policy_document.ecs_task_assume_document","mode":"data","type":"aws_iam_policy_document","name":"ecs_task_assume_document","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["sts:AssumeRole"]},"effect":{"constant_value":"Allow"},"principals":[{"identifiers":{"constant_value":["ecs-tasks.amazonaws.com"]},"type":{"constant_value":"Service"}}],"sid":{"constant_value":"1"}}],"version":{"constant_value":"2012-10-17"}},"schema_version":0},{"address":"data.aws_iam_policy_document.ecs_task_log-ssm-s3_document","mode":"data","type":"aws_iam_policy_document","name":"ecs_task_log-ssm-s3_document","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["logs:CreateLogStream","logs:PutLogEvents"]},"effect":{"constant_value":"Allow"},"resources":{"references":["var.iam_ecs_task_loggroup_resources_list"]},"sid":{"constant_value":"1"}},{"actions":{"constant_value":["ssm:GetParametersByPath","ssm:GetParameters","ssm:GetParameter","secretsmanager:GetSecretValue"]},"effect":{"constant_value":"Allow"},"resources":{"constant_value":["*"]},"sid":{"constant_value":"2"}},{"actions":{"constant_value":["s3:PutObject","s3:GetObject","s3:GetObjectVersion","s3:GetBucketAcl","s3:GetBucketLocation"]},"effect":{"constant_value":"Allow"},"resources":{"references":["var.iam_ecs_task_bucket_arn_list"]},"sid":{"constant_value":"3"}},{"actions":{"constant_value":["ecs:ListClusters","ecs:ListContainerInstances","ecs:DescribeContainerInstances"]},"effect":{"constant_value":"Allow"},"resources":{"constant_value":["*"]},"sid":{"constant_value":"4"}}],"version":{"constant_value":"2012-10-17"}},"schema_version":0}],"variables":{"iam_ec2_ec2_session_manager_ssm_policy_name":{},"iam_ec2_profile_name":{},"iam_ec2_role_name":{},"iam_ec2_s3_bucket_arn_list":{},"iam_ec2_s3_policy_name":{},"iam_ec2_secret_manager_readwrite_resource_name":{},"iam_ec2_secrets_manager_readwrite_resources":{},"iam_ecs_task_bucket_arn_list":{},"iam_ecs_task_loggroup_resources_list":{},"iam_ecs_task_policy_name":{},"iam_ecs_task_role_name":{},"iam_environment":{},"iam_product_name":{}}}},"jumpbox_instance":{"source":"../modules/ec2_instance","expressions":{"ec2instance_ami_id":{"references":["data.aws_ami.ec2_instance_type.id","data.aws_ami.ec2_instance_type"]},"ec2instance_az_name_list":{"references":["data.aws_availability_zones.azs.names","data.aws_availability_zones.azs"]},"ec2instance_count":{"constant_value":1},"ec2instance_env_name":{"references":["local.global_prefix"]},"ec2instance_environment":{"references":["var.var_global_aws_environment"]},"ec2instance_iam_profile_name":{"references":["module.iam.output_instance_profile_name","module.iam"]},"ec2instance_instance_class":{"constant_value":"t3.micro"},"ec2instance_name":{"references":["var.var_global_product"]},"ec2instance_private_ips_list":{"constant_value":["10.20.0.20"]},"ec2instance_product_name":{"references":["var.var_global_product"]},"ec2instance_root_ebs_volume_size":{"constant_value":"30"},"ec2instance_root_ebs_volume_type":{"constant_value":"gp3"},"ec2instance_security_group_id_list":{"references":["module.securitygroups.output_secgroup_jumpbox_group_id","module.securitygroups"]},"ec2instance_should_enable_public_ip":{"constant_value":true},"ec2instance_should_root_block_encrypted":{"constant_value":true},"ec2instance_ssh_key_name":{"references":["var.var_global_aws_environment","var.var_global_product"]},"ec2instance_subnet_id_list":{"references":["module.vpc.output_vpc_public_subnet_ids","module.vpc"]}},"module":{"outputs":{"output_ec2instance_network_interface_ids":{"expression":{"references":["aws_instance.ec2_instance"]}},"output_ec2instance_private_ips":{"expression":{"references":["aws_instance.ec2_instance"]}},"output_ec2instances_ids":{"expression":{"references":["aws_instance.ec2_instance"]}}},"resources":[{"address":"aws_instance.ec2_instance","mode":"managed","type":"aws_instance","name":"ec2_instance","provider_config_key":"aws","expressions":{"ami":{"references":["var.ec2instance_ami_id"]},"associate_public_ip_address":{"references":["var.ec2instance_should_enable_public_ip"]},"iam_instance_profile":{"references":["var.ec2instance_iam_profile_name"]},"instance_type":{"references":["var.ec2instance_instance_class"]},"key_name":{"references":["var.ec2instance_ssh_key_name"]},"private_ip":{"references":["var.ec2instance_private_ips_list","count.index"]},"root_block_device":[{"encrypted":{"references":["var.ec2instance_should_root_block_encrypted"]},"tags":{"references":["var.ec2instance_name","var.ec2instance_product_name","var.ec2instance_environment"]},"volume_size":{"references":["var.ec2instance_root_ebs_volume_size"]},"volume_type":{"references":["var.ec2instance_root_ebs_volume_type"]}}],"subnet_id":{"references":["var.ec2instance_subnet_id_list","count.index"]},"tags":{"references":["var.ec2instance_name","var.ec2instance_env_name","var.ec2instance_env_name","var.ec2instance_az_name_list","count.index","var.ec2instance_product_name","var.ec2instance_environment"]},"user_data":{"references":["path.module"]},"vpc_security_group_ids":{"references":["var.ec2instance_security_group_id_list"]}},"schema_version":1,"count_expression":{"references":["var.ec2instance_count"]}}],"variables":{"ec2instance_ami_id":{},"ec2instance_az_name_list":{},"ec2instance_count":{},"ec2instance_env_name":{},"ec2instance_environment":{},"ec2instance_iam_profile_name":{},"ec2instance_instance_class":{},"ec2instance_name":{},"ec2instance_private_ips_list":{},"ec2instance_product_name":{},"ec2instance_root_ebs_volume_size":{},"ec2instance_root_ebs_volume_type":{},"ec2instance_security_group_id_list":{},"ec2instance_should_enable_public_ip":{},"ec2instance_should_root_block_encrypted":{},"ec2instance_ssh_key_name":{},"ec2instance_subnet_id_list":{}}}},"rds_aurora_multiregion":{"source":"../modules/rds_aurora","expressions":{"rds_aurora_multiregion_apply_immediately":{"references":["var.var_rds_aurora_mr_apply_immediately"]},"rds_aurora_multiregion_caller_id":{"references":["data.aws_caller_identity.current.arn","data.aws_caller_identity.current"]},"rds_aurora_multiregion_cloudwatch_logs_exports":{"references":["var.var_rds_aurora_mr_cloudwatch_logs_exports"]},"rds_aurora_multiregion_cluster_gr_family":{"references":["var.var_rds_aurora_mr_cluster_gr_family"]},"rds_aurora_multiregion_cluster_param_gr_name":{"references":["local.global_prefix","var.var_rds_aurora_mr_cluster_param_gr_name"]},"rds_aurora_multiregion_create_db_subnet_group":{"references":["var.var_rds_aurora_mr_create_db_subnet_group"]},"rds_aurora_multiregion_create_security_group":{"references":["var.var_rds_aurora_mr_create_security_group"]},"rds_aurora_multiregion_database_name":{"references":["var.var_rds_aurora_mr_database_name"]},"rds_aurora_multiregion_db_port":{"references":["var.var_global_mysql_port"]},"rds_aurora_multiregion_engine":{"references":["var.var_rds_aurora_mr_engine"]},"rds_aurora_multiregion_engine_version":{"references":["var.var_rds_aurora_mr_engine_version"]},"rds_aurora_multiregion_environment":{"references":["var.var_global_aws_environment"]},"rds_aurora_multiregion_first_instance_class":{"references":["var.var_rds_aurora_mr_first_instance_class"]},"rds_aurora_multiregion_first_instance_identifier":{"references":["local.global_prefix","var.var_rds_aurora_mr_first_instance_identifier"]},"rds_aurora_multiregion_first_publicly_assessible":{"references":["var.var_rds_aurora_mr_first_publicly_assessible"]},"rds_aurora_multiregion_iam_authentication_enable":{"references":["var.var_rds_aurora_mr_iam_authentication_enable"]},"rds_aurora_multiregion_identifier":{"references":["local.global_prefix","var.var_rds_aurora_mr_identifier"]},"rds_aurora_multiregion_master_password":{"references":["var.var_rds_aurora_mr_master_password"]},"rds_aurora_multiregion_master_username":{"references":["var.var_rds_aurora_mr_master_username"]},"rds_aurora_multiregion_param_gr_family":{"references":["var.var_rds_aurora_mr_param_gr_family"]},"rds_aurora_multiregion_param_gr_name":{"references":["var.var_rds_aurora_mr_param_gr_name"]},"rds_aurora_multiregion_parameter_max_con":{"references":["var.var_rds_aurora_multiregion_parameter_max_con"]},"rds_aurora_multiregion_product_name":{"references":["var.var_global_product"]},"rds_aurora_multiregion_skip_final_snapshot":{"references":["var.var_rds_aurora_mr_skip_final_snapshot"]},"rds_aurora_multiregion_subnet_group_name":{"references":["module.vpc.output_vpc_database_subnet_group_name","module.vpc"]},"rds_aurora_multiregion_vpc_id":{"references":["module.vpc.output_vpc_vpc_id","module.vpc"]},"rds_aurora_multiregion_vpc_security_group_ids_list":{"references":["module.securitygroups.output_secgroup_mysql_group_id","module.securitygroups"]}},"module":{"outputs":{"output_rds_aurora_multiregion_cluster_instances":{"expression":{"references":["module.rds_aurora.cluster_instances","module.rds_aurora"]}},"output_rds_aurora_multiregion_cluster_master_password":{"expression":{"references":["module.rds_aurora.cluster_master_password","module.rds_aurora"]}},"output_rds_aurora_multiregion_cluster_master_username":{"expression":{"references":["module.rds_aurora.cluster_master_username","module.rds_aurora"]}},"output_rds_aurora_multiregion_cluster_members":{"expression":{"references":["module.rds_aurora.cluster_members","module.rds_aurora"]}},"output_rds_aurora_multiregion_reader_endpoint":{"expression":{"references":["module.rds_aurora.cluster_reader_endpoint","module.rds_aurora"]}},"output_rds_aurora_multiregion_writer_endpoint":{"expression":{"references":["module.rds_aurora.cluster_endpoint","module.rds_aurora"]}}},"resources":[{"address":"aws_db_parameter_group.aurora_multiregion_mysql_57_param_group","mode":"managed","type":"aws_db_parameter_group","name":"aurora_multiregion_mysql_57_param_group","provider_config_key":"aws","expressions":{"description":{"constant_value":"multiregion aurora rds paramerter group"},"family":{"references":["var.rds_aurora_multiregion_param_gr_family"]},"name":{"references":["var.rds_aurora_multiregion_param_gr_name"]},"parameter":[{"apply_method":{"constant_value":"immediate"},"name":{"constant_value":"max_connections"},"value":{"references":["var.rds_aurora_multiregion_parameter_max_con"]}}],"tags":{"references":["var.rds_aurora_multiregion_param_gr_name","var.rds_aurora_multiregion_product_name","var.rds_aurora_multiregion_environment"]}},"schema_version":0},{"address":"aws_rds_cluster_parameter_group.aurora_multiregion_cluster_mysql_57_param_group","mode":"managed","type":"aws_rds_cluster_parameter_group","name":"aurora_multiregion_cluster_mysql_57_param_group","provider_config_key":"aws","expressions":{"description":{"constant_value":"multiregion aurora rds cluster param group"},"family":{"references":["var.rds_aurora_multiregion_cluster_gr_family"]},"name":{"references":["var.rds_aurora_multiregion_cluster_param_gr_name"]},"tags":{"references":["var.rds_aurora_multiregion_cluster_param_gr_name","var.rds_aurora_multiregion_product_name","var.rds_aurora_multiregion_environment"]}},"schema_version":0}],"module_calls":{"rds_aurora":{"source":"terraform-aws-modules/rds-aurora/aws","expressions":{"apply_immediately":{"references":["var.rds_aurora_multiregion_apply_immediately"]},"create_db_subnet_group":{"references":["var.rds_aurora_multiregion_create_db_subnet_group"]},"create_security_group":{"references":["var.rds_aurora_multiregion_create_security_group"]},"database_name":{"references":["var.rds_aurora_multiregion_database_name"]},"db_cluster_parameter_group_name":{"references":["aws_rds_cluster_parameter_group.aurora_multiregion_cluster_mysql_57_param_group.name","aws_rds_cluster_parameter_group.aurora_multiregion_cluster_mysql_57_param_group"]},"db_parameter_group_name":{"references":["aws_db_parameter_group.aurora_multiregion_mysql_57_param_group.name","aws_db_parameter_group.aurora_multiregion_mysql_57_param_group"]},"db_subnet_group_name":{"references":["var.rds_aurora_multiregion_subnet_group_name"]},"enabled_cloudwatch_logs_exports":{"references":["var.rds_aurora_multiregion_cloudwatch_logs_exports"]},"engine":{"references":["var.rds_aurora_multiregion_engine"]},"engine_version":{"references":["var.rds_aurora_multiregion_engine_version"]},"iam_database_authentication_enabled":{"references":["var.rds_aurora_multiregion_iam_authentication_enable"]},"instances":{"references":["var.rds_aurora_multiregion_first_instance_identifier","var.rds_aurora_multiregion_first_instance_class","var.rds_aurora_multiregion_first_publicly_assessible"]},"master_password":{"references":["var.rds_aurora_multiregion_master_password"]},"master_username":{"references":["var.rds_aurora_multiregion_master_username"]},"name":{"references":["var.rds_aurora_multiregion_identifier"]},"port":{"references":["var.rds_aurora_multiregion_db_port"]},"skip_final_snapshot":{"references":["var.rds_aurora_multiregion_skip_final_snapshot"]},"tags":{"references":["var.rds_aurora_multiregion_identifier","var.rds_aurora_multiregion_product_name","var.rds_aurora_multiregion_environment"]},"vpc_id":{"references":["var.rds_aurora_multiregion_vpc_id"]},"vpc_security_group_ids":{"references":["var.rds_aurora_multiregion_vpc_security_group_ids_list"]}},"module":{"outputs":{"additional_cluster_endpoints":{"expression":{"references":["aws_rds_cluster_endpoint.this"]},"description":"A map of additional cluster endpoints and their attributes"},"cluster_arn":{"expression":{"references":["aws_rds_cluster.this[0].arn","aws_rds_cluster.this[0]","aws_rds_cluster.this"]},"description":"Amazon Resource Name (ARN) of cluster"},"cluster_database_name":{"expression":{"references":["var.database_name"]},"description":"Name for an automatically created database on cluster creation"},"cluster_endpoint":{"expression":{"references":["aws_rds_cluster.this[0].endpoint","aws_rds_cluster.this[0]","aws_rds_cluster.this"]},"description":"Writer endpoint for the cluster"},"cluster_engine_version_actual":{"expression":{"references":["aws_rds_cluster.this[0].engine_version_actual","aws_rds_cluster.this[0]","aws_rds_cluster.this"]},"description":"The running version of the cluster database"},"cluster_hosted_zone_id":{"expression":{"references":["aws_rds_cluster.this[0].hosted_zone_id","aws_rds_cluster.this[0]","aws_rds_cluster.this"]},"description":"The Route53 Hosted Zone ID of the endpoint"},"cluster_id":{"expression":{"references":["aws_rds_cluster.this[0].id","aws_rds_cluster.this[0]","aws_rds_cluster.this"]},"description":"The RDS Cluster Identifier"},"cluster_instances":{"expression":{"references":["aws_rds_cluster_instance.this"]},"description":"A map of cluster instances and their attributes"},"cluster_master_password":{"sensitive":true,"expression":{"references":["aws_rds_cluster.this[0].master_password","aws_rds_cluster.this[0]","aws_rds_cluster.this"]},"description":"The database master password"},"cluster_master_username":{"sensitive":true,"expression":{"references":["aws_rds_cluster.this[0].master_username","aws_rds_cluster.this[0]","aws_rds_cluster.this"]},"description":"The database master username"},"cluster_members":{"expression":{"references":["aws_rds_cluster.this[0].cluster_members","aws_rds_cluster.this[0]","aws_rds_cluster.this"]},"description":"List of RDS Instances that are a part of this cluster"},"cluster_port":{"expression":{"references":["aws_rds_cluster.this[0].port","aws_rds_cluster.this[0]","aws_rds_cluster.this"]},"description":"The database port"},"cluster_reader_endpoint":{"expression":{"references":["aws_rds_cluster.this[0].reader_endpoint","aws_rds_cluster.this[0]","aws_rds_cluster.this"]},"description":"A read-only endpoint for the cluster, automatically load-balanced across replicas"},"cluster_resource_id":{"expression":{"references":["aws_rds_cluster.this[0].cluster_resource_id","aws_rds_cluster.this[0]","aws_rds_cluster.this"]},"description":"The RDS Cluster Resource ID"},"cluster_role_associations":{"expression":{"references":["aws_rds_cluster_role_association.this"]},"description":"A map of IAM roles associated with the cluster and their attributes"},"db_subnet_group_name":{"expression":{"references":["local.db_subnet_group_name"]},"description":"The db subnet group name"},"enhanced_monitoring_iam_role_arn":{"expression":{"references":["aws_iam_role.rds_enhanced_monitoring[0].arn","aws_iam_role.rds_enhanced_monitoring[0]","aws_iam_role.rds_enhanced_monitoring"]},"description":"The Amazon Resource Name (ARN) specifying the enhanced monitoring role"},"enhanced_monitoring_iam_role_name":{"expression":{"references":["aws_iam_role.rds_enhanced_monitoring[0].name","aws_iam_role.rds_enhanced_monitoring[0]","aws_iam_role.rds_enhanced_monitoring"]},"description":"The name of the enhanced monitoring role"},"enhanced_monitoring_iam_role_unique_id":{"expression":{"references":["aws_iam_role.rds_enhanced_monitoring[0].unique_id","aws_iam_role.rds_enhanced_monitoring[0]","aws_iam_role.rds_enhanced_monitoring"]},"description":"Stable and unique string identifying the enhanced monitoring role"},"security_group_id":{"expression":{"references":["local.rds_security_group_id"]},"description":"The security group ID of the cluster"}},"resources":[{"address":"aws_appautoscaling_policy.this","mode":"managed","type":"aws_appautoscaling_policy","name":"this","provider_config_key":"aws","expressions":{"name":{"constant_value":"target-metric"},"policy_type":{"constant_value":"TargetTrackingScaling"},"resource_id":{"references":["aws_rds_cluster.this[0].cluster_identifier","aws_rds_cluster.this[0]","aws_rds_cluster.this"]},"scalable_dimension":{"constant_value":"rds:cluster:ReadReplicaCount"},"service_namespace":{"constant_value":"rds"},"target_tracking_scaling_policy_configuration":[{"predefined_metric_specification":[{"predefined_metric_type":{"references":["var.predefined_metric_type"]}}],"scale_in_cooldown":{"references":["var.autoscaling_scale_in_cooldown"]},"scale_out_cooldown":{"references":["var.autoscaling_scale_out_cooldown"]},"target_value":{"references":["var.predefined_metric_type","var.autoscaling_target_cpu","var.autoscaling_target_connections"]}}]},"schema_version":0,"count_expression":{"references":["local.create_cluster","var.autoscaling_enabled","local.is_serverless"]},"depends_on":["aws_appautoscaling_target.this"]},{"address":"aws_appautoscaling_target.this","mode":"managed","type":"aws_appautoscaling_target","name":"this","provider_config_key":"aws","expressions":{"max_capacity":{"references":["var.autoscaling_max_capacity"]},"min_capacity":{"references":["var.autoscaling_min_capacity"]},"resource_id":{"references":["aws_rds_cluster.this[0].cluster_identifier","aws_rds_cluster.this[0]","aws_rds_cluster.this"]},"scalable_dimension":{"constant_value":"rds:cluster:ReadReplicaCount"},"service_namespace":{"constant_value":"rds"}},"schema_version":0,"count_expression":{"references":["local.create_cluster","var.autoscaling_enabled","local.is_serverless"]}},{"address":"aws_db_subnet_group.this","mode":"managed","type":"aws_db_subnet_group","name":"this","provider_config_key":"aws","expressions":{"description":{"references":["var.name"]},"name":{"references":["local.internal_db_subnet_group_name"]},"subnet_ids":{"references":["var.subnets"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_cluster","var.create_db_subnet_group"]}},{"address":"aws_iam_role.rds_enhanced_monitoring","mode":"managed","type":"aws_iam_role","name":"rds_enhanced_monitoring","provider_config_key":"aws","expressions":{"assume_role_policy":{"references":["data.aws_iam_policy_document.monitoring_rds_assume_role.json","data.aws_iam_policy_document.monitoring_rds_assume_role"]},"description":{"references":["var.iam_role_description"]},"force_detach_policies":{"references":["var.iam_role_force_detach_policies"]},"managed_policy_arns":{"references":["var.iam_role_managed_policy_arns"]},"max_session_duration":{"references":["var.iam_role_max_session_duration"]},"name":{"references":["var.iam_role_use_name_prefix","var.iam_role_name"]},"name_prefix":{"references":["var.iam_role_use_name_prefix","var.iam_role_name"]},"path":{"references":["var.iam_role_path"]},"permissions_boundary":{"references":["var.iam_role_permissions_boundary"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_cluster","var.create_monitoring_role","var.monitoring_interval"]}},{"address":"aws_iam_role_policy_attachment.rds_enhanced_monitoring","mode":"managed","type":"aws_iam_role_policy_attachment","name":"rds_enhanced_monitoring","provider_config_key":"aws","expressions":{"policy_arn":{"references":["data.aws_partition.current.partition","data.aws_partition.current"]},"role":{"references":["aws_iam_role.rds_enhanced_monitoring[0].name","aws_iam_role.rds_enhanced_monitoring[0]","aws_iam_role.rds_enhanced_monitoring"]}},"schema_version":0,"count_expression":{"references":["local.create_cluster","var.create_monitoring_role","var.monitoring_interval"]}},{"address":"aws_rds_cluster.this","mode":"managed","type":"aws_rds_cluster","name":"this","provider_config_key":"aws","expressions":{"allow_major_version_upgrade":{"references":["var.allow_major_version_upgrade"]},"apply_immediately":{"references":["var.apply_immediately"]},"backtrack_window":{"references":["local.backtrack_window"]},"backup_retention_period":{"references":["var.backup_retention_period"]},"cluster_identifier":{"references":["var.name"]},"copy_tags_to_snapshot":{"references":["var.copy_tags_to_snapshot"]},"database_name":{"references":["var.is_primary_cluster","var.database_name"]},"db_cluster_parameter_group_name":{"references":["var.db_cluster_parameter_group_name"]},"db_instance_parameter_group_name":{"references":["var.allow_major_version_upgrade","var.db_cluster_db_instance_parameter_group_name"]},"db_subnet_group_name":{"references":["local.db_subnet_group_name"]},"deletion_protection":{"references":["var.deletion_protection"]},"enable_global_write_forwarding":{"references":["var.enable_global_write_forwarding"]},"enable_http_endpoint":{"references":["var.enable_http_endpoint"]},"enabled_cloudwatch_logs_exports":{"references":["var.enabled_cloudwatch_logs_exports"]},"engine":{"references":["var.engine"]},"engine_mode":{"references":["var.engine_mode"]},"engine_version":{"references":["local.is_serverless","var.engine_version"]},"final_snapshot_identifier":{"references":["var.final_snapshot_identifier_prefix","var.name","random_id.snapshot_identifier"]},"global_cluster_identifier":{"references":["var.global_cluster_identifier"]},"iam_database_authentication_enabled":{"references":["var.iam_database_authentication_enabled"]},"kms_key_id":{"references":["var.kms_key_id"]},"master_password":{"references":["var.is_primary_cluster","local.master_password"]},"master_username":{"references":["var.is_primary_cluster","var.master_username"]},"port":{"references":["local.port"]},"preferred_backup_window":{"references":["local.is_serverless","var.preferred_backup_window"]},"preferred_maintenance_window":{"references":["local.is_serverless","var.preferred_maintenance_window"]},"replication_source_identifier":{"references":["var.replication_source_identifier"]},"skip_final_snapshot":{"references":["var.skip_final_snapshot"]},"snapshot_identifier":{"references":["var.snapshot_identifier"]},"source_region":{"references":["var.source_region"]},"storage_encrypted":{"references":["var.storage_encrypted"]},"tags":{"references":["var.tags","var.cluster_tags"]},"timeouts":{"create":{"references":["var.cluster_timeouts"]},"delete":{"references":["var.cluster_timeouts"]},"update":{"references":["var.cluster_timeouts"]}},"vpc_security_group_ids":{"references":["aws_security_group.this","var.vpc_security_group_ids"]}},"schema_version":0,"count_expression":{"references":["local.create_cluster"]}},{"address":"aws_rds_cluster_endpoint.this","mode":"managed","type":"aws_rds_cluster_endpoint","name":"this","provider_config_key":"aws","expressions":{"cluster_endpoint_identifier":{"references":["each.value.identifier","each.value"]},"cluster_identifier":{"references":["aws_rds_cluster.this[0].id","aws_rds_cluster.this[0]","aws_rds_cluster.this"]},"custom_endpoint_type":{"references":["each.value.type","each.value"]},"excluded_members":{"references":["each.value"]},"static_members":{"references":["each.value"]},"tags":{"references":["var.tags","each.value"]}},"schema_version":0,"for_each_expression":{"references":["local.create_cluster","local.is_serverless","var.endpoints"]},"depends_on":["aws_rds_cluster_instance.this"]},{"address":"aws_rds_cluster_instance.this","mode":"managed","type":"aws_rds_cluster_instance","name":"this","provider_config_key":"aws","expressions":{"apply_immediately":{"references":["each.value","var.apply_immediately"]},"auto_minor_version_upgrade":{"references":["each.value","var.auto_minor_version_upgrade"]},"availability_zone":{"references":["each.value"]},"ca_cert_identifier":{"references":["var.ca_cert_identifier"]},"cluster_identifier":{"references":["aws_rds_cluster.this[0].id","aws_rds_cluster.this[0]","aws_rds_cluster.this"]},"copy_tags_to_snapshot":{"references":["each.value","var.copy_tags_to_snapshot"]},"db_parameter_group_name":{"references":["each.value","var.db_parameter_group_name"]},"db_subnet_group_name":{"references":["local.db_subnet_group_name"]},"engine":{"references":["var.engine"]},"engine_version":{"references":["var.engine_version"]},"identifier":{"references":["var.instances_use_identifier_prefix","each.value","var.name","each.key"]},"identifier_prefix":{"references":["var.instances_use_identifier_prefix","each.value","var.name","each.key"]},"instance_class":{"references":["each.value","var.instance_class"]},"monitoring_interval":{"references":["each.value","var.monitoring_interval"]},"monitoring_role_arn":{"references":["local.rds_enhanced_monitoring_arn"]},"performance_insights_enabled":{"references":["each.value","var.performance_insights_enabled"]},"performance_insights_kms_key_id":{"references":["each.value","var.performance_insights_kms_key_id"]},"performance_insights_retention_period":{"references":["each.value","var.performance_insights_retention_period"]},"preferred_maintenance_window":{"references":["each.value","var.preferred_maintenance_window"]},"promotion_tier":{"references":["each.value"]},"publicly_accessible":{"references":["each.value","var.publicly_accessible"]},"tags":{"references":["var.tags"]},"timeouts":{"create":{"references":["var.instance_timeouts"]},"delete":{"references":["var.instance_timeouts"]},"update":{"references":["var.instance_timeouts"]}}},"schema_version":0,"for_each_expression":{"references":["local.create_cluster","local.is_serverless","var.instances"]}},{"address":"aws_rds_cluster_role_association.this","mode":"managed","type":"aws_rds_cluster_role_association","name":"this","provider_config_key":"aws","expressions":{"db_cluster_identifier":{"references":["aws_rds_cluster.this[0].id","aws_rds_cluster.this[0]","aws_rds_cluster.this"]},"feature_name":{"references":["each.value.feature_name","each.value"]},"role_arn":{"references":["each.value.role_arn","each.value"]}},"schema_version":0,"for_each_expression":{"references":["local.create_cluster","var.iam_roles"]}},{"address":"aws_security_group.this","mode":"managed","type":"aws_security_group","name":"this","provider_config_key":"aws","expressions":{"description":{"references":["var.security_group_description","var.name"]},"name":{"references":["var.security_group_use_name_prefix","var.name"]},"name_prefix":{"references":["var.security_group_use_name_prefix","var.name"]},"tags":{"references":["var.tags","var.security_group_tags","var.name"]},"vpc_id":{"references":["var.vpc_id"]}},"schema_version":1,"count_expression":{"references":["local.create_cluster","var.create_security_group"]}},{"address":"aws_security_group_rule.cidr_ingress","mode":"managed","type":"aws_security_group_rule","name":"cidr_ingress","provider_config_key":"aws","expressions":{"cidr_blocks":{"references":["var.allowed_cidr_blocks"]},"description":{"constant_value":"From allowed CIDRs"},"from_port":{"references":["local.port"]},"protocol":{"constant_value":"tcp"},"security_group_id":{"references":["local.rds_security_group_id"]},"to_port":{"references":["local.port"]},"type":{"constant_value":"ingress"}},"schema_version":2,"count_expression":{"references":["local.create_cluster","var.create_security_group","var.allowed_cidr_blocks"]}},{"address":"aws_security_group_rule.default_ingress","mode":"managed","type":"aws_security_group_rule","name":"default_ingress","provider_config_key":"aws","expressions":{"description":{"constant_value":"From allowed SGs"},"from_port":{"references":["local.port"]},"protocol":{"constant_value":"tcp"},"security_group_id":{"references":["local.rds_security_group_id"]},"source_security_group_id":{"references":["var.allowed_security_groups","count.index"]},"to_port":{"references":["local.port"]},"type":{"constant_value":"ingress"}},"schema_version":2,"count_expression":{"references":["local.create_cluster","var.create_security_group","var.allowed_security_groups"]}},{"address":"aws_security_group_rule.egress","mode":"managed","type":"aws_security_group_rule","name":"egress","provider_config_key":"aws","expressions":{"cidr_blocks":{"references":["each.value"]},"description":{"references":["each.value"]},"from_port":{"references":["each.value","local.port"]},"ipv6_cidr_blocks":{"references":["each.value"]},"prefix_list_ids":{"references":["each.value"]},"protocol":{"constant_value":"tcp"},"security_group_id":{"references":["local.rds_security_group_id"]},"source_security_group_id":{"references":["each.value"]},"to_port":{"references":["each.value","local.port"]},"type":{"constant_value":"egress"}},"schema_version":2,"for_each_expression":{"references":["local.create_cluster","var.create_security_group","var.security_group_egress_rules"]}},{"address":"random_id.snapshot_identifier","mode":"managed","type":"random_id","name":"snapshot_identifier","provider_config_key":"module.rds_aurora_multiregion.module.rds_aurora:random","expressions":{"byte_length":{"constant_value":4},"keepers":{"references":["var.name"]}},"schema_version":0,"count_expression":{"references":["local.create_cluster"]}},{"address":"random_password.master_password","mode":"managed","type":"random_password","name":"master_password","provider_config_key":"module.rds_aurora_multiregion.module.rds_aurora:random","expressions":{"length":{"references":["var.random_password_length"]},"special":{"constant_value":false}},"schema_version":2,"count_expression":{"references":["local.create_cluster","var.create_random_password"]}},{"address":"data.aws_iam_policy_document.monitoring_rds_assume_role","mode":"data","type":"aws_iam_policy_document","name":"monitoring_rds_assume_role","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["sts:AssumeRole"]},"principals":[{"identifiers":{"constant_value":["monitoring.rds.amazonaws.com"]},"type":{"constant_value":"Service"}}]}]},"schema_version":0},{"address":"data.aws_partition.current","mode":"data","type":"aws_partition","name":"current","provider_config_key":"aws","schema_version":0}],"variables":{"allow_major_version_upgrade":{"default":false,"description":"Enable to allow major engine version upgrades when changing engine versions. Defaults to `false`"},"allowed_cidr_blocks":{"default":[],"description":"A list of CIDR blocks which are allowed to access the database"},"allowed_security_groups":{"default":[],"description":"A list of Security Group ID's to allow access to"},"apply_immediately":{"default":null,"description":"Specifies whether any cluster modifications are applied immediately, or during the next maintenance window. Default is `false`"},"auto_minor_version_upgrade":{"default":null,"description":"Indicates that minor engine upgrades will be applied automatically to the DB instance during the maintenance window. Default `true`"},"autoscaling_enabled":{"default":false,"description":"Determines whether autoscaling of the cluster read replicas is enabled"},"autoscaling_max_capacity":{"default":2,"description":"Maximum number of read replicas permitted when autoscaling is enabled"},"autoscaling_min_capacity":{"default":0,"description":"Minimum number of read replicas permitted when autoscaling is enabled"},"autoscaling_scale_in_cooldown":{"default":300,"description":"Cooldown in seconds before allowing further scaling operations after a scale in"},"autoscaling_scale_out_cooldown":{"default":300,"description":"Cooldown in seconds before allowing further scaling operations after a scale out"},"autoscaling_target_connections":{"default":700,"description":"Average number of connections threshold which will initiate autoscaling. Default value is 70% of db.r4/r5/r6g.large's default max_connections"},"autoscaling_target_cpu":{"default":70,"description":"CPU threshold which will initiate autoscaling"},"backtrack_window":{"default":null,"description":"The target backtrack window, in seconds. Only available for `aurora` engine currently. To disable backtracking, set this value to 0. Must be between 0 and 259200 (72 hours)"},"backup_retention_period":{"default":7,"description":"The days to retain backups for. Default `7`"},"ca_cert_identifier":{"default":null,"description":"The identifier of the CA certificate for the DB instance"},"cluster_tags":{"default":{},"description":"A map of tags to add to only the cluster. Used for AWS Instance Scheduler tagging"},"cluster_timeouts":{"default":{},"description":"Create, update, and delete timeout configurations for the cluster"},"copy_tags_to_snapshot":{"default":null,"description":"Copy all Cluster `tags` to snapshots"},"create_cluster":{"default":true,"description":"Whether cluster should be created (affects nearly all resources)"},"create_db_subnet_group":{"default":true,"description":"Determines whether to create the database subnet group or use existing"},"create_monitoring_role":{"default":true,"description":"Determines whether to create the IAM role for RDS enhanced monitoring"},"create_random_password":{"default":true,"description":"Determines whether to create random password for RDS primary cluster"},"create_security_group":{"default":true,"description":"Determines whether to create security group for RDS cluster"},"database_name":{"default":null,"description":"Name for an automatically created database on cluster creation"},"db_cluster_db_instance_parameter_group_name":{"default":null,"description":"Instance parameter group to associate with all instances of the DB cluster. The `db_cluster_db_instance_parameter_group_name` is only valid in combination with `allow_major_version_upgrade`"},"db_cluster_parameter_group_name":{"default":null,"description":"A cluster parameter group to associate with the cluster"},"db_parameter_group_name":{"default":null,"description":"The name of the DB parameter group to associate with instances"},"db_subnet_group_name":{"default":"","description":"The name of the subnet group name (existing or created)"},"deletion_protection":{"default":null,"description":"If the DB instance should have deletion protection enabled. The database can't be deleted when this value is set to `true`. The default is `false`"},"enable_global_write_forwarding":{"default":null,"description":"Whether cluster should forward writes to an associated global cluster. Applied to secondary clusters to enable them to forward writes to an `aws_rds_global_cluster`'s primary cluster"},"enable_http_endpoint":{"default":null,"description":"Enable HTTP endpoint (data API). Only valid when engine_mode is set to `serverless`"},"enabled_cloudwatch_logs_exports":{"default":[],"description":"Set of log types to export to cloudwatch. If omitted, no logs will be exported. The following log types are supported: `audit`, `error`, `general`, `slowquery`, `postgresql`"},"endpoints":{"default":{},"description":"Map of additional cluster endpoints and their attributes to be created"},"engine":{"default":null,"description":"The name of the database engine to be used for this DB cluster. Defaults to `aurora`. Valid Values: `aurora`, `aurora-mysql`, `aurora-postgresql`"},"engine_mode":{"default":null,"description":"The database engine mode. Valid values: `global`, `multimaster`, `parallelquery`, `provisioned`, `serverless`. Defaults to: `provisioned`"},"engine_version":{"default":null,"description":"The database engine version. Updating this argument results in an outage"},"final_snapshot_identifier_prefix":{"default":"final","description":"The prefix name to use when creating a final snapshot on cluster destroy; a 8 random digits are appended to name to ensure it's unique"},"global_cluster_identifier":{"default":null,"description":"The global cluster identifier specified on `aws_rds_global_cluster`"},"iam_database_authentication_enabled":{"default":null,"description":"Specifies whether or mappings of AWS Identity and Access Management (IAM) accounts to database accounts is enabled"},"iam_role_description":{"default":null,"description":"Description of the monitoring role"},"iam_role_force_detach_policies":{"default":null,"description":"Whether to force detaching any policies the monitoring role has before destroying it"},"iam_role_managed_policy_arns":{"default":null,"description":"Set of exclusive IAM managed policy ARNs to attach to the monitoring role"},"iam_role_max_session_duration":{"default":null,"description":"Maximum session duration (in seconds) that you want to set for the monitoring role"},"iam_role_name":{"default":null,"description":"Friendly name of the monitoring role"},"iam_role_path":{"default":null,"description":"Path for the monitoring role"},"iam_role_permissions_boundary":{"default":null,"description":"The ARN of the policy that is used to set the permissions boundary for the monitoring role"},"iam_role_use_name_prefix":{"default":false,"description":"Determines whether to use `iam_role_name` as is or create a unique name beginning with the `iam_role_name` as the prefix"},"iam_roles":{"default":{},"description":"Map of IAM roles and supported feature names to associate with the cluster"},"instance_class":{"default":"","description":"Instance type to use at master instance. Note: if `autoscaling_enabled` is `true`, this will be the same instance class used on instances created by autoscaling"},"instance_timeouts":{"default":{},"description":"Create, update, and delete timeout configurations for the cluster instance(s)"},"instances":{"default":{},"description":"Map of cluster instances and any specific/overriding attributes to be created"},"instances_use_identifier_prefix":{"default":false,"description":"Determines whether cluster instance identifiers are used as prefixes"},"is_primary_cluster":{"default":true,"description":"Determines whether cluster is primary cluster with writer instance (set to `false` for global cluster and replica clusters)"},"kms_key_id":{"default":null,"description":"The ARN for the KMS encryption key. When specifying `kms_key_id`, `storage_encrypted` needs to be set to `true`"},"master_password":{"default":null,"description":"Password for the master DB user. Note - when specifying a value here, 'create_random_password' should be set to `false`"},"master_username":{"default":"root","description":"Username for the master DB user"},"monitoring_interval":{"default":0,"description":"The interval, in seconds, between points when Enhanced Monitoring metrics are collected for instances. Set to `0` to disble. Default is `0`"},"monitoring_role_arn":{"default":"","description":"IAM role used by RDS to send enhanced monitoring metrics to CloudWatch"},"name":{"default":"","description":"Name used across resources created"},"performance_insights_enabled":{"default":null,"description":"Specifies whether Performance Insights is enabled or not"},"performance_insights_kms_key_id":{"default":null,"description":"The ARN for the KMS key to encrypt Performance Insights data"},"performance_insights_retention_period":{"default":null,"description":"Amount of time in days to retain Performance Insights data. Either 7 (7 days) or 731 (2 years)"},"port":{"default":null,"description":"The port on which the DB accepts connections"},"predefined_metric_type":{"default":"RDSReaderAverageCPUUtilization","description":"The metric type to scale on. Valid values are `RDSReaderAverageCPUUtilization` and `RDSReaderAverageDatabaseConnections`"},"preferred_backup_window":{"default":"02:00-03:00","description":"The daily time range during which automated backups are created if automated backups are enabled using the `backup_retention_period` parameter. Time in UTC"},"preferred_maintenance_window":{"default":"sun:05:00-sun:06:00","description":"The weekly time range during which system maintenance can occur, in (UTC)"},"publicly_accessible":{"default":null,"description":"Determines whether instances are publicly accessible. Default false"},"putin_khuylo":{"default":true,"description":"Do you agree that Putin doesn't respect Ukrainian sovereignty and territorial integrity? More info: https://en.wikipedia.org/wiki/Putin_khuylo!"},"random_password_length":{"default":10,"description":"Length of random password to create. Defaults to `10`"},"replication_source_identifier":{"default":null,"description":"ARN of a source DB cluster or DB instance if this DB cluster is to be created as a Read Replica"},"restore_to_point_in_time":{"default":{},"description":"Map of nested attributes for cloning Aurora cluster"},"s3_import":{"default":null,"description":"Configuration map used to restore from a Percona Xtrabackup in S3 (only MySQL is supported)"},"scaling_configuration":{"default":{},"description":"Map of nested attributes with scaling properties. Only valid when `engine_mode` is set to `serverless`"},"security_group_description":{"default":null,"description":"The description of the security group. If value is set to empty string it will contain cluster name in the description"},"security_group_egress_rules":{"default":{},"description":"A map of security group egress rule defintions to add to the security group created"},"security_group_tags":{"default":{},"description":"Additional tags for the security group"},"security_group_use_name_prefix":{"default":true,"description":"Determines whether the security group name (`name`) is used as a prefix"},"serverlessv2_scaling_configuration":{"default":{},"description":"Map of nested attributes with serverless v2 scaling properties. Only valid when `engine_mode` is set to `provisioned`"},"skip_final_snapshot":{"default":null,"description":"Determines whether a final snapshot is created before the cluster is deleted. If true is specified, no snapshot is created"},"snapshot_identifier":{"default":null,"description":"Specifies whether or not to create this cluster from a snapshot. You can use either the name or ARN when specifying a DB cluster snapshot, or the ARN when specifying a DB snapshot"},"source_region":{"default":null,"description":"The source region for an encrypted replica DB cluster"},"storage_encrypted":{"default":true,"description":"Specifies whether the DB cluster is encrypted. The default is `true`"},"subnets":{"default":[],"description":"List of subnet IDs used by database subnet group created"},"tags":{"default":{},"description":"A map of tags to add to all resources"},"vpc_id":{"default":"","description":"ID of the VPC where to create security group"},"vpc_security_group_ids":{"default":[],"description":"List of VPC security groups to associate to the cluster in addition to the SG we create in this module"}}}}},"variables":{"rds_aurora_multiregion_apply_immediately":{},"rds_aurora_multiregion_caller_id":{},"rds_aurora_multiregion_cloudwatch_logs_exports":{},"rds_aurora_multiregion_cluster_gr_family":{},"rds_aurora_multiregion_cluster_param_gr_name":{},"rds_aurora_multiregion_create_db_subnet_group":{},"rds_aurora_multiregion_create_security_group":{},"rds_aurora_multiregion_database_name":{},"rds_aurora_multiregion_db_port":{},"rds_aurora_multiregion_engine":{},"rds_aurora_multiregion_engine_version":{},"rds_aurora_multiregion_environment":{},"rds_aurora_multiregion_first_instance_class":{},"rds_aurora_multiregion_first_instance_identifier":{},"rds_aurora_multiregion_first_publicly_assessible":{},"rds_aurora_multiregion_iam_authentication_enable":{},"rds_aurora_multiregion_identifier":{},"rds_aurora_multiregion_master_password":{},"rds_aurora_multiregion_master_username":{},"rds_aurora_multiregion_param_gr_family":{},"rds_aurora_multiregion_param_gr_name":{},"rds_aurora_multiregion_parameter_max_con":{},"rds_aurora_multiregion_product_name":{},"rds_aurora_multiregion_skip_final_snapshot":{},"rds_aurora_multiregion_subnet_group_name":{},"rds_aurora_multiregion_vpc_id":{},"rds_aurora_multiregion_vpc_security_group_ids_list":{}}}},"securitygroups":{"source":"../modules/security_groups","expressions":{"secgroup_app_ecs_allow_egress_cidrs_list":{"references":["var.var_secgroup_app_ecs_allow_egress_cidrs_list"]},"secgroup_app_ecs_from_port":{"references":["var.var_secgroup_app_ecs_from_port"]},"secgroup_app_ecs_group_name":{"references":["local.global_prefix","var.var_secgroup_app_ecs_group_name"]},"secgroup_app_ecs_to_port":{"references":["var.var_secgroup_app_ecs_to_port"]},"secgroup_caller_id":{"references":["data.aws_caller_identity.current.arn","data.aws_caller_identity.current"]},"secgroup_environment":{"references":["var.var_global_aws_environment"]},"secgroup_jumpbox_ec2_allow_egress_cidrs_list":{"references":["var.var_secgroup_jumpbox_ec2_allow_egress_cidrs_list"]},"secgroup_jumpbox_ec2_group_name":{"references":["local.global_prefix","var.var_secgroup_jumpbox_ec2_group_name"]},"secgroup_jumpbox_ec2_ingress_cidr_list":{"references":["var.var_secgroup_jumpbox_ec2_ingress_cidr_list"]},"secgroup_jumpbox_ec2_ingress_rules_list":{"references":["var.var_secgroup_jumpbox_ec2_ingress_rules_list"]},"secgroup_mysql_allow_egress_cidrs_list":{"references":["var.var_secgroup_mysql_allow_egress_cidrs_list"]},"secgroup_network_vpc_id":{"references":["module.vpc.output_vpc_vpc_id","module.vpc"]},"secgroup_product_name":{"references":["var.var_global_product"]},"secgroup_public_elb_allow_egress_cidrs_list":{"references":["var.var_secgroup_public_elb_allow_egress_cidrs_list"]},"secgroup_public_elb_allow_ingress_waf_cidrs_list":{"references":["var.var_secgroup_public_elb_allow_ingress_waf_cidrs_list"]},"secgroup_public_elb_group_name":{"references":["local.global_prefix","var.var_secgroup_public_elb_group_name"]},"secgroup_public_elb_group_rule_list":{"references":["var.var_secgroup_public_elb_group_rule_list"]},"secgroup_single_multiregion_rds_allowed_ingress_cidr":{"references":["var.var_secgroup_single_multiregion_rds_allowed_ingress_cidr"]},"secgroup_single_multiregion_rds_from_port":{"references":["var.var_global_mysql_port"]},"secgroup_single_multiregion_rds_group_name":{"references":["local.global_prefix","var.var_secgroup_single_multiregion_rds_group_name"]},"secgroup_single_multiregion_rds_to_port":{"references":["var.var_global_mysql_port"]}},"module":{"outputs":{"output_secgroup_ecs_group_id":{"expression":{"references":["module.app_ecs_security_group.security_group_id","module.app_ecs_security_group"]}},"output_secgroup_elb_group_id":{"expression":{"references":["module.public_elb_security_group.security_group_id","module.public_elb_security_group"]}},"output_secgroup_jumpbox_group_id":{"expression":{"references":["module.jumpbox_ec2_security_group.security_group_id","module.jumpbox_ec2_security_group"]}},"output_secgroup_mysql_group_id":{"expression":{"references":["module.single_multiregion_rds_security_group.security_group_id","module.single_multiregion_rds_security_group"]}},"output_secgroup_mysql_group_name":{"expression":{"references":["module.single_multiregion_rds_security_group.security_group_name","module.single_multiregion_rds_security_group"]}}},"module_calls":{"app_ecs_security_group":{"source":"terraform-aws-modules/security-group/aws","expressions":{"computed_ingress_with_source_security_group_id":{"references":["var.secgroup_app_ecs_from_port","var.secgroup_app_ecs_to_port","module.public_elb_security_group.security_group_id","module.public_elb_security_group","var.secgroup_app_ecs_from_port","var.secgroup_app_ecs_to_port","module.jumpbox_ec2_security_group.security_group_id","module.jumpbox_ec2_security_group"]},"description":{"constant_value":"Security Group EC2"},"egress_cidr_blocks":{"references":["var.secgroup_app_ecs_allow_egress_cidrs_list"]},"egress_rules":{"constant_value":["all-all"]},"ingress_with_self":{"references":["var.secgroup_app_ecs_from_port","var.secgroup_app_ecs_to_port"]},"name":{"references":["var.secgroup_app_ecs_group_name"]},"number_of_computed_ingress_with_source_security_group_id":{"constant_value":2},"tags":{"references":["var.secgroup_app_ecs_group_name","var.secgroup_product_name","var.secgroup_environment"]},"vpc_id":{"references":["var.secgroup_network_vpc_id"]}},"module":{"outputs":{"security_group_description":{"expression":{"references":["aws_security_group.this[0].description","aws_security_group.this[0]","aws_security_group.this","aws_security_group.this_name_prefix[0].description","aws_security_group.this_name_prefix[0]","aws_security_group.this_name_prefix"]},"description":"The description of the security group"},"security_group_id":{"expression":{"references":["aws_security_group.this[0].id","aws_security_group.this[0]","aws_security_group.this","aws_security_group.this_name_prefix[0].id","aws_security_group.this_name_prefix[0]","aws_security_group.this_name_prefix"]},"description":"The ID of the security group"},"security_group_name":{"expression":{"references":["aws_security_group.this[0].name","aws_security_group.this[0]","aws_security_group.this","aws_security_group.this_name_prefix[0].name","aws_security_group.this_name_prefix[0]","aws_security_group.this_name_prefix"]},"description":"The name of the security group"},"security_group_owner_id":{"expression":{"references":["aws_security_group.this[0].owner_id","aws_security_group.this[0]","aws_security_group.this","aws_security_group.this_name_prefix[0].owner_id","aws_security_group.this_name_prefix[0]","aws_security_group.this_name_prefix"]},"description":"The owner ID"},"security_group_vpc_id":{"expression":{"references":["aws_security_group.this[0].vpc_id","aws_security_group.this[0]","aws_security_group.this","aws_security_group.this_name_prefix[0].vpc_id","aws_security_group.this_name_prefix[0]","aws_security_group.this_name_prefix"]},"description":"The VPC ID"}},"resources":[{"address":"aws_security_group.this","mode":"managed","type":"aws_security_group","name":"this","provider_config_key":"module.securitygroups.module.app_ecs_security_group:aws","expressions":{"description":{"references":["var.description"]},"name":{"references":["var.name"]},"revoke_rules_on_delete":{"references":["var.revoke_rules_on_delete"]},"tags":{"references":["var.name","var.tags"]},"timeouts":{"create":{"references":["var.create_timeout"]},"delete":{"references":["var.delete_timeout"]}},"vpc_id":{"references":["var.vpc_id"]}},"schema_version":1,"count_expression":{"references":["local.create","var.create_sg","var.use_name_prefix"]}},{"address":"aws_security_group.this_name_prefix","mode":"managed","type":"aws_security_group","name":"this_name_prefix","provider_config_key":"module.securitygroups.module.app_ecs_security_group:aws","expressions":{"description":{"references":["var.description"]},"name_prefix":{"references":["var.name"]},"revoke_rules_on_delete":{"references":["var.revoke_rules_on_delete"]},"tags":{"references":["var.name","var.tags"]},"timeouts":{"create":{"references":["var.create_timeout"]},"delete":{"references":["var.delete_timeout"]}},"vpc_id":{"references":["var.vpc_id"]}},"schema_version":1,"count_expression":{"references":["local.create","var.create_sg","var.use_name_prefix"]}},{"address":"aws_security_group_rule.computed_egress_rules","mode":"managed","type":"aws_security_group_rule","name":"computed_egress_rules","provider_config_key":"module.securitygroups.module.app_ecs_security_group:aws","expressions":{"cidr_blocks":{"references":["var.egress_cidr_blocks"]},"description":{"references":["var.rules","var.computed_egress_rules","count.index"]},"from_port":{"references":["var.rules","var.computed_egress_rules","count.index"]},"ipv6_cidr_blocks":{"references":["var.egress_ipv6_cidr_blocks"]},"prefix_list_ids":{"references":["var.egress_prefix_list_ids"]},"protocol":{"references":["var.rules","var.computed_egress_rules","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"to_port":{"references":["var.rules","var.computed_egress_rules","count.index"]},"type":{"constant_value":"egress"}},"schema_version":2,"count_expression":{"references":["local.create","var.number_of_computed_egress_rules"]}},{"address":"aws_security_group_rule.computed_egress_with_cidr_blocks","mode":"managed","type":"aws_security_group_rule","name":"computed_egress_with_cidr_blocks","provider_config_key":"module.securitygroups.module.app_ecs_security_group:aws","expressions":{"cidr_blocks":{"references":["var.computed_egress_with_cidr_blocks","count.index","var.egress_cidr_blocks"]},"description":{"references":["var.computed_egress_with_cidr_blocks","count.index"]},"from_port":{"references":["var.computed_egress_with_cidr_blocks","count.index","var.rules","var.computed_egress_with_cidr_blocks","count.index"]},"prefix_list_ids":{"references":["var.egress_prefix_list_ids"]},"protocol":{"references":["var.computed_egress_with_cidr_blocks","count.index","var.rules","var.computed_egress_with_cidr_blocks","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"to_port":{"references":["var.computed_egress_with_cidr_blocks","count.index","var.rules","var.computed_egress_with_cidr_blocks","count.index"]},"type":{"constant_value":"egress"}},"schema_version":2,"count_expression":{"references":["local.create","var.number_of_computed_egress_with_cidr_blocks"]}},{"address":"aws_security_group_rule.computed_egress_with_ipv6_cidr_blocks","mode":"managed","type":"aws_security_group_rule","name":"computed_egress_with_ipv6_cidr_blocks","provider_config_key":"module.securitygroups.module.app_ecs_security_group:aws","expressions":{"description":{"references":["var.computed_egress_with_ipv6_cidr_blocks","count.index"]},"from_port":{"references":["var.computed_egress_with_ipv6_cidr_blocks","count.index","var.rules","var.computed_egress_with_ipv6_cidr_blocks","count.index"]},"ipv6_cidr_blocks":{"references":["var.computed_egress_with_ipv6_cidr_blocks","count.index","var.egress_ipv6_cidr_blocks"]},"prefix_list_ids":{"references":["var.egress_prefix_list_ids"]},"protocol":{"references":["var.computed_egress_with_ipv6_cidr_blocks","count.index","var.rules","var.computed_egress_with_ipv6_cidr_blocks","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"to_port":{"references":["var.computed_egress_with_ipv6_cidr_blocks","count.index","var.rules","var.computed_egress_with_ipv6_cidr_blocks","count.index"]},"type":{"constant_value":"egress"}},"schema_version":2,"count_expression":{"references":["local.create","var.number_of_computed_egress_with_ipv6_cidr_blocks"]}},{"address":"aws_security_group_rule.computed_egress_with_self","mode":"managed","type":"aws_security_group_rule","name":"computed_egress_with_self","provider_config_key":"module.securitygroups.module.app_ecs_security_group:aws","expressions":{"description":{"references":["var.computed_egress_with_self","count.index"]},"from_port":{"references":["var.computed_egress_with_self","count.index","var.rules","var.computed_egress_with_self","count.index"]},"prefix_list_ids":{"references":["var.egress_prefix_list_ids"]},"protocol":{"references":["var.computed_egress_with_self","count.index","var.rules","var.computed_egress_with_self","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"self":{"references":["var.computed_egress_with_self","count.index"]},"to_port":{"references":["var.computed_egress_with_self","count.index","var.rules","var.computed_egress_with_self","count.index"]},"type":{"constant_value":"egress"}},"schema_version":2,"count_expression":{"references":["local.create","var.number_of_computed_egress_with_self"]}},{"address":"aws_security_group_rule.computed_egress_with_source_security_group_id","mode":"managed","type":"aws_security_group_rule","name":"computed_egress_with_source_security_group_id","provider_config_key":"module.securitygroups.module.app_ecs_security_group:aws","expressions":{"description":{"references":["var.computed_egress_with_source_security_group_id","count.index"]},"from_port":{"references":["var.computed_egress_with_source_security_group_id","count.index","var.rules","var.computed_egress_with_source_security_group_id","count.index"]},"prefix_list_ids":{"references":["var.egress_prefix_list_ids"]},"protocol":{"references":["var.computed_egress_with_source_security_group_id","count.index","var.rules","var.computed_egress_with_source_security_group_id","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"source_security_group_id":{"references":["var.computed_egress_with_source_security_group_id","count.index"]},"to_port":{"references":["var.computed_egress_with_source_security_group_id","count.index","var.rules","var.computed_egress_with_source_security_group_id","count.index"]},"type":{"constant_value":"egress"}},"schema_version":2,"count_expression":{"references":["local.create","var.number_of_computed_egress_with_source_security_group_id"]}},{"address":"aws_security_group_rule.computed_ingress_rules","mode":"managed","type":"aws_security_group_rule","name":"computed_ingress_rules","provider_config_key":"module.securitygroups.module.app_ecs_security_group:aws","expressions":{"cidr_blocks":{"references":["var.ingress_cidr_blocks"]},"description":{"references":["var.rules","var.computed_ingress_rules","count.index"]},"from_port":{"references":["var.rules","var.computed_ingress_rules","count.index"]},"ipv6_cidr_blocks":{"references":["var.ingress_ipv6_cidr_blocks"]},"prefix_list_ids":{"references":["var.ingress_prefix_list_ids"]},"protocol":{"references":["var.rules","var.computed_ingress_rules","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"to_port":{"references":["var.rules","var.computed_ingress_rules","count.index"]},"type":{"constant_value":"ingress"}},"schema_version":2,"count_expression":{"references":["local.create","var.number_of_computed_ingress_rules"]}},{"address":"aws_security_group_rule.computed_ingress_with_cidr_blocks","mode":"managed","type":"aws_security_group_rule","name":"computed_ingress_with_cidr_blocks","provider_config_key":"module.securitygroups.module.app_ecs_security_group:aws","expressions":{"cidr_blocks":{"references":["var.computed_ingress_with_cidr_blocks","count.index","var.ingress_cidr_blocks"]},"description":{"references":["var.computed_ingress_with_cidr_blocks","count.index"]},"from_port":{"references":["var.computed_ingress_with_cidr_blocks","count.index","var.rules","var.computed_ingress_with_cidr_blocks","count.index"]},"prefix_list_ids":{"references":["var.ingress_prefix_list_ids"]},"protocol":{"references":["var.computed_ingress_with_cidr_blocks","count.index","var.rules","var.computed_ingress_with_cidr_blocks","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"to_port":{"references":["var.computed_ingress_with_cidr_blocks","count.index","var.rules","var.computed_ingress_with_cidr_blocks","count.index"]},"type":{"constant_value":"ingress"}},"schema_version":2,"count_expression":{"references":["local.create","var.number_of_computed_ingress_with_cidr_blocks"]}},{"address":"aws_security_group_rule.computed_ingress_with_ipv6_cidr_blocks","mode":"managed","type":"aws_security_group_rule","name":"computed_ingress_with_ipv6_cidr_blocks","provider_config_key":"module.securitygroups.module.app_ecs_security_group:aws","expressions":{"description":{"references":["var.computed_ingress_with_ipv6_cidr_blocks","count.index"]},"from_port":{"references":["var.computed_ingress_with_ipv6_cidr_blocks","count.index","var.rules","var.computed_ingress_with_ipv6_cidr_blocks","count.index"]},"ipv6_cidr_blocks":{"references":["var.computed_ingress_with_ipv6_cidr_blocks","count.index","var.ingress_ipv6_cidr_blocks"]},"prefix_list_ids":{"references":["var.ingress_prefix_list_ids"]},"protocol":{"references":["var.computed_ingress_with_ipv6_cidr_blocks","count.index","var.rules","var.computed_ingress_with_ipv6_cidr_blocks","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"to_port":{"references":["var.computed_ingress_with_ipv6_cidr_blocks","count.index","var.rules","var.computed_ingress_with_ipv6_cidr_blocks","count.index"]},"type":{"constant_value":"ingress"}},"schema_version":2,"count_expression":{"references":["local.create","var.number_of_computed_ingress_with_ipv6_cidr_blocks"]}},{"address":"aws_security_group_rule.computed_ingress_with_self","mode":"managed","type":"aws_security_group_rule","name":"computed_ingress_with_self","provider_config_key":"module.securitygroups.module.app_ecs_security_group:aws","expressions":{"description":{"references":["var.computed_ingress_with_self","count.index"]},"from_port":{"references":["var.computed_ingress_with_self","count.index","var.rules","var.computed_ingress_with_self","count.index"]},"prefix_list_ids":{"references":["var.ingress_prefix_list_ids"]},"protocol":{"references":["var.computed_ingress_with_self","count.index","var.rules","var.computed_ingress_with_self","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"self":{"references":["var.computed_ingress_with_self","count.index"]},"to_port":{"references":["var.computed_ingress_with_self","count.index","var.rules","var.computed_ingress_with_self","count.index"]},"type":{"constant_value":"ingress"}},"schema_version":2,"count_expression":{"references":["local.create","var.number_of_computed_ingress_with_self"]}},{"address":"aws_security_group_rule.computed_ingress_with_source_security_group_id","mode":"managed","type":"aws_security_group_rule","name":"computed_ingress_with_source_security_group_id","provider_config_key":"module.securitygroups.module.app_ecs_security_group:aws","expressions":{"description":{"references":["var.computed_ingress_with_source_security_group_id","count.index"]},"from_port":{"references":["var.computed_ingress_with_source_security_group_id","count.index","var.rules","var.computed_ingress_with_source_security_group_id","count.index"]},"prefix_list_ids":{"references":["var.ingress_prefix_list_ids"]},"protocol":{"references":["var.computed_ingress_with_source_security_group_id","count.index","var.rules","var.computed_ingress_with_source_security_group_id","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"source_security_group_id":{"references":["var.computed_ingress_with_source_security_group_id","count.index"]},"to_port":{"references":["var.computed_ingress_with_source_security_group_id","count.index","var.rules","var.computed_ingress_with_source_security_group_id","count.index"]},"type":{"constant_value":"ingress"}},"schema_version":2,"count_expression":{"references":["local.create","var.number_of_computed_ingress_with_source_security_group_id"]}},{"address":"aws_security_group_rule.egress_rules","mode":"managed","type":"aws_security_group_rule","name":"egress_rules","provider_config_key":"module.securitygroups.module.app_ecs_security_group:aws","expressions":{"cidr_blocks":{"references":["var.egress_cidr_blocks"]},"description":{"references":["var.rules","var.egress_rules","count.index"]},"from_port":{"references":["var.rules","var.egress_rules","count.index"]},"ipv6_cidr_blocks":{"references":["var.egress_ipv6_cidr_blocks"]},"prefix_list_ids":{"references":["var.egress_prefix_list_ids"]},"protocol":{"references":["var.rules","var.egress_rules","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"to_port":{"references":["var.rules","var.egress_rules","count.index"]},"type":{"constant_value":"egress"}},"schema_version":2,"count_expression":{"references":["local.create","var.egress_rules"]}},{"address":"aws_security_group_rule.egress_with_cidr_blocks","mode":"managed","type":"aws_security_group_rule","name":"egress_with_cidr_blocks","provider_config_key":"module.securitygroups.module.app_ecs_security_group:aws","expressions":{"cidr_blocks":{"references":["var.egress_with_cidr_blocks","count.index","var.egress_cidr_blocks"]},"description":{"references":["var.egress_with_cidr_blocks","count.index"]},"from_port":{"references":["var.egress_with_cidr_blocks","count.index","var.rules","var.egress_with_cidr_blocks","count.index"]},"prefix_list_ids":{"references":["var.egress_prefix_list_ids"]},"protocol":{"references":["var.egress_with_cidr_blocks","count.index","var.rules","var.egress_with_cidr_blocks","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"to_port":{"references":["var.egress_with_cidr_blocks","count.index","var.rules","var.egress_with_cidr_blocks","count.index"]},"type":{"constant_value":"egress"}},"schema_version":2,"count_expression":{"references":["local.create","var.egress_with_cidr_blocks"]}},{"address":"aws_security_group_rule.egress_with_ipv6_cidr_blocks","mode":"managed","type":"aws_security_group_rule","name":"egress_with_ipv6_cidr_blocks","provider_config_key":"module.securitygroups.module.app_ecs_security_group:aws","expressions":{"description":{"references":["var.egress_with_ipv6_cidr_blocks","count.index"]},"from_port":{"references":["var.egress_with_ipv6_cidr_blocks","count.index","var.rules","var.egress_with_ipv6_cidr_blocks","count.index"]},"ipv6_cidr_blocks":{"references":["var.egress_with_ipv6_cidr_blocks","count.index","var.egress_ipv6_cidr_blocks"]},"prefix_list_ids":{"references":["var.egress_prefix_list_ids"]},"protocol":{"references":["var.egress_with_ipv6_cidr_blocks","count.index","var.rules","var.egress_with_ipv6_cidr_blocks","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"to_port":{"references":["var.egress_with_ipv6_cidr_blocks","count.index","var.rules","var.egress_with_ipv6_cidr_blocks","count.index"]},"type":{"constant_value":"egress"}},"schema_version":2,"count_expression":{"references":["local.create","var.egress_with_ipv6_cidr_blocks"]}},{"address":"aws_security_group_rule.egress_with_self","mode":"managed","type":"aws_security_group_rule","name":"egress_with_self","provider_config_key":"module.securitygroups.module.app_ecs_security_group:aws","expressions":{"description":{"references":["var.egress_with_self","count.index"]},"from_port":{"references":["var.egress_with_self","count.index","var.rules","var.egress_with_self","count.index"]},"prefix_list_ids":{"references":["var.egress_prefix_list_ids"]},"protocol":{"references":["var.egress_with_self","count.index","var.rules","var.egress_with_self","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"self":{"references":["var.egress_with_self","count.index"]},"to_port":{"references":["var.egress_with_self","count.index","var.rules","var.egress_with_self","count.index"]},"type":{"constant_value":"egress"}},"schema_version":2,"count_expression":{"references":["local.create","var.egress_with_self"]}},{"address":"aws_security_group_rule.egress_with_source_security_group_id","mode":"managed","type":"aws_security_group_rule","name":"egress_with_source_security_group_id","provider_config_key":"module.securitygroups.module.app_ecs_security_group:aws","expressions":{"description":{"references":["var.egress_with_source_security_group_id","count.index"]},"from_port":{"references":["var.egress_with_source_security_group_id","count.index","var.rules","var.egress_with_source_security_group_id","count.index"]},"prefix_list_ids":{"references":["var.egress_prefix_list_ids"]},"protocol":{"references":["var.egress_with_source_security_group_id","count.index","var.rules","var.egress_with_source_security_group_id","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"source_security_group_id":{"references":["var.egress_with_source_security_group_id","count.index"]},"to_port":{"references":["var.egress_with_source_security_group_id","count.index","var.rules","var.egress_with_source_security_group_id","count.index"]},"type":{"constant_value":"egress"}},"schema_version":2,"count_expression":{"references":["local.create","var.egress_with_source_security_group_id"]}},{"address":"aws_security_group_rule.ingress_rules","mode":"managed","type":"aws_security_group_rule","name":"ingress_rules","provider_config_key":"module.securitygroups.module.app_ecs_security_group:aws","expressions":{"cidr_blocks":{"references":["var.ingress_cidr_blocks"]},"description":{"references":["var.rules","var.ingress_rules","count.index"]},"from_port":{"references":["var.rules","var.ingress_rules","count.index"]},"ipv6_cidr_blocks":{"references":["var.ingress_ipv6_cidr_blocks"]},"prefix_list_ids":{"references":["var.ingress_prefix_list_ids"]},"protocol":{"references":["var.rules","var.ingress_rules","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"to_port":{"references":["var.rules","var.ingress_rules","count.index"]},"type":{"constant_value":"ingress"}},"schema_version":2,"count_expression":{"references":["local.create","var.ingress_rules"]}},{"address":"aws_security_group_rule.ingress_with_cidr_blocks","mode":"managed","type":"aws_security_group_rule","name":"ingress_with_cidr_blocks","provider_config_key":"module.securitygroups.module.app_ecs_security_group:aws","expressions":{"cidr_blocks":{"references":["var.ingress_with_cidr_blocks","count.index","var.ingress_cidr_blocks"]},"description":{"references":["var.ingress_with_cidr_blocks","count.index"]},"from_port":{"references":["var.ingress_with_cidr_blocks","count.index","var.rules","var.ingress_with_cidr_blocks","count.index"]},"prefix_list_ids":{"references":["var.ingress_prefix_list_ids"]},"protocol":{"references":["var.ingress_with_cidr_blocks","count.index","var.rules","var.ingress_with_cidr_blocks","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"to_port":{"references":["var.ingress_with_cidr_blocks","count.index","var.rules","var.ingress_with_cidr_blocks","count.index"]},"type":{"constant_value":"ingress"}},"schema_version":2,"count_expression":{"references":["local.create","var.ingress_with_cidr_blocks"]}},{"address":"aws_security_group_rule.ingress_with_ipv6_cidr_blocks","mode":"managed","type":"aws_security_group_rule","name":"ingress_with_ipv6_cidr_blocks","provider_config_key":"module.securitygroups.module.app_ecs_security_group:aws","expressions":{"description":{"references":["var.ingress_with_ipv6_cidr_blocks","count.index"]},"from_port":{"references":["var.ingress_with_ipv6_cidr_blocks","count.index","var.rules","var.ingress_with_ipv6_cidr_blocks","count.index"]},"ipv6_cidr_blocks":{"references":["var.ingress_with_ipv6_cidr_blocks","count.index","var.ingress_ipv6_cidr_blocks"]},"prefix_list_ids":{"references":["var.ingress_prefix_list_ids"]},"protocol":{"references":["var.ingress_with_ipv6_cidr_blocks","count.index","var.rules","var.ingress_with_ipv6_cidr_blocks","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"to_port":{"references":["var.ingress_with_ipv6_cidr_blocks","count.index","var.rules","var.ingress_with_ipv6_cidr_blocks","count.index"]},"type":{"constant_value":"ingress"}},"schema_version":2,"count_expression":{"references":["local.create","var.ingress_with_ipv6_cidr_blocks"]}},{"address":"aws_security_group_rule.ingress_with_self","mode":"managed","type":"aws_security_group_rule","name":"ingress_with_self","provider_config_key":"module.securitygroups.module.app_ecs_security_group:aws","expressions":{"description":{"references":["var.ingress_with_self","count.index"]},"from_port":{"references":["var.ingress_with_self","count.index","var.rules","var.ingress_with_self","count.index"]},"prefix_list_ids":{"references":["var.ingress_prefix_list_ids"]},"protocol":{"references":["var.ingress_with_self","count.index","var.rules","var.ingress_with_self","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"self":{"references":["var.ingress_with_self","count.index"]},"to_port":{"references":["var.ingress_with_self","count.index","var.rules","var.ingress_with_self","count.index"]},"type":{"constant_value":"ingress"}},"schema_version":2,"count_expression":{"references":["local.create","var.ingress_with_self"]}},{"address":"aws_security_group_rule.ingress_with_source_security_group_id","mode":"managed","type":"aws_security_group_rule","name":"ingress_with_source_security_group_id","provider_config_key":"module.securitygroups.module.app_ecs_security_group:aws","expressions":{"description":{"references":["var.ingress_with_source_security_group_id","count.index"]},"from_port":{"references":["var.ingress_with_source_security_group_id","count.index","var.rules","var.ingress_with_source_security_group_id","count.index"]},"prefix_list_ids":{"references":["var.ingress_prefix_list_ids"]},"protocol":{"references":["var.ingress_with_source_security_group_id","count.index","var.rules","var.ingress_with_source_security_group_id","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"source_security_group_id":{"references":["var.ingress_with_source_security_group_id","count.index"]},"to_port":{"references":["var.ingress_with_source_security_group_id","count.index","var.rules","var.ingress_with_source_security_group_id","count.index"]},"type":{"constant_value":"ingress"}},"schema_version":2,"count_expression":{"references":["local.create","var.ingress_with_source_security_group_id"]}}],"variables":{"auto_groups":{"default":{"activemq":{"egress_rules":["all-all"],"ingress_rules":["activemq-5671-tcp","activemq-8883-tcp","activemq-61614-tcp","activemq-61617-tcp","activemq-61619-tcp"],"ingress_with_self":["all-all"]},"alertmanager":{"egress_rules":["all-all"],"ingress_rules":["alertmanager-9093-tcp","alertmanager-9094-tcp"],"ingress_with_self":["all-all"]},"carbon-relay-ng":{"egress_rules":["all-all"],"ingress_rules":["carbon-line-in-tcp","carbon-line-in-udp","carbon-pickle-tcp","carbon-pickle-udp","carbon-gui-udp"],"ingress_with_self":["all-all"]},"cassandra":{"egress_rules":["all-all"],"ingress_rules":["cassandra-clients-tcp","cassandra-thrift-clients-tcp","cassandra-jmx-tcp"],"ingress_with_self":["all-all"]},"consul":{"egress_rules":["all-all"],"ingress_rules":["consul-tcp","consul-grpc-tcp","consul-webui-http-tcp","consul-webui-https-tcp","consul-dns-tcp","consul-dns-udp","consul-serf-lan-tcp","consul-serf-lan-udp","consul-serf-wan-tcp","consul-serf-wan-udp"],"ingress_with_self":["all-all"]},"docker-swarm":{"egress_rules":["all-all"],"ingress_rules":["docker-swarm-mngmt-tcp","docker-swarm-node-tcp","docker-swarm-node-udp","docker-swarm-overlay-udp"],"ingress_with_self":["all-all"]},"elasticsearch":{"egress_rules":["all-all"],"ingress_rules":["elasticsearch-rest-tcp","elasticsearch-java-tcp"],"ingress_with_self":["all-all"]},"etcd":{"egress_rules":["all-all"],"ingress_rules":["etcd-client-tcp","etcd-peer-tcp"],"ingress_with_self":["all-all"]},"grafana":{"egress_rules":["all-all"],"ingress_rules":["grafana-tcp"],"ingress_with_self":["all-all"]},"graphite-statsd":{"egress_rules":["all-all"],"ingress_rules":["graphite-webui","graphite-2003-tcp","graphite-2004-tcp","graphite-2023-tcp","graphite-2024-tcp","graphite-8080-tcp","graphite-8125-tcp","graphite-8125-udp","graphite-8126-tcp"],"ingress_with_self":["all-all"]},"http-80":{"egress_rules":["all-all"],"ingress_rules":["http-80-tcp"],"ingress_with_self":["all-all"]},"http-8080":{"egress_rules":["all-all"],"ingress_rules":["http-8080-tcp"],"ingress_with_self":["all-all"]},"https-443":{"egress_rules":["all-all"],"ingress_rules":["https-443-tcp"],"ingress_with_self":["all-all"]},"https-8443":{"egress_rules":["all-all"],"ingress_rules":["https-8443-tcp"],"ingress_with_self":["all-all"]},"ipsec-4500":{"egress_rules":["all-all"],"ingress_rules":["ipsec-4500-udp"],"ingress_with_self":["all-all"]},"ipsec-500":{"egress_rules":["all-all"],"ingress_rules":["ipsec-500-udp"],"ingress_with_self":["all-all"]},"kafka":{"egress_rules":["all-all"],"ingress_rules":["kafka-broker-tcp","kafka-broker-tls-tcp","kafka-jmx-exporter-tcp","kafka-node-exporter-tcp"],"ingress_with_self":["all-all"]},"kibana":{"egress_rules":["all-all"],"ingress_rules":["kibana-tcp"],"ingress_with_self":["all-all"]},"kubernetes-api":{"egress_rules":["all-all"],"ingress_rules":["kubernetes-api-tcp"],"ingress_with_self":["all-all"]},"ldap":{"egress_rules":["all-all"],"ingress_rules":["ldap-tcp"],"ingress_with_self":["all-all"]},"ldaps":{"egress_rules":["all-all"],"ingress_rules":["ldaps-tcp"],"ingress_with_self":["all-all"]},"logstash":{"egress_rules":["all-all"],"ingress_rules":["logstash-tcp"],"ingress_with_self":["all-all"]},"memcached":{"egress_rules":["all-all"],"ingress_rules":["memcached-tcp"],"ingress_with_self":["all-all"]},"minio":{"egress_rules":["all-all"],"ingress_rules":["minio-tcp"],"ingress_with_self":["all-all"]},"mongodb":{"egress_rules":["all-all"],"ingress_rules":["mongodb-27017-tcp","mongodb-27018-tcp","mongodb-27019-tcp"],"ingress_with_self":["all-all"]},"mssql":{"egress_rules":["all-all"],"ingress_rules":["mssql-tcp","mssql-udp","mssql-analytics-tcp","mssql-broker-tcp"],"ingress_with_self":["all-all"]},"mysql":{"egress_rules":["all-all"],"ingress_rules":["mysql-tcp"],"ingress_with_self":["all-all"]},"nfs":{"egress_rules":["all-all"],"ingress_rules":["nfs-tcp"],"ingress_with_self":["all-all"]},"nomad":{"egress_rules":["all-all"],"ingress_rules":["nomad-http-tcp","nomad-rpc-tcp","nomad-serf-tcp","nomad-serf-udp"],"ingress_with_self":["all-all"]},"ntp":{"egress_rules":["all-all"],"ingress_rules":["ntp-udp"],"ingress_with_self":["all-all"]},"openvpn":{"egress_rules":["all-all"],"ingress_rules":["openvpn-udp","openvpn-tcp","openvpn-https-tcp"],"ingress_with_self":["all-all"]},"oracle-db":{"egress_rules":["all-all"],"ingress_rules":["oracle-db-tcp"],"ingress_with_self":["all-all"]},"postgresql":{"egress_rules":["all-all"],"ingress_rules":["postgresql-tcp"],"ingress_with_self":["all-all"]},"prometheus":{"egress_rules":["all-all"],"ingress_rules":["prometheus-http-tcp","prometheus-pushgateway-http-tcp"],"ingress_with_self":["all-all"]},"puppet":{"egress_rules":["all-all"],"ingress_rules":["puppet-tcp","puppetdb-tcp"],"ingress_with_self":["all-all"]},"rabbitmq":{"egress_rules":["all-all"],"ingress_rules":["rabbitmq-4369-tcp","rabbitmq-5671-tcp","rabbitmq-5672-tcp","rabbitmq-15672-tcp","rabbitmq-25672-tcp"],"ingress_with_self":["all-all"]},"rdp":{"egress_rules":["all-all"],"ingress_rules":["rdp-tcp","rdp-udp"],"ingress_with_self":["all-all"]},"redis":{"egress_rules":["all-all"],"ingress_rules":["redis-tcp"],"ingress_with_self":["all-all"]},"redshift":{"egress_rules":["all-all"],"ingress_rules":["redshift-tcp"],"ingress_with_self":["all-all"]},"smtp":{"egress_rules":["all-all"],"ingress_rules":["smtp-tcp"],"ingress_with_self":["all-all"]},"smtp-submission":{"egress_rules":["all-all"],"ingress_rules":["smtp-submission-587-tcp","smtp-submission-2587-tcp"],"ingress_with_self":["all-all"]},"smtps":{"egress_rules":["all-all"],"ingress_rules":["smtps-465-tcp","smtps-2465-tcp"],"ingress_with_self":["all-all"]},"solr":{"egress_rules":["all-all"],"ingress_rules":["solr-tcp"],"ingress_with_self":["all-all"]},"splunk":{"egress_rules":["all-all"],"ingress_rules":["splunk-indexer-tcp","splunk-clients-tcp","splunk-splunkd-tcp","splunk-hec-tcp"],"ingress_with_self":["all-all"]},"squid":{"egress_rules":["all-all"],"ingress_rules":["squid-proxy-tcp"],"ingress_with_self":["all-all"]},"ssh":{"egress_rules":["all-all"],"ingress_rules":["ssh-tcp"],"ingress_with_self":["all-all"]},"storm":{"egress_rules":["all-all"],"ingress_rules":["storm-nimbus-tcp","storm-ui-tcp","storm-supervisor-tcp"],"ingress_with_self":["all-all"]},"web":{"egress_rules":["all-all"],"ingress_rules":["http-80-tcp","http-8080-tcp","https-443-tcp","web-jmx-tcp"],"ingress_with_self":["all-all"]},"winrm":{"egress_rules":["all-all"],"ingress_rules":["winrm-http-tcp","winrm-https-tcp"],"ingress_with_self":["all-all"]},"zipkin":{"egress_rules":["all-all"],"ingress_rules":["zipkin-admin-tcp","zipkin-admin-query-tcp","zipkin-admin-web-tcp","zipkin-query-tcp","zipkin-web-tcp"],"ingress_with_self":["all-all"]},"zookeeper":{"egress_rules":["all-all"],"ingress_rules":["zookeeper-2181-tcp","zookeeper-2888-tcp","zookeeper-3888-tcp","zookeeper-jmx-tcp"],"ingress_with_self":["all-all"]}},"description":"Map of groups of security group rules to use to generate modules (see update_groups.sh)"},"computed_egress_rules":{"default":[],"description":"List of computed egress rules to create by name"},"computed_egress_with_cidr_blocks":{"default":[],"description":"List of computed egress rules to create where 'cidr_blocks' is used"},"computed_egress_with_ipv6_cidr_blocks":{"default":[],"description":"List of computed egress rules to create where 'ipv6_cidr_blocks' is used"},"computed_egress_with_self":{"default":[],"description":"List of computed egress rules to create where 'self' is defined"},"computed_egress_with_source_security_group_id":{"default":[],"description":"List of computed egress rules to create where 'source_security_group_id' is used"},"computed_ingress_rules":{"default":[],"description":"List of computed ingress rules to create by name"},"computed_ingress_with_cidr_blocks":{"default":[],"description":"List of computed ingress rules to create where 'cidr_blocks' is used"},"computed_ingress_with_ipv6_cidr_blocks":{"default":[],"description":"List of computed ingress rules to create where 'ipv6_cidr_blocks' is used"},"computed_ingress_with_self":{"default":[],"description":"List of computed ingress rules to create where 'self' is defined"},"computed_ingress_with_source_security_group_id":{"default":[],"description":"List of computed ingress rules to create where 'source_security_group_id' is used"},"create":{"default":true,"description":"Whether to create security group and all rules"},"create_sg":{"default":true,"description":"Whether to create security group"},"create_timeout":{"default":"10m","description":"Time to wait for a security group to be created"},"delete_timeout":{"default":"15m","description":"Time to wait for a security group to be deleted"},"description":{"default":"Security Group managed by Terraform","description":"Description of security group"},"egress_cidr_blocks":{"default":["0.0.0.0/0"],"description":"List of IPv4 CIDR ranges to use on all egress rules"},"egress_ipv6_cidr_blocks":{"default":["::/0"],"description":"List of IPv6 CIDR ranges to use on all egress rules"},"egress_prefix_list_ids":{"default":[],"description":"List of prefix list IDs (for allowing access to VPC endpoints) to use on all egress rules"},"egress_rules":{"default":[],"description":"List of egress rules to create by name"},"egress_with_cidr_blocks":{"default":[],"description":"List of egress rules to create where 'cidr_blocks' is used"},"egress_with_ipv6_cidr_blocks":{"default":[],"description":"List of egress rules to create where 'ipv6_cidr_blocks' is used"},"egress_with_self":{"default":[],"description":"List of egress rules to create where 'self' is defined"},"egress_with_source_security_group_id":{"default":[],"description":"List of egress rules to create where 'source_security_group_id' is used"},"ingress_cidr_blocks":{"default":[],"description":"List of IPv4 CIDR ranges to use on all ingress rules"},"ingress_ipv6_cidr_blocks":{"default":[],"description":"List of IPv6 CIDR ranges to use on all ingress rules"},"ingress_prefix_list_ids":{"default":[],"description":"List of prefix list IDs (for allowing access to VPC endpoints) to use on all ingress rules"},"ingress_rules":{"default":[],"description":"List of ingress rules to create by name"},"ingress_with_cidr_blocks":{"default":[],"description":"List of ingress rules to create where 'cidr_blocks' is used"},"ingress_with_ipv6_cidr_blocks":{"default":[],"description":"List of ingress rules to create where 'ipv6_cidr_blocks' is used"},"ingress_with_self":{"default":[],"description":"List of ingress rules to create where 'self' is defined"},"ingress_with_source_security_group_id":{"default":[],"description":"List of ingress rules to create where 'source_security_group_id' is used"},"name":{"default":null,"description":"Name of security group - not required if create_sg is false"},"number_of_computed_egress_rules":{"default":0,"description":"Number of computed egress rules to create by name"},"number_of_computed_egress_with_cidr_blocks":{"default":0,"description":"Number of computed egress rules to create where 'cidr_blocks' is used"},"number_of_computed_egress_with_ipv6_cidr_blocks":{"default":0,"description":"Number of computed egress rules to create where 'ipv6_cidr_blocks' is used"},"number_of_computed_egress_with_self":{"default":0,"description":"Number of computed egress rules to create where 'self' is defined"},"number_of_computed_egress_with_source_security_group_id":{"default":0,"description":"Number of computed egress rules to create where 'source_security_group_id' is used"},"number_of_computed_ingress_rules":{"default":0,"description":"Number of computed ingress rules to create by name"},"number_of_computed_ingress_with_cidr_blocks":{"default":0,"description":"Number of computed ingress rules to create where 'cidr_blocks' is used"},"number_of_computed_ingress_with_ipv6_cidr_blocks":{"default":0,"description":"Number of computed ingress rules to create where 'ipv6_cidr_blocks' is used"},"number_of_computed_ingress_with_self":{"default":0,"description":"Number of computed ingress rules to create where 'self' is defined"},"number_of_computed_ingress_with_source_security_group_id":{"default":0,"description":"Number of computed ingress rules to create where 'source_security_group_id' is used"},"putin_khuylo":{"default":true,"description":"Do you agree that Putin doesn't respect Ukrainian sovereignty and territorial integrity? More info: https://en.wikipedia.org/wiki/Putin_khuylo!"},"revoke_rules_on_delete":{"default":false,"description":"Instruct Terraform to revoke all of the Security Groups attached ingress and egress rules before deleting the rule itself. Enable for EMR."},"rules":{"default":{"_":["","",""],"activemq-5671-tcp":["5671","5671","tcp","ActiveMQ AMQP"],"activemq-61614-tcp":["61614","61614","tcp","ActiveMQ STOMP"],"activemq-61617-tcp":["61617","61617","tcp","ActiveMQ OpenWire"],"activemq-61619-tcp":["61619","61619","tcp","ActiveMQ WebSocket"],"activemq-8883-tcp":["8883","8883","tcp","ActiveMQ MQTT"],"alertmanager-9093-tcp":["9093","9093","tcp","Alert Manager"],"alertmanager-9094-tcp":["9094","9094","tcp","Alert Manager Cluster"],"all-all":["-1","-1","-1","All protocols"],"all-icmp":["-1","-1","icmp","All IPV4 ICMP"],"all-ipv6-icmp":["-1","-1","58","All IPV6 ICMP"],"all-tcp":["0","65535","tcp","All TCP ports"],"all-udp":["0","65535","udp","All UDP ports"],"carbon-admin-tcp":["2004","2004","tcp","Carbon admin"],"carbon-gui-udp":["8081","8081","tcp","Carbon GUI"],"carbon-line-in-tcp":["2003","2003","tcp","Carbon line-in"],"carbon-line-in-udp":["2003","2003","udp","Carbon line-in"],"carbon-pickle-tcp":["2013","2013","tcp","Carbon pickle"],"carbon-pickle-udp":["2013","2013","udp","Carbon pickle"],"cassandra-clients-tcp":["9042","9042","tcp","Cassandra clients"],"cassandra-jmx-tcp":["7199","7199","tcp","JMX"],"cassandra-thrift-clients-tcp":["9160","9160","tcp","Cassandra Thrift clients"],"consul-dns-tcp":["8600","8600","tcp","Consul DNS"],"consul-dns-udp":["8600","8600","udp","Consul DNS"],"consul-grpc-tcp":["8502","8502","tcp","Consul gRPC"],"consul-serf-lan-tcp":["8301","8301","tcp","Serf LAN"],"consul-serf-lan-udp":["8301","8301","udp","Serf LAN"],"consul-serf-wan-tcp":["8302","8302","tcp","Serf WAN"],"consul-serf-wan-udp":["8302","8302","udp","Serf WAN"],"consul-tcp":["8300","8300","tcp","Consul server"],"consul-webui-http-tcp":["8500","8500","tcp","Consul web UI HTTP"],"consul-webui-https-tcp":["8501","8501","tcp","Consul web UI HTTPS"],"dns-tcp":["53","53","tcp","DNS"],"dns-udp":["53","53","udp","DNS"],"docker-swarm-mngmt-tcp":["2377","2377","tcp","Docker Swarm cluster management"],"docker-swarm-node-tcp":["7946","7946","tcp","Docker Swarm node"],"docker-swarm-node-udp":["7946","7946","udp","Docker Swarm node"],"docker-swarm-overlay-udp":["4789","4789","udp","Docker Swarm Overlay Network Traffic"],"elasticsearch-java-tcp":["9300","9300","tcp","Elasticsearch Java interface"],"elasticsearch-rest-tcp":["9200","9200","tcp","Elasticsearch REST interface"],"etcd-client-tcp":["2379","2379","tcp","Etcd Client"],"etcd-peer-tcp":["2380","2380","tcp","Etcd Peer"],"grafana-tcp":["3000","3000","tcp","Grafana Dashboard"],"graphite-2003-tcp":["2003","2003","tcp","Carbon receiver plain text"],"graphite-2004-tcp":["2004","2004","tcp","Carbon receiver pickle"],"graphite-2023-tcp":["2023","2023","tcp","Carbon aggregator plaintext"],"graphite-2024-tcp":["2024","2024","tcp","Carbon aggregator pickle"],"graphite-8080-tcp":["8080","8080","tcp","Graphite gunicorn port"],"graphite-8125-tcp":["8125","8125","tcp","Statsd TCP"],"graphite-8125-udp":["8125","8125","udp","Statsd UDP default"],"graphite-8126-tcp":["8126","8126","tcp","Statsd admin"],"graphite-webui":["80","80","tcp","Graphite admin interface"],"http-80-tcp":["80","80","tcp","HTTP"],"http-8080-tcp":["8080","8080","tcp","HTTP"],"https-443-tcp":["443","443","tcp","HTTPS"],"https-8443-tcp":["8443","8443","tcp","HTTPS"],"ipsec-4500-udp":["4500","4500","udp","IPSEC NAT-T"],"ipsec-500-udp":["500","500","udp","IPSEC ISAKMP"],"kafka-broker-tcp":["9092","9092","tcp","Kafka broker 0.8.2+"],"kafka-broker-tls-tcp":["9094","9094","tcp","Kafka TLS enabled broker 0.8.2+"],"kafka-jmx-exporter-tcp":["11001","11001","tcp","Kafka JMX Exporter"],"kafka-node-exporter-tcp":["11002","11002","tcp","Kafka Node Exporter"],"kibana-tcp":["5601","5601","tcp","Kibana Web Interface"],"kubernetes-api-tcp":["6443","6443","tcp","Kubernetes API Server"],"ldap-tcp":["389","389","tcp","LDAP"],"ldaps-tcp":["636","636","tcp","LDAPS"],"logstash-tcp":["5044","5044","tcp","Logstash"],"memcached-tcp":["11211","11211","tcp","Memcached"],"minio-tcp":["9000","9000","tcp","MinIO"],"mongodb-27017-tcp":["27017","27017","tcp","MongoDB"],"mongodb-27018-tcp":["27018","27018","tcp","MongoDB shard"],"mongodb-27019-tcp":["27019","27019","tcp","MongoDB config server"],"mssql-analytics-tcp":["2383","2383","tcp","MSSQL Analytics"],"mssql-broker-tcp":["4022","4022","tcp","MSSQL Broker"],"mssql-tcp":["1433","1433","tcp","MSSQL Server"],"mssql-udp":["1434","1434","udp","MSSQL Browser"],"mysql-tcp":["3306","3306","tcp","MySQL/Aurora"],"nfs-tcp":["2049","2049","tcp","NFS/EFS"],"nomad-http-tcp":["4646","4646","tcp","Nomad HTTP"],"nomad-rpc-tcp":["4647","4647","tcp","Nomad RPC"],"nomad-serf-tcp":["4648","4648","tcp","Serf"],"nomad-serf-udp":["4648","4648","udp","Serf"],"ntp-udp":["123","123","udp","NTP"],"octopus-tentacle-tcp":["10933","10933","tcp","Octopus Tentacle"],"openvpn-https-tcp":["443","443","tcp","OpenVPN"],"openvpn-tcp":["943","943","tcp","OpenVPN"],"openvpn-udp":["1194","1194","udp","OpenVPN"],"oracle-db-tcp":["1521","1521","tcp","Oracle"],"postgresql-tcp":["5432","5432","tcp","PostgreSQL"],"prometheus-http-tcp":["9090","9090","tcp","Prometheus"],"prometheus-pushgateway-http-tcp":["9091","9091","tcp","Prometheus Pushgateway"],"puppet-tcp":["8140","8140","tcp","Puppet"],"puppetdb-tcp":["8081","8081","tcp","PuppetDB"],"rabbitmq-15672-tcp":["15672","15672","tcp","RabbitMQ"],"rabbitmq-25672-tcp":["25672","25672","tcp","RabbitMQ"],"rabbitmq-4369-tcp":["4369","4369","tcp","RabbitMQ epmd"],"rabbitmq-5671-tcp":["5671","5671","tcp","RabbitMQ"],"rabbitmq-5672-tcp":["5672","5672","tcp","RabbitMQ"],"rdp-tcp":["3389","3389","tcp","Remote Desktop"],"rdp-udp":["3389","3389","udp","Remote Desktop"],"redis-tcp":["6379","6379","tcp","Redis"],"redshift-tcp":["5439","5439","tcp","Redshift"],"saltstack-tcp":["4505","4506","tcp","SaltStack"],"smtp-submission-2587-tcp":["2587","2587","tcp","SMTP Submission"],"smtp-submission-587-tcp":["587","587","tcp","SMTP Submission"],"smtp-tcp":["25","25","tcp","SMTP"],"smtps-2456-tcp":["2465","2465","tcp","SMTPS"],"smtps-465-tcp":["465","465","tcp","SMTPS"],"solr-tcp":["8983","8987","tcp","Solr"],"splunk-hec-tcp":["8088","8088","tcp","Splunk HEC"],"splunk-indexer-tcp":["9997","9997","tcp","Splunk indexer"],"splunk-splunkd-tcp":["8089","8089","tcp","Splunkd"],"splunk-web-tcp":["8000","8000","tcp","Splunk Web"],"squid-proxy-tcp":["3128","3128","tcp","Squid default proxy"],"ssh-tcp":["22","22","tcp","SSH"],"storm-nimbus-tcp":["6627","6627","tcp","Nimbus"],"storm-supervisor-tcp":["6700","6703","tcp","Supervisor"],"storm-ui-tcp":["8080","8080","tcp","Storm UI"],"web-jmx-tcp":["1099","1099","tcp","JMX"],"winrm-http-tcp":["5985","5985","tcp","WinRM HTTP"],"winrm-https-tcp":["5986","5986","tcp","WinRM HTTPS"],"zipkin-admin-query-tcp":["9901","9901","tcp","Zipkin Admin port query"],"zipkin-admin-tcp":["9990","9990","tcp","Zipkin Admin port collector"],"zipkin-admin-web-tcp":["9991","9991","tcp","Zipkin Admin port web"],"zipkin-query-tcp":["9411","9411","tcp","Zipkin query port"],"zipkin-web-tcp":["8080","8080","tcp","Zipkin web port"],"zookeeper-2181-tcp":["2181","2181","tcp","Zookeeper"],"zookeeper-2888-tcp":["2888","2888","tcp","Zookeeper"],"zookeeper-3888-tcp":["3888","3888","tcp","Zookeeper"],"zookeeper-jmx-tcp":["7199","7199","tcp","JMX"]},"description":"Map of known security group rules (define as 'name' = ['from port', 'to port', 'protocol', 'description'])"},"security_group_id":{"default":null,"description":"ID of existing security group whose rules we will manage"},"tags":{"default":{},"description":"A mapping of tags to assign to security group"},"use_name_prefix":{"default":true,"description":"Whether to use name_prefix or fixed name. Should be true to able to update security group name after initial creation"},"vpc_id":{"default":null,"description":"ID of the VPC where to create security group"}}}},"jumpbox_ec2_security_group":{"source":"terraform-aws-modules/security-group/aws","expressions":{"description":{"constant_value":"Security Group EC2"},"egress_cidr_blocks":{"references":["var.secgroup_jumpbox_ec2_allow_egress_cidrs_list"]},"egress_rules":{"constant_value":["all-all"]},"ingress_cidr_blocks":{"references":["var.secgroup_jumpbox_ec2_ingress_cidr_list"]},"ingress_rules":{"references":["var.secgroup_jumpbox_ec2_ingress_rules_list"]},"name":{"references":["var.secgroup_jumpbox_ec2_group_name"]},"tags":{"references":["var.secgroup_jumpbox_ec2_group_name","var.secgroup_product_name","var.secgroup_environment"]},"vpc_id":{"references":["var.secgroup_network_vpc_id"]}},"module":{"outputs":{"security_group_description":{"expression":{"references":["aws_security_group.this[0].description","aws_security_group.this[0]","aws_security_group.this","aws_security_group.this_name_prefix[0].description","aws_security_group.this_name_prefix[0]","aws_security_group.this_name_prefix"]},"description":"The description of the security group"},"security_group_id":{"expression":{"references":["aws_security_group.this[0].id","aws_security_group.this[0]","aws_security_group.this","aws_security_group.this_name_prefix[0].id","aws_security_group.this_name_prefix[0]","aws_security_group.this_name_prefix"]},"description":"The ID of the security group"},"security_group_name":{"expression":{"references":["aws_security_group.this[0].name","aws_security_group.this[0]","aws_security_group.this","aws_security_group.this_name_prefix[0].name","aws_security_group.this_name_prefix[0]","aws_security_group.this_name_prefix"]},"description":"The name of the security group"},"security_group_owner_id":{"expression":{"references":["aws_security_group.this[0].owner_id","aws_security_group.this[0]","aws_security_group.this","aws_security_group.this_name_prefix[0].owner_id","aws_security_group.this_name_prefix[0]","aws_security_group.this_name_prefix"]},"description":"The owner ID"},"security_group_vpc_id":{"expression":{"references":["aws_security_group.this[0].vpc_id","aws_security_group.this[0]","aws_security_group.this","aws_security_group.this_name_prefix[0].vpc_id","aws_security_group.this_name_prefix[0]","aws_security_group.this_name_prefix"]},"description":"The VPC ID"}},"resources":[{"address":"aws_security_group.this","mode":"managed","type":"aws_security_group","name":"this","provider_config_key":"module.securitygroups.module.jumpbox_ec2_security_group:aws","expressions":{"description":{"references":["var.description"]},"name":{"references":["var.name"]},"revoke_rules_on_delete":{"references":["var.revoke_rules_on_delete"]},"tags":{"references":["var.name","var.tags"]},"timeouts":{"create":{"references":["var.create_timeout"]},"delete":{"references":["var.delete_timeout"]}},"vpc_id":{"references":["var.vpc_id"]}},"schema_version":1,"count_expression":{"references":["local.create","var.create_sg","var.use_name_prefix"]}},{"address":"aws_security_group.this_name_prefix","mode":"managed","type":"aws_security_group","name":"this_name_prefix","provider_config_key":"module.securitygroups.module.jumpbox_ec2_security_group:aws","expressions":{"description":{"references":["var.description"]},"name_prefix":{"references":["var.name"]},"revoke_rules_on_delete":{"references":["var.revoke_rules_on_delete"]},"tags":{"references":["var.name","var.tags"]},"timeouts":{"create":{"references":["var.create_timeout"]},"delete":{"references":["var.delete_timeout"]}},"vpc_id":{"references":["var.vpc_id"]}},"schema_version":1,"count_expression":{"references":["local.create","var.create_sg","var.use_name_prefix"]}},{"address":"aws_security_group_rule.computed_egress_rules","mode":"managed","type":"aws_security_group_rule","name":"computed_egress_rules","provider_config_key":"module.securitygroups.module.jumpbox_ec2_security_group:aws","expressions":{"cidr_blocks":{"references":["var.egress_cidr_blocks"]},"description":{"references":["var.rules","var.computed_egress_rules","count.index"]},"from_port":{"references":["var.rules","var.computed_egress_rules","count.index"]},"ipv6_cidr_blocks":{"references":["var.egress_ipv6_cidr_blocks"]},"prefix_list_ids":{"references":["var.egress_prefix_list_ids"]},"protocol":{"references":["var.rules","var.computed_egress_rules","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"to_port":{"references":["var.rules","var.computed_egress_rules","count.index"]},"type":{"constant_value":"egress"}},"schema_version":2,"count_expression":{"references":["local.create","var.number_of_computed_egress_rules"]}},{"address":"aws_security_group_rule.computed_egress_with_cidr_blocks","mode":"managed","type":"aws_security_group_rule","name":"computed_egress_with_cidr_blocks","provider_config_key":"module.securitygroups.module.jumpbox_ec2_security_group:aws","expressions":{"cidr_blocks":{"references":["var.computed_egress_with_cidr_blocks","count.index","var.egress_cidr_blocks"]},"description":{"references":["var.computed_egress_with_cidr_blocks","count.index"]},"from_port":{"references":["var.computed_egress_with_cidr_blocks","count.index","var.rules","var.computed_egress_with_cidr_blocks","count.index"]},"prefix_list_ids":{"references":["var.egress_prefix_list_ids"]},"protocol":{"references":["var.computed_egress_with_cidr_blocks","count.index","var.rules","var.computed_egress_with_cidr_blocks","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"to_port":{"references":["var.computed_egress_with_cidr_blocks","count.index","var.rules","var.computed_egress_with_cidr_blocks","count.index"]},"type":{"constant_value":"egress"}},"schema_version":2,"count_expression":{"references":["local.create","var.number_of_computed_egress_with_cidr_blocks"]}},{"address":"aws_security_group_rule.computed_egress_with_ipv6_cidr_blocks","mode":"managed","type":"aws_security_group_rule","name":"computed_egress_with_ipv6_cidr_blocks","provider_config_key":"module.securitygroups.module.jumpbox_ec2_security_group:aws","expressions":{"description":{"references":["var.computed_egress_with_ipv6_cidr_blocks","count.index"]},"from_port":{"references":["var.computed_egress_with_ipv6_cidr_blocks","count.index","var.rules","var.computed_egress_with_ipv6_cidr_blocks","count.index"]},"ipv6_cidr_blocks":{"references":["var.computed_egress_with_ipv6_cidr_blocks","count.index","var.egress_ipv6_cidr_blocks"]},"prefix_list_ids":{"references":["var.egress_prefix_list_ids"]},"protocol":{"references":["var.computed_egress_with_ipv6_cidr_blocks","count.index","var.rules","var.computed_egress_with_ipv6_cidr_blocks","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"to_port":{"references":["var.computed_egress_with_ipv6_cidr_blocks","count.index","var.rules","var.computed_egress_with_ipv6_cidr_blocks","count.index"]},"type":{"constant_value":"egress"}},"schema_version":2,"count_expression":{"references":["local.create","var.number_of_computed_egress_with_ipv6_cidr_blocks"]}},{"address":"aws_security_group_rule.computed_egress_with_self","mode":"managed","type":"aws_security_group_rule","name":"computed_egress_with_self","provider_config_key":"module.securitygroups.module.jumpbox_ec2_security_group:aws","expressions":{"description":{"references":["var.computed_egress_with_self","count.index"]},"from_port":{"references":["var.computed_egress_with_self","count.index","var.rules","var.computed_egress_with_self","count.index"]},"prefix_list_ids":{"references":["var.egress_prefix_list_ids"]},"protocol":{"references":["var.computed_egress_with_self","count.index","var.rules","var.computed_egress_with_self","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"self":{"references":["var.computed_egress_with_self","count.index"]},"to_port":{"references":["var.computed_egress_with_self","count.index","var.rules","var.computed_egress_with_self","count.index"]},"type":{"constant_value":"egress"}},"schema_version":2,"count_expression":{"references":["local.create","var.number_of_computed_egress_with_self"]}},{"address":"aws_security_group_rule.computed_egress_with_source_security_group_id","mode":"managed","type":"aws_security_group_rule","name":"computed_egress_with_source_security_group_id","provider_config_key":"module.securitygroups.module.jumpbox_ec2_security_group:aws","expressions":{"description":{"references":["var.computed_egress_with_source_security_group_id","count.index"]},"from_port":{"references":["var.computed_egress_with_source_security_group_id","count.index","var.rules","var.computed_egress_with_source_security_group_id","count.index"]},"prefix_list_ids":{"references":["var.egress_prefix_list_ids"]},"protocol":{"references":["var.computed_egress_with_source_security_group_id","count.index","var.rules","var.computed_egress_with_source_security_group_id","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"source_security_group_id":{"references":["var.computed_egress_with_source_security_group_id","count.index"]},"to_port":{"references":["var.computed_egress_with_source_security_group_id","count.index","var.rules","var.computed_egress_with_source_security_group_id","count.index"]},"type":{"constant_value":"egress"}},"schema_version":2,"count_expression":{"references":["local.create","var.number_of_computed_egress_with_source_security_group_id"]}},{"address":"aws_security_group_rule.computed_ingress_rules","mode":"managed","type":"aws_security_group_rule","name":"computed_ingress_rules","provider_config_key":"module.securitygroups.module.jumpbox_ec2_security_group:aws","expressions":{"cidr_blocks":{"references":["var.ingress_cidr_blocks"]},"description":{"references":["var.rules","var.computed_ingress_rules","count.index"]},"from_port":{"references":["var.rules","var.computed_ingress_rules","count.index"]},"ipv6_cidr_blocks":{"references":["var.ingress_ipv6_cidr_blocks"]},"prefix_list_ids":{"references":["var.ingress_prefix_list_ids"]},"protocol":{"references":["var.rules","var.computed_ingress_rules","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"to_port":{"references":["var.rules","var.computed_ingress_rules","count.index"]},"type":{"constant_value":"ingress"}},"schema_version":2,"count_expression":{"references":["local.create","var.number_of_computed_ingress_rules"]}},{"address":"aws_security_group_rule.computed_ingress_with_cidr_blocks","mode":"managed","type":"aws_security_group_rule","name":"computed_ingress_with_cidr_blocks","provider_config_key":"module.securitygroups.module.jumpbox_ec2_security_group:aws","expressions":{"cidr_blocks":{"references":["var.computed_ingress_with_cidr_blocks","count.index","var.ingress_cidr_blocks"]},"description":{"references":["var.computed_ingress_with_cidr_blocks","count.index"]},"from_port":{"references":["var.computed_ingress_with_cidr_blocks","count.index","var.rules","var.computed_ingress_with_cidr_blocks","count.index"]},"prefix_list_ids":{"references":["var.ingress_prefix_list_ids"]},"protocol":{"references":["var.computed_ingress_with_cidr_blocks","count.index","var.rules","var.computed_ingress_with_cidr_blocks","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"to_port":{"references":["var.computed_ingress_with_cidr_blocks","count.index","var.rules","var.computed_ingress_with_cidr_blocks","count.index"]},"type":{"constant_value":"ingress"}},"schema_version":2,"count_expression":{"references":["local.create","var.number_of_computed_ingress_with_cidr_blocks"]}},{"address":"aws_security_group_rule.computed_ingress_with_ipv6_cidr_blocks","mode":"managed","type":"aws_security_group_rule","name":"computed_ingress_with_ipv6_cidr_blocks","provider_config_key":"module.securitygroups.module.jumpbox_ec2_security_group:aws","expressions":{"description":{"references":["var.computed_ingress_with_ipv6_cidr_blocks","count.index"]},"from_port":{"references":["var.computed_ingress_with_ipv6_cidr_blocks","count.index","var.rules","var.computed_ingress_with_ipv6_cidr_blocks","count.index"]},"ipv6_cidr_blocks":{"references":["var.computed_ingress_with_ipv6_cidr_blocks","count.index","var.ingress_ipv6_cidr_blocks"]},"prefix_list_ids":{"references":["var.ingress_prefix_list_ids"]},"protocol":{"references":["var.computed_ingress_with_ipv6_cidr_blocks","count.index","var.rules","var.computed_ingress_with_ipv6_cidr_blocks","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"to_port":{"references":["var.computed_ingress_with_ipv6_cidr_blocks","count.index","var.rules","var.computed_ingress_with_ipv6_cidr_blocks","count.index"]},"type":{"constant_value":"ingress"}},"schema_version":2,"count_expression":{"references":["local.create","var.number_of_computed_ingress_with_ipv6_cidr_blocks"]}},{"address":"aws_security_group_rule.computed_ingress_with_self","mode":"managed","type":"aws_security_group_rule","name":"computed_ingress_with_self","provider_config_key":"module.securitygroups.module.jumpbox_ec2_security_group:aws","expressions":{"description":{"references":["var.computed_ingress_with_self","count.index"]},"from_port":{"references":["var.computed_ingress_with_self","count.index","var.rules","var.computed_ingress_with_self","count.index"]},"prefix_list_ids":{"references":["var.ingress_prefix_list_ids"]},"protocol":{"references":["var.computed_ingress_with_self","count.index","var.rules","var.computed_ingress_with_self","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"self":{"references":["var.computed_ingress_with_self","count.index"]},"to_port":{"references":["var.computed_ingress_with_self","count.index","var.rules","var.computed_ingress_with_self","count.index"]},"type":{"constant_value":"ingress"}},"schema_version":2,"count_expression":{"references":["local.create","var.number_of_computed_ingress_with_self"]}},{"address":"aws_security_group_rule.computed_ingress_with_source_security_group_id","mode":"managed","type":"aws_security_group_rule","name":"computed_ingress_with_source_security_group_id","provider_config_key":"module.securitygroups.module.jumpbox_ec2_security_group:aws","expressions":{"description":{"references":["var.computed_ingress_with_source_security_group_id","count.index"]},"from_port":{"references":["var.computed_ingress_with_source_security_group_id","count.index","var.rules","var.computed_ingress_with_source_security_group_id","count.index"]},"prefix_list_ids":{"references":["var.ingress_prefix_list_ids"]},"protocol":{"references":["var.computed_ingress_with_source_security_group_id","count.index","var.rules","var.computed_ingress_with_source_security_group_id","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"source_security_group_id":{"references":["var.computed_ingress_with_source_security_group_id","count.index"]},"to_port":{"references":["var.computed_ingress_with_source_security_group_id","count.index","var.rules","var.computed_ingress_with_source_security_group_id","count.index"]},"type":{"constant_value":"ingress"}},"schema_version":2,"count_expression":{"references":["local.create","var.number_of_computed_ingress_with_source_security_group_id"]}},{"address":"aws_security_group_rule.egress_rules","mode":"managed","type":"aws_security_group_rule","name":"egress_rules","provider_config_key":"module.securitygroups.module.jumpbox_ec2_security_group:aws","expressions":{"cidr_blocks":{"references":["var.egress_cidr_blocks"]},"description":{"references":["var.rules","var.egress_rules","count.index"]},"from_port":{"references":["var.rules","var.egress_rules","count.index"]},"ipv6_cidr_blocks":{"references":["var.egress_ipv6_cidr_blocks"]},"prefix_list_ids":{"references":["var.egress_prefix_list_ids"]},"protocol":{"references":["var.rules","var.egress_rules","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"to_port":{"references":["var.rules","var.egress_rules","count.index"]},"type":{"constant_value":"egress"}},"schema_version":2,"count_expression":{"references":["local.create","var.egress_rules"]}},{"address":"aws_security_group_rule.egress_with_cidr_blocks","mode":"managed","type":"aws_security_group_rule","name":"egress_with_cidr_blocks","provider_config_key":"module.securitygroups.module.jumpbox_ec2_security_group:aws","expressions":{"cidr_blocks":{"references":["var.egress_with_cidr_blocks","count.index","var.egress_cidr_blocks"]},"description":{"references":["var.egress_with_cidr_blocks","count.index"]},"from_port":{"references":["var.egress_with_cidr_blocks","count.index","var.rules","var.egress_with_cidr_blocks","count.index"]},"prefix_list_ids":{"references":["var.egress_prefix_list_ids"]},"protocol":{"references":["var.egress_with_cidr_blocks","count.index","var.rules","var.egress_with_cidr_blocks","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"to_port":{"references":["var.egress_with_cidr_blocks","count.index","var.rules","var.egress_with_cidr_blocks","count.index"]},"type":{"constant_value":"egress"}},"schema_version":2,"count_expression":{"references":["local.create","var.egress_with_cidr_blocks"]}},{"address":"aws_security_group_rule.egress_with_ipv6_cidr_blocks","mode":"managed","type":"aws_security_group_rule","name":"egress_with_ipv6_cidr_blocks","provider_config_key":"module.securitygroups.module.jumpbox_ec2_security_group:aws","expressions":{"description":{"references":["var.egress_with_ipv6_cidr_blocks","count.index"]},"from_port":{"references":["var.egress_with_ipv6_cidr_blocks","count.index","var.rules","var.egress_with_ipv6_cidr_blocks","count.index"]},"ipv6_cidr_blocks":{"references":["var.egress_with_ipv6_cidr_blocks","count.index","var.egress_ipv6_cidr_blocks"]},"prefix_list_ids":{"references":["var.egress_prefix_list_ids"]},"protocol":{"references":["var.egress_with_ipv6_cidr_blocks","count.index","var.rules","var.egress_with_ipv6_cidr_blocks","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"to_port":{"references":["var.egress_with_ipv6_cidr_blocks","count.index","var.rules","var.egress_with_ipv6_cidr_blocks","count.index"]},"type":{"constant_value":"egress"}},"schema_version":2,"count_expression":{"references":["local.create","var.egress_with_ipv6_cidr_blocks"]}},{"address":"aws_security_group_rule.egress_with_self","mode":"managed","type":"aws_security_group_rule","name":"egress_with_self","provider_config_key":"module.securitygroups.module.jumpbox_ec2_security_group:aws","expressions":{"description":{"references":["var.egress_with_self","count.index"]},"from_port":{"references":["var.egress_with_self","count.index","var.rules","var.egress_with_self","count.index"]},"prefix_list_ids":{"references":["var.egress_prefix_list_ids"]},"protocol":{"references":["var.egress_with_self","count.index","var.rules","var.egress_with_self","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"self":{"references":["var.egress_with_self","count.index"]},"to_port":{"references":["var.egress_with_self","count.index","var.rules","var.egress_with_self","count.index"]},"type":{"constant_value":"egress"}},"schema_version":2,"count_expression":{"references":["local.create","var.egress_with_self"]}},{"address":"aws_security_group_rule.egress_with_source_security_group_id","mode":"managed","type":"aws_security_group_rule","name":"egress_with_source_security_group_id","provider_config_key":"module.securitygroups.module.jumpbox_ec2_security_group:aws","expressions":{"description":{"references":["var.egress_with_source_security_group_id","count.index"]},"from_port":{"references":["var.egress_with_source_security_group_id","count.index","var.rules","var.egress_with_source_security_group_id","count.index"]},"prefix_list_ids":{"references":["var.egress_prefix_list_ids"]},"protocol":{"references":["var.egress_with_source_security_group_id","count.index","var.rules","var.egress_with_source_security_group_id","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"source_security_group_id":{"references":["var.egress_with_source_security_group_id","count.index"]},"to_port":{"references":["var.egress_with_source_security_group_id","count.index","var.rules","var.egress_with_source_security_group_id","count.index"]},"type":{"constant_value":"egress"}},"schema_version":2,"count_expression":{"references":["local.create","var.egress_with_source_security_group_id"]}},{"address":"aws_security_group_rule.ingress_rules","mode":"managed","type":"aws_security_group_rule","name":"ingress_rules","provider_config_key":"module.securitygroups.module.jumpbox_ec2_security_group:aws","expressions":{"cidr_blocks":{"references":["var.ingress_cidr_blocks"]},"description":{"references":["var.rules","var.ingress_rules","count.index"]},"from_port":{"references":["var.rules","var.ingress_rules","count.index"]},"ipv6_cidr_blocks":{"references":["var.ingress_ipv6_cidr_blocks"]},"prefix_list_ids":{"references":["var.ingress_prefix_list_ids"]},"protocol":{"references":["var.rules","var.ingress_rules","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"to_port":{"references":["var.rules","var.ingress_rules","count.index"]},"type":{"constant_value":"ingress"}},"schema_version":2,"count_expression":{"references":["local.create","var.ingress_rules"]}},{"address":"aws_security_group_rule.ingress_with_cidr_blocks","mode":"managed","type":"aws_security_group_rule","name":"ingress_with_cidr_blocks","provider_config_key":"module.securitygroups.module.jumpbox_ec2_security_group:aws","expressions":{"cidr_blocks":{"references":["var.ingress_with_cidr_blocks","count.index","var.ingress_cidr_blocks"]},"description":{"references":["var.ingress_with_cidr_blocks","count.index"]},"from_port":{"references":["var.ingress_with_cidr_blocks","count.index","var.rules","var.ingress_with_cidr_blocks","count.index"]},"prefix_list_ids":{"references":["var.ingress_prefix_list_ids"]},"protocol":{"references":["var.ingress_with_cidr_blocks","count.index","var.rules","var.ingress_with_cidr_blocks","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"to_port":{"references":["var.ingress_with_cidr_blocks","count.index","var.rules","var.ingress_with_cidr_blocks","count.index"]},"type":{"constant_value":"ingress"}},"schema_version":2,"count_expression":{"references":["local.create","var.ingress_with_cidr_blocks"]}},{"address":"aws_security_group_rule.ingress_with_ipv6_cidr_blocks","mode":"managed","type":"aws_security_group_rule","name":"ingress_with_ipv6_cidr_blocks","provider_config_key":"module.securitygroups.module.jumpbox_ec2_security_group:aws","expressions":{"description":{"references":["var.ingress_with_ipv6_cidr_blocks","count.index"]},"from_port":{"references":["var.ingress_with_ipv6_cidr_blocks","count.index","var.rules","var.ingress_with_ipv6_cidr_blocks","count.index"]},"ipv6_cidr_blocks":{"references":["var.ingress_with_ipv6_cidr_blocks","count.index","var.ingress_ipv6_cidr_blocks"]},"prefix_list_ids":{"references":["var.ingress_prefix_list_ids"]},"protocol":{"references":["var.ingress_with_ipv6_cidr_blocks","count.index","var.rules","var.ingress_with_ipv6_cidr_blocks","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"to_port":{"references":["var.ingress_with_ipv6_cidr_blocks","count.index","var.rules","var.ingress_with_ipv6_cidr_blocks","count.index"]},"type":{"constant_value":"ingress"}},"schema_version":2,"count_expression":{"references":["local.create","var.ingress_with_ipv6_cidr_blocks"]}},{"address":"aws_security_group_rule.ingress_with_self","mode":"managed","type":"aws_security_group_rule","name":"ingress_with_self","provider_config_key":"module.securitygroups.module.jumpbox_ec2_security_group:aws","expressions":{"description":{"references":["var.ingress_with_self","count.index"]},"from_port":{"references":["var.ingress_with_self","count.index","var.rules","var.ingress_with_self","count.index"]},"prefix_list_ids":{"references":["var.ingress_prefix_list_ids"]},"protocol":{"references":["var.ingress_with_self","count.index","var.rules","var.ingress_with_self","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"self":{"references":["var.ingress_with_self","count.index"]},"to_port":{"references":["var.ingress_with_self","count.index","var.rules","var.ingress_with_self","count.index"]},"type":{"constant_value":"ingress"}},"schema_version":2,"count_expression":{"references":["local.create","var.ingress_with_self"]}},{"address":"aws_security_group_rule.ingress_with_source_security_group_id","mode":"managed","type":"aws_security_group_rule","name":"ingress_with_source_security_group_id","provider_config_key":"module.securitygroups.module.jumpbox_ec2_security_group:aws","expressions":{"description":{"references":["var.ingress_with_source_security_group_id","count.index"]},"from_port":{"references":["var.ingress_with_source_security_group_id","count.index","var.rules","var.ingress_with_source_security_group_id","count.index"]},"prefix_list_ids":{"references":["var.ingress_prefix_list_ids"]},"protocol":{"references":["var.ingress_with_source_security_group_id","count.index","var.rules","var.ingress_with_source_security_group_id","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"source_security_group_id":{"references":["var.ingress_with_source_security_group_id","count.index"]},"to_port":{"references":["var.ingress_with_source_security_group_id","count.index","var.rules","var.ingress_with_source_security_group_id","count.index"]},"type":{"constant_value":"ingress"}},"schema_version":2,"count_expression":{"references":["local.create","var.ingress_with_source_security_group_id"]}}],"variables":{"auto_groups":{"default":{"activemq":{"egress_rules":["all-all"],"ingress_rules":["activemq-5671-tcp","activemq-8883-tcp","activemq-61614-tcp","activemq-61617-tcp","activemq-61619-tcp"],"ingress_with_self":["all-all"]},"alertmanager":{"egress_rules":["all-all"],"ingress_rules":["alertmanager-9093-tcp","alertmanager-9094-tcp"],"ingress_with_self":["all-all"]},"carbon-relay-ng":{"egress_rules":["all-all"],"ingress_rules":["carbon-line-in-tcp","carbon-line-in-udp","carbon-pickle-tcp","carbon-pickle-udp","carbon-gui-udp"],"ingress_with_self":["all-all"]},"cassandra":{"egress_rules":["all-all"],"ingress_rules":["cassandra-clients-tcp","cassandra-thrift-clients-tcp","cassandra-jmx-tcp"],"ingress_with_self":["all-all"]},"consul":{"egress_rules":["all-all"],"ingress_rules":["consul-tcp","consul-grpc-tcp","consul-webui-http-tcp","consul-webui-https-tcp","consul-dns-tcp","consul-dns-udp","consul-serf-lan-tcp","consul-serf-lan-udp","consul-serf-wan-tcp","consul-serf-wan-udp"],"ingress_with_self":["all-all"]},"docker-swarm":{"egress_rules":["all-all"],"ingress_rules":["docker-swarm-mngmt-tcp","docker-swarm-node-tcp","docker-swarm-node-udp","docker-swarm-overlay-udp"],"ingress_with_self":["all-all"]},"elasticsearch":{"egress_rules":["all-all"],"ingress_rules":["elasticsearch-rest-tcp","elasticsearch-java-tcp"],"ingress_with_self":["all-all"]},"etcd":{"egress_rules":["all-all"],"ingress_rules":["etcd-client-tcp","etcd-peer-tcp"],"ingress_with_self":["all-all"]},"grafana":{"egress_rules":["all-all"],"ingress_rules":["grafana-tcp"],"ingress_with_self":["all-all"]},"graphite-statsd":{"egress_rules":["all-all"],"ingress_rules":["graphite-webui","graphite-2003-tcp","graphite-2004-tcp","graphite-2023-tcp","graphite-2024-tcp","graphite-8080-tcp","graphite-8125-tcp","graphite-8125-udp","graphite-8126-tcp"],"ingress_with_self":["all-all"]},"http-80":{"egress_rules":["all-all"],"ingress_rules":["http-80-tcp"],"ingress_with_self":["all-all"]},"http-8080":{"egress_rules":["all-all"],"ingress_rules":["http-8080-tcp"],"ingress_with_self":["all-all"]},"https-443":{"egress_rules":["all-all"],"ingress_rules":["https-443-tcp"],"ingress_with_self":["all-all"]},"https-8443":{"egress_rules":["all-all"],"ingress_rules":["https-8443-tcp"],"ingress_with_self":["all-all"]},"ipsec-4500":{"egress_rules":["all-all"],"ingress_rules":["ipsec-4500-udp"],"ingress_with_self":["all-all"]},"ipsec-500":{"egress_rules":["all-all"],"ingress_rules":["ipsec-500-udp"],"ingress_with_self":["all-all"]},"kafka":{"egress_rules":["all-all"],"ingress_rules":["kafka-broker-tcp","kafka-broker-tls-tcp","kafka-jmx-exporter-tcp","kafka-node-exporter-tcp"],"ingress_with_self":["all-all"]},"kibana":{"egress_rules":["all-all"],"ingress_rules":["kibana-tcp"],"ingress_with_self":["all-all"]},"kubernetes-api":{"egress_rules":["all-all"],"ingress_rules":["kubernetes-api-tcp"],"ingress_with_self":["all-all"]},"ldap":{"egress_rules":["all-all"],"ingress_rules":["ldap-tcp"],"ingress_with_self":["all-all"]},"ldaps":{"egress_rules":["all-all"],"ingress_rules":["ldaps-tcp"],"ingress_with_self":["all-all"]},"logstash":{"egress_rules":["all-all"],"ingress_rules":["logstash-tcp"],"ingress_with_self":["all-all"]},"memcached":{"egress_rules":["all-all"],"ingress_rules":["memcached-tcp"],"ingress_with_self":["all-all"]},"minio":{"egress_rules":["all-all"],"ingress_rules":["minio-tcp"],"ingress_with_self":["all-all"]},"mongodb":{"egress_rules":["all-all"],"ingress_rules":["mongodb-27017-tcp","mongodb-27018-tcp","mongodb-27019-tcp"],"ingress_with_self":["all-all"]},"mssql":{"egress_rules":["all-all"],"ingress_rules":["mssql-tcp","mssql-udp","mssql-analytics-tcp","mssql-broker-tcp"],"ingress_with_self":["all-all"]},"mysql":{"egress_rules":["all-all"],"ingress_rules":["mysql-tcp"],"ingress_with_self":["all-all"]},"nfs":{"egress_rules":["all-all"],"ingress_rules":["nfs-tcp"],"ingress_with_self":["all-all"]},"nomad":{"egress_rules":["all-all"],"ingress_rules":["nomad-http-tcp","nomad-rpc-tcp","nomad-serf-tcp","nomad-serf-udp"],"ingress_with_self":["all-all"]},"ntp":{"egress_rules":["all-all"],"ingress_rules":["ntp-udp"],"ingress_with_self":["all-all"]},"openvpn":{"egress_rules":["all-all"],"ingress_rules":["openvpn-udp","openvpn-tcp","openvpn-https-tcp"],"ingress_with_self":["all-all"]},"oracle-db":{"egress_rules":["all-all"],"ingress_rules":["oracle-db-tcp"],"ingress_with_self":["all-all"]},"postgresql":{"egress_rules":["all-all"],"ingress_rules":["postgresql-tcp"],"ingress_with_self":["all-all"]},"prometheus":{"egress_rules":["all-all"],"ingress_rules":["prometheus-http-tcp","prometheus-pushgateway-http-tcp"],"ingress_with_self":["all-all"]},"puppet":{"egress_rules":["all-all"],"ingress_rules":["puppet-tcp","puppetdb-tcp"],"ingress_with_self":["all-all"]},"rabbitmq":{"egress_rules":["all-all"],"ingress_rules":["rabbitmq-4369-tcp","rabbitmq-5671-tcp","rabbitmq-5672-tcp","rabbitmq-15672-tcp","rabbitmq-25672-tcp"],"ingress_with_self":["all-all"]},"rdp":{"egress_rules":["all-all"],"ingress_rules":["rdp-tcp","rdp-udp"],"ingress_with_self":["all-all"]},"redis":{"egress_rules":["all-all"],"ingress_rules":["redis-tcp"],"ingress_with_self":["all-all"]},"redshift":{"egress_rules":["all-all"],"ingress_rules":["redshift-tcp"],"ingress_with_self":["all-all"]},"smtp":{"egress_rules":["all-all"],"ingress_rules":["smtp-tcp"],"ingress_with_self":["all-all"]},"smtp-submission":{"egress_rules":["all-all"],"ingress_rules":["smtp-submission-587-tcp","smtp-submission-2587-tcp"],"ingress_with_self":["all-all"]},"smtps":{"egress_rules":["all-all"],"ingress_rules":["smtps-465-tcp","smtps-2465-tcp"],"ingress_with_self":["all-all"]},"solr":{"egress_rules":["all-all"],"ingress_rules":["solr-tcp"],"ingress_with_self":["all-all"]},"splunk":{"egress_rules":["all-all"],"ingress_rules":["splunk-indexer-tcp","splunk-clients-tcp","splunk-splunkd-tcp","splunk-hec-tcp"],"ingress_with_self":["all-all"]},"squid":{"egress_rules":["all-all"],"ingress_rules":["squid-proxy-tcp"],"ingress_with_self":["all-all"]},"ssh":{"egress_rules":["all-all"],"ingress_rules":["ssh-tcp"],"ingress_with_self":["all-all"]},"storm":{"egress_rules":["all-all"],"ingress_rules":["storm-nimbus-tcp","storm-ui-tcp","storm-supervisor-tcp"],"ingress_with_self":["all-all"]},"web":{"egress_rules":["all-all"],"ingress_rules":["http-80-tcp","http-8080-tcp","https-443-tcp","web-jmx-tcp"],"ingress_with_self":["all-all"]},"winrm":{"egress_rules":["all-all"],"ingress_rules":["winrm-http-tcp","winrm-https-tcp"],"ingress_with_self":["all-all"]},"zipkin":{"egress_rules":["all-all"],"ingress_rules":["zipkin-admin-tcp","zipkin-admin-query-tcp","zipkin-admin-web-tcp","zipkin-query-tcp","zipkin-web-tcp"],"ingress_with_self":["all-all"]},"zookeeper":{"egress_rules":["all-all"],"ingress_rules":["zookeeper-2181-tcp","zookeeper-2888-tcp","zookeeper-3888-tcp","zookeeper-jmx-tcp"],"ingress_with_self":["all-all"]}},"description":"Map of groups of security group rules to use to generate modules (see update_groups.sh)"},"computed_egress_rules":{"default":[],"description":"List of computed egress rules to create by name"},"computed_egress_with_cidr_blocks":{"default":[],"description":"List of computed egress rules to create where 'cidr_blocks' is used"},"computed_egress_with_ipv6_cidr_blocks":{"default":[],"description":"List of computed egress rules to create where 'ipv6_cidr_blocks' is used"},"computed_egress_with_self":{"default":[],"description":"List of computed egress rules to create where 'self' is defined"},"computed_egress_with_source_security_group_id":{"default":[],"description":"List of computed egress rules to create where 'source_security_group_id' is used"},"computed_ingress_rules":{"default":[],"description":"List of computed ingress rules to create by name"},"computed_ingress_with_cidr_blocks":{"default":[],"description":"List of computed ingress rules to create where 'cidr_blocks' is used"},"computed_ingress_with_ipv6_cidr_blocks":{"default":[],"description":"List of computed ingress rules to create where 'ipv6_cidr_blocks' is used"},"computed_ingress_with_self":{"default":[],"description":"List of computed ingress rules to create where 'self' is defined"},"computed_ingress_with_source_security_group_id":{"default":[],"description":"List of computed ingress rules to create where 'source_security_group_id' is used"},"create":{"default":true,"description":"Whether to create security group and all rules"},"create_sg":{"default":true,"description":"Whether to create security group"},"create_timeout":{"default":"10m","description":"Time to wait for a security group to be created"},"delete_timeout":{"default":"15m","description":"Time to wait for a security group to be deleted"},"description":{"default":"Security Group managed by Terraform","description":"Description of security group"},"egress_cidr_blocks":{"default":["0.0.0.0/0"],"description":"List of IPv4 CIDR ranges to use on all egress rules"},"egress_ipv6_cidr_blocks":{"default":["::/0"],"description":"List of IPv6 CIDR ranges to use on all egress rules"},"egress_prefix_list_ids":{"default":[],"description":"List of prefix list IDs (for allowing access to VPC endpoints) to use on all egress rules"},"egress_rules":{"default":[],"description":"List of egress rules to create by name"},"egress_with_cidr_blocks":{"default":[],"description":"List of egress rules to create where 'cidr_blocks' is used"},"egress_with_ipv6_cidr_blocks":{"default":[],"description":"List of egress rules to create where 'ipv6_cidr_blocks' is used"},"egress_with_self":{"default":[],"description":"List of egress rules to create where 'self' is defined"},"egress_with_source_security_group_id":{"default":[],"description":"List of egress rules to create where 'source_security_group_id' is used"},"ingress_cidr_blocks":{"default":[],"description":"List of IPv4 CIDR ranges to use on all ingress rules"},"ingress_ipv6_cidr_blocks":{"default":[],"description":"List of IPv6 CIDR ranges to use on all ingress rules"},"ingress_prefix_list_ids":{"default":[],"description":"List of prefix list IDs (for allowing access to VPC endpoints) to use on all ingress rules"},"ingress_rules":{"default":[],"description":"List of ingress rules to create by name"},"ingress_with_cidr_blocks":{"default":[],"description":"List of ingress rules to create where 'cidr_blocks' is used"},"ingress_with_ipv6_cidr_blocks":{"default":[],"description":"List of ingress rules to create where 'ipv6_cidr_blocks' is used"},"ingress_with_self":{"default":[],"description":"List of ingress rules to create where 'self' is defined"},"ingress_with_source_security_group_id":{"default":[],"description":"List of ingress rules to create where 'source_security_group_id' is used"},"name":{"default":null,"description":"Name of security group - not required if create_sg is false"},"number_of_computed_egress_rules":{"default":0,"description":"Number of computed egress rules to create by name"},"number_of_computed_egress_with_cidr_blocks":{"default":0,"description":"Number of computed egress rules to create where 'cidr_blocks' is used"},"number_of_computed_egress_with_ipv6_cidr_blocks":{"default":0,"description":"Number of computed egress rules to create where 'ipv6_cidr_blocks' is used"},"number_of_computed_egress_with_self":{"default":0,"description":"Number of computed egress rules to create where 'self' is defined"},"number_of_computed_egress_with_source_security_group_id":{"default":0,"description":"Number of computed egress rules to create where 'source_security_group_id' is used"},"number_of_computed_ingress_rules":{"default":0,"description":"Number of computed ingress rules to create by name"},"number_of_computed_ingress_with_cidr_blocks":{"default":0,"description":"Number of computed ingress rules to create where 'cidr_blocks' is used"},"number_of_computed_ingress_with_ipv6_cidr_blocks":{"default":0,"description":"Number of computed ingress rules to create where 'ipv6_cidr_blocks' is used"},"number_of_computed_ingress_with_self":{"default":0,"description":"Number of computed ingress rules to create where 'self' is defined"},"number_of_computed_ingress_with_source_security_group_id":{"default":0,"description":"Number of computed ingress rules to create where 'source_security_group_id' is used"},"putin_khuylo":{"default":true,"description":"Do you agree that Putin doesn't respect Ukrainian sovereignty and territorial integrity? More info: https://en.wikipedia.org/wiki/Putin_khuylo!"},"revoke_rules_on_delete":{"default":false,"description":"Instruct Terraform to revoke all of the Security Groups attached ingress and egress rules before deleting the rule itself. Enable for EMR."},"rules":{"default":{"_":["","",""],"activemq-5671-tcp":["5671","5671","tcp","ActiveMQ AMQP"],"activemq-61614-tcp":["61614","61614","tcp","ActiveMQ STOMP"],"activemq-61617-tcp":["61617","61617","tcp","ActiveMQ OpenWire"],"activemq-61619-tcp":["61619","61619","tcp","ActiveMQ WebSocket"],"activemq-8883-tcp":["8883","8883","tcp","ActiveMQ MQTT"],"alertmanager-9093-tcp":["9093","9093","tcp","Alert Manager"],"alertmanager-9094-tcp":["9094","9094","tcp","Alert Manager Cluster"],"all-all":["-1","-1","-1","All protocols"],"all-icmp":["-1","-1","icmp","All IPV4 ICMP"],"all-ipv6-icmp":["-1","-1","58","All IPV6 ICMP"],"all-tcp":["0","65535","tcp","All TCP ports"],"all-udp":["0","65535","udp","All UDP ports"],"carbon-admin-tcp":["2004","2004","tcp","Carbon admin"],"carbon-gui-udp":["8081","8081","tcp","Carbon GUI"],"carbon-line-in-tcp":["2003","2003","tcp","Carbon line-in"],"carbon-line-in-udp":["2003","2003","udp","Carbon line-in"],"carbon-pickle-tcp":["2013","2013","tcp","Carbon pickle"],"carbon-pickle-udp":["2013","2013","udp","Carbon pickle"],"cassandra-clients-tcp":["9042","9042","tcp","Cassandra clients"],"cassandra-jmx-tcp":["7199","7199","tcp","JMX"],"cassandra-thrift-clients-tcp":["9160","9160","tcp","Cassandra Thrift clients"],"consul-dns-tcp":["8600","8600","tcp","Consul DNS"],"consul-dns-udp":["8600","8600","udp","Consul DNS"],"consul-grpc-tcp":["8502","8502","tcp","Consul gRPC"],"consul-serf-lan-tcp":["8301","8301","tcp","Serf LAN"],"consul-serf-lan-udp":["8301","8301","udp","Serf LAN"],"consul-serf-wan-tcp":["8302","8302","tcp","Serf WAN"],"consul-serf-wan-udp":["8302","8302","udp","Serf WAN"],"consul-tcp":["8300","8300","tcp","Consul server"],"consul-webui-http-tcp":["8500","8500","tcp","Consul web UI HTTP"],"consul-webui-https-tcp":["8501","8501","tcp","Consul web UI HTTPS"],"dns-tcp":["53","53","tcp","DNS"],"dns-udp":["53","53","udp","DNS"],"docker-swarm-mngmt-tcp":["2377","2377","tcp","Docker Swarm cluster management"],"docker-swarm-node-tcp":["7946","7946","tcp","Docker Swarm node"],"docker-swarm-node-udp":["7946","7946","udp","Docker Swarm node"],"docker-swarm-overlay-udp":["4789","4789","udp","Docker Swarm Overlay Network Traffic"],"elasticsearch-java-tcp":["9300","9300","tcp","Elasticsearch Java interface"],"elasticsearch-rest-tcp":["9200","9200","tcp","Elasticsearch REST interface"],"etcd-client-tcp":["2379","2379","tcp","Etcd Client"],"etcd-peer-tcp":["2380","2380","tcp","Etcd Peer"],"grafana-tcp":["3000","3000","tcp","Grafana Dashboard"],"graphite-2003-tcp":["2003","2003","tcp","Carbon receiver plain text"],"graphite-2004-tcp":["2004","2004","tcp","Carbon receiver pickle"],"graphite-2023-tcp":["2023","2023","tcp","Carbon aggregator plaintext"],"graphite-2024-tcp":["2024","2024","tcp","Carbon aggregator pickle"],"graphite-8080-tcp":["8080","8080","tcp","Graphite gunicorn port"],"graphite-8125-tcp":["8125","8125","tcp","Statsd TCP"],"graphite-8125-udp":["8125","8125","udp","Statsd UDP default"],"graphite-8126-tcp":["8126","8126","tcp","Statsd admin"],"graphite-webui":["80","80","tcp","Graphite admin interface"],"http-80-tcp":["80","80","tcp","HTTP"],"http-8080-tcp":["8080","8080","tcp","HTTP"],"https-443-tcp":["443","443","tcp","HTTPS"],"https-8443-tcp":["8443","8443","tcp","HTTPS"],"ipsec-4500-udp":["4500","4500","udp","IPSEC NAT-T"],"ipsec-500-udp":["500","500","udp","IPSEC ISAKMP"],"kafka-broker-tcp":["9092","9092","tcp","Kafka broker 0.8.2+"],"kafka-broker-tls-tcp":["9094","9094","tcp","Kafka TLS enabled broker 0.8.2+"],"kafka-jmx-exporter-tcp":["11001","11001","tcp","Kafka JMX Exporter"],"kafka-node-exporter-tcp":["11002","11002","tcp","Kafka Node Exporter"],"kibana-tcp":["5601","5601","tcp","Kibana Web Interface"],"kubernetes-api-tcp":["6443","6443","tcp","Kubernetes API Server"],"ldap-tcp":["389","389","tcp","LDAP"],"ldaps-tcp":["636","636","tcp","LDAPS"],"logstash-tcp":["5044","5044","tcp","Logstash"],"memcached-tcp":["11211","11211","tcp","Memcached"],"minio-tcp":["9000","9000","tcp","MinIO"],"mongodb-27017-tcp":["27017","27017","tcp","MongoDB"],"mongodb-27018-tcp":["27018","27018","tcp","MongoDB shard"],"mongodb-27019-tcp":["27019","27019","tcp","MongoDB config server"],"mssql-analytics-tcp":["2383","2383","tcp","MSSQL Analytics"],"mssql-broker-tcp":["4022","4022","tcp","MSSQL Broker"],"mssql-tcp":["1433","1433","tcp","MSSQL Server"],"mssql-udp":["1434","1434","udp","MSSQL Browser"],"mysql-tcp":["3306","3306","tcp","MySQL/Aurora"],"nfs-tcp":["2049","2049","tcp","NFS/EFS"],"nomad-http-tcp":["4646","4646","tcp","Nomad HTTP"],"nomad-rpc-tcp":["4647","4647","tcp","Nomad RPC"],"nomad-serf-tcp":["4648","4648","tcp","Serf"],"nomad-serf-udp":["4648","4648","udp","Serf"],"ntp-udp":["123","123","udp","NTP"],"octopus-tentacle-tcp":["10933","10933","tcp","Octopus Tentacle"],"openvpn-https-tcp":["443","443","tcp","OpenVPN"],"openvpn-tcp":["943","943","tcp","OpenVPN"],"openvpn-udp":["1194","1194","udp","OpenVPN"],"oracle-db-tcp":["1521","1521","tcp","Oracle"],"postgresql-tcp":["5432","5432","tcp","PostgreSQL"],"prometheus-http-tcp":["9090","9090","tcp","Prometheus"],"prometheus-pushgateway-http-tcp":["9091","9091","tcp","Prometheus Pushgateway"],"puppet-tcp":["8140","8140","tcp","Puppet"],"puppetdb-tcp":["8081","8081","tcp","PuppetDB"],"rabbitmq-15672-tcp":["15672","15672","tcp","RabbitMQ"],"rabbitmq-25672-tcp":["25672","25672","tcp","RabbitMQ"],"rabbitmq-4369-tcp":["4369","4369","tcp","RabbitMQ epmd"],"rabbitmq-5671-tcp":["5671","5671","tcp","RabbitMQ"],"rabbitmq-5672-tcp":["5672","5672","tcp","RabbitMQ"],"rdp-tcp":["3389","3389","tcp","Remote Desktop"],"rdp-udp":["3389","3389","udp","Remote Desktop"],"redis-tcp":["6379","6379","tcp","Redis"],"redshift-tcp":["5439","5439","tcp","Redshift"],"saltstack-tcp":["4505","4506","tcp","SaltStack"],"smtp-submission-2587-tcp":["2587","2587","tcp","SMTP Submission"],"smtp-submission-587-tcp":["587","587","tcp","SMTP Submission"],"smtp-tcp":["25","25","tcp","SMTP"],"smtps-2456-tcp":["2465","2465","tcp","SMTPS"],"smtps-465-tcp":["465","465","tcp","SMTPS"],"solr-tcp":["8983","8987","tcp","Solr"],"splunk-hec-tcp":["8088","8088","tcp","Splunk HEC"],"splunk-indexer-tcp":["9997","9997","tcp","Splunk indexer"],"splunk-splunkd-tcp":["8089","8089","tcp","Splunkd"],"splunk-web-tcp":["8000","8000","tcp","Splunk Web"],"squid-proxy-tcp":["3128","3128","tcp","Squid default proxy"],"ssh-tcp":["22","22","tcp","SSH"],"storm-nimbus-tcp":["6627","6627","tcp","Nimbus"],"storm-supervisor-tcp":["6700","6703","tcp","Supervisor"],"storm-ui-tcp":["8080","8080","tcp","Storm UI"],"web-jmx-tcp":["1099","1099","tcp","JMX"],"winrm-http-tcp":["5985","5985","tcp","WinRM HTTP"],"winrm-https-tcp":["5986","5986","tcp","WinRM HTTPS"],"zipkin-admin-query-tcp":["9901","9901","tcp","Zipkin Admin port query"],"zipkin-admin-tcp":["9990","9990","tcp","Zipkin Admin port collector"],"zipkin-admin-web-tcp":["9991","9991","tcp","Zipkin Admin port web"],"zipkin-query-tcp":["9411","9411","tcp","Zipkin query port"],"zipkin-web-tcp":["8080","8080","tcp","Zipkin web port"],"zookeeper-2181-tcp":["2181","2181","tcp","Zookeeper"],"zookeeper-2888-tcp":["2888","2888","tcp","Zookeeper"],"zookeeper-3888-tcp":["3888","3888","tcp","Zookeeper"],"zookeeper-jmx-tcp":["7199","7199","tcp","JMX"]},"description":"Map of known security group rules (define as 'name' = ['from port', 'to port', 'protocol', 'description'])"},"security_group_id":{"default":null,"description":"ID of existing security group whose rules we will manage"},"tags":{"default":{},"description":"A mapping of tags to assign to security group"},"use_name_prefix":{"default":true,"description":"Whether to use name_prefix or fixed name. Should be true to able to update security group name after initial creation"},"vpc_id":{"default":null,"description":"ID of the VPC where to create security group"}}}},"public_elb_security_group":{"source":"terraform-aws-modules/security-group/aws","expressions":{"description":{"constant_value":"Security Group for elb"},"egress_cidr_blocks":{"references":["var.secgroup_public_elb_allow_egress_cidrs_list"]},"egress_rules":{"constant_value":["all-all"]},"ingress_cidr_blocks":{"references":["var.secgroup_public_elb_allow_ingress_waf_cidrs_list"]},"ingress_rules":{"references":["var.secgroup_public_elb_group_rule_list"]},"name":{"references":["var.secgroup_public_elb_group_name"]},"tags":{"references":["var.secgroup_public_elb_group_name","var.secgroup_product_name","var.secgroup_environment"]},"vpc_id":{"references":["var.secgroup_network_vpc_id"]}},"module":{"outputs":{"security_group_description":{"expression":{"references":["aws_security_group.this[0].description","aws_security_group.this[0]","aws_security_group.this","aws_security_group.this_name_prefix[0].description","aws_security_group.this_name_prefix[0]","aws_security_group.this_name_prefix"]},"description":"The description of the security group"},"security_group_id":{"expression":{"references":["aws_security_group.this[0].id","aws_security_group.this[0]","aws_security_group.this","aws_security_group.this_name_prefix[0].id","aws_security_group.this_name_prefix[0]","aws_security_group.this_name_prefix"]},"description":"The ID of the security group"},"security_group_name":{"expression":{"references":["aws_security_group.this[0].name","aws_security_group.this[0]","aws_security_group.this","aws_security_group.this_name_prefix[0].name","aws_security_group.this_name_prefix[0]","aws_security_group.this_name_prefix"]},"description":"The name of the security group"},"security_group_owner_id":{"expression":{"references":["aws_security_group.this[0].owner_id","aws_security_group.this[0]","aws_security_group.this","aws_security_group.this_name_prefix[0].owner_id","aws_security_group.this_name_prefix[0]","aws_security_group.this_name_prefix"]},"description":"The owner ID"},"security_group_vpc_id":{"expression":{"references":["aws_security_group.this[0].vpc_id","aws_security_group.this[0]","aws_security_group.this","aws_security_group.this_name_prefix[0].vpc_id","aws_security_group.this_name_prefix[0]","aws_security_group.this_name_prefix"]},"description":"The VPC ID"}},"resources":[{"address":"aws_security_group.this","mode":"managed","type":"aws_security_group","name":"this","provider_config_key":"module.securitygroups.module.public_elb_security_group:aws","expressions":{"description":{"references":["var.description"]},"name":{"references":["var.name"]},"revoke_rules_on_delete":{"references":["var.revoke_rules_on_delete"]},"tags":{"references":["var.name","var.tags"]},"timeouts":{"create":{"references":["var.create_timeout"]},"delete":{"references":["var.delete_timeout"]}},"vpc_id":{"references":["var.vpc_id"]}},"schema_version":1,"count_expression":{"references":["local.create","var.create_sg","var.use_name_prefix"]}},{"address":"aws_security_group.this_name_prefix","mode":"managed","type":"aws_security_group","name":"this_name_prefix","provider_config_key":"module.securitygroups.module.public_elb_security_group:aws","expressions":{"description":{"references":["var.description"]},"name_prefix":{"references":["var.name"]},"revoke_rules_on_delete":{"references":["var.revoke_rules_on_delete"]},"tags":{"references":["var.name","var.tags"]},"timeouts":{"create":{"references":["var.create_timeout"]},"delete":{"references":["var.delete_timeout"]}},"vpc_id":{"references":["var.vpc_id"]}},"schema_version":1,"count_expression":{"references":["local.create","var.create_sg","var.use_name_prefix"]}},{"address":"aws_security_group_rule.computed_egress_rules","mode":"managed","type":"aws_security_group_rule","name":"computed_egress_rules","provider_config_key":"module.securitygroups.module.public_elb_security_group:aws","expressions":{"cidr_blocks":{"references":["var.egress_cidr_blocks"]},"description":{"references":["var.rules","var.computed_egress_rules","count.index"]},"from_port":{"references":["var.rules","var.computed_egress_rules","count.index"]},"ipv6_cidr_blocks":{"references":["var.egress_ipv6_cidr_blocks"]},"prefix_list_ids":{"references":["var.egress_prefix_list_ids"]},"protocol":{"references":["var.rules","var.computed_egress_rules","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"to_port":{"references":["var.rules","var.computed_egress_rules","count.index"]},"type":{"constant_value":"egress"}},"schema_version":2,"count_expression":{"references":["local.create","var.number_of_computed_egress_rules"]}},{"address":"aws_security_group_rule.computed_egress_with_cidr_blocks","mode":"managed","type":"aws_security_group_rule","name":"computed_egress_with_cidr_blocks","provider_config_key":"module.securitygroups.module.public_elb_security_group:aws","expressions":{"cidr_blocks":{"references":["var.computed_egress_with_cidr_blocks","count.index","var.egress_cidr_blocks"]},"description":{"references":["var.computed_egress_with_cidr_blocks","count.index"]},"from_port":{"references":["var.computed_egress_with_cidr_blocks","count.index","var.rules","var.computed_egress_with_cidr_blocks","count.index"]},"prefix_list_ids":{"references":["var.egress_prefix_list_ids"]},"protocol":{"references":["var.computed_egress_with_cidr_blocks","count.index","var.rules","var.computed_egress_with_cidr_blocks","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"to_port":{"references":["var.computed_egress_with_cidr_blocks","count.index","var.rules","var.computed_egress_with_cidr_blocks","count.index"]},"type":{"constant_value":"egress"}},"schema_version":2,"count_expression":{"references":["local.create","var.number_of_computed_egress_with_cidr_blocks"]}},{"address":"aws_security_group_rule.computed_egress_with_ipv6_cidr_blocks","mode":"managed","type":"aws_security_group_rule","name":"computed_egress_with_ipv6_cidr_blocks","provider_config_key":"module.securitygroups.module.public_elb_security_group:aws","expressions":{"description":{"references":["var.computed_egress_with_ipv6_cidr_blocks","count.index"]},"from_port":{"references":["var.computed_egress_with_ipv6_cidr_blocks","count.index","var.rules","var.computed_egress_with_ipv6_cidr_blocks","count.index"]},"ipv6_cidr_blocks":{"references":["var.computed_egress_with_ipv6_cidr_blocks","count.index","var.egress_ipv6_cidr_blocks"]},"prefix_list_ids":{"references":["var.egress_prefix_list_ids"]},"protocol":{"references":["var.computed_egress_with_ipv6_cidr_blocks","count.index","var.rules","var.computed_egress_with_ipv6_cidr_blocks","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"to_port":{"references":["var.computed_egress_with_ipv6_cidr_blocks","count.index","var.rules","var.computed_egress_with_ipv6_cidr_blocks","count.index"]},"type":{"constant_value":"egress"}},"schema_version":2,"count_expression":{"references":["local.create","var.number_of_computed_egress_with_ipv6_cidr_blocks"]}},{"address":"aws_security_group_rule.computed_egress_with_self","mode":"managed","type":"aws_security_group_rule","name":"computed_egress_with_self","provider_config_key":"module.securitygroups.module.public_elb_security_group:aws","expressions":{"description":{"references":["var.computed_egress_with_self","count.index"]},"from_port":{"references":["var.computed_egress_with_self","count.index","var.rules","var.computed_egress_with_self","count.index"]},"prefix_list_ids":{"references":["var.egress_prefix_list_ids"]},"protocol":{"references":["var.computed_egress_with_self","count.index","var.rules","var.computed_egress_with_self","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"self":{"references":["var.computed_egress_with_self","count.index"]},"to_port":{"references":["var.computed_egress_with_self","count.index","var.rules","var.computed_egress_with_self","count.index"]},"type":{"constant_value":"egress"}},"schema_version":2,"count_expression":{"references":["local.create","var.number_of_computed_egress_with_self"]}},{"address":"aws_security_group_rule.computed_egress_with_source_security_group_id","mode":"managed","type":"aws_security_group_rule","name":"computed_egress_with_source_security_group_id","provider_config_key":"module.securitygroups.module.public_elb_security_group:aws","expressions":{"description":{"references":["var.computed_egress_with_source_security_group_id","count.index"]},"from_port":{"references":["var.computed_egress_with_source_security_group_id","count.index","var.rules","var.computed_egress_with_source_security_group_id","count.index"]},"prefix_list_ids":{"references":["var.egress_prefix_list_ids"]},"protocol":{"references":["var.computed_egress_with_source_security_group_id","count.index","var.rules","var.computed_egress_with_source_security_group_id","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"source_security_group_id":{"references":["var.computed_egress_with_source_security_group_id","count.index"]},"to_port":{"references":["var.computed_egress_with_source_security_group_id","count.index","var.rules","var.computed_egress_with_source_security_group_id","count.index"]},"type":{"constant_value":"egress"}},"schema_version":2,"count_expression":{"references":["local.create","var.number_of_computed_egress_with_source_security_group_id"]}},{"address":"aws_security_group_rule.computed_ingress_rules","mode":"managed","type":"aws_security_group_rule","name":"computed_ingress_rules","provider_config_key":"module.securitygroups.module.public_elb_security_group:aws","expressions":{"cidr_blocks":{"references":["var.ingress_cidr_blocks"]},"description":{"references":["var.rules","var.computed_ingress_rules","count.index"]},"from_port":{"references":["var.rules","var.computed_ingress_rules","count.index"]},"ipv6_cidr_blocks":{"references":["var.ingress_ipv6_cidr_blocks"]},"prefix_list_ids":{"references":["var.ingress_prefix_list_ids"]},"protocol":{"references":["var.rules","var.computed_ingress_rules","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"to_port":{"references":["var.rules","var.computed_ingress_rules","count.index"]},"type":{"constant_value":"ingress"}},"schema_version":2,"count_expression":{"references":["local.create","var.number_of_computed_ingress_rules"]}},{"address":"aws_security_group_rule.computed_ingress_with_cidr_blocks","mode":"managed","type":"aws_security_group_rule","name":"computed_ingress_with_cidr_blocks","provider_config_key":"module.securitygroups.module.public_elb_security_group:aws","expressions":{"cidr_blocks":{"references":["var.computed_ingress_with_cidr_blocks","count.index","var.ingress_cidr_blocks"]},"description":{"references":["var.computed_ingress_with_cidr_blocks","count.index"]},"from_port":{"references":["var.computed_ingress_with_cidr_blocks","count.index","var.rules","var.computed_ingress_with_cidr_blocks","count.index"]},"prefix_list_ids":{"references":["var.ingress_prefix_list_ids"]},"protocol":{"references":["var.computed_ingress_with_cidr_blocks","count.index","var.rules","var.computed_ingress_with_cidr_blocks","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"to_port":{"references":["var.computed_ingress_with_cidr_blocks","count.index","var.rules","var.computed_ingress_with_cidr_blocks","count.index"]},"type":{"constant_value":"ingress"}},"schema_version":2,"count_expression":{"references":["local.create","var.number_of_computed_ingress_with_cidr_blocks"]}},{"address":"aws_security_group_rule.computed_ingress_with_ipv6_cidr_blocks","mode":"managed","type":"aws_security_group_rule","name":"computed_ingress_with_ipv6_cidr_blocks","provider_config_key":"module.securitygroups.module.public_elb_security_group:aws","expressions":{"description":{"references":["var.computed_ingress_with_ipv6_cidr_blocks","count.index"]},"from_port":{"references":["var.computed_ingress_with_ipv6_cidr_blocks","count.index","var.rules","var.computed_ingress_with_ipv6_cidr_blocks","count.index"]},"ipv6_cidr_blocks":{"references":["var.computed_ingress_with_ipv6_cidr_blocks","count.index","var.ingress_ipv6_cidr_blocks"]},"prefix_list_ids":{"references":["var.ingress_prefix_list_ids"]},"protocol":{"references":["var.computed_ingress_with_ipv6_cidr_blocks","count.index","var.rules","var.computed_ingress_with_ipv6_cidr_blocks","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"to_port":{"references":["var.computed_ingress_with_ipv6_cidr_blocks","count.index","var.rules","var.computed_ingress_with_ipv6_cidr_blocks","count.index"]},"type":{"constant_value":"ingress"}},"schema_version":2,"count_expression":{"references":["local.create","var.number_of_computed_ingress_with_ipv6_cidr_blocks"]}},{"address":"aws_security_group_rule.computed_ingress_with_self","mode":"managed","type":"aws_security_group_rule","name":"computed_ingress_with_self","provider_config_key":"module.securitygroups.module.public_elb_security_group:aws","expressions":{"description":{"references":["var.computed_ingress_with_self","count.index"]},"from_port":{"references":["var.computed_ingress_with_self","count.index","var.rules","var.computed_ingress_with_self","count.index"]},"prefix_list_ids":{"references":["var.ingress_prefix_list_ids"]},"protocol":{"references":["var.computed_ingress_with_self","count.index","var.rules","var.computed_ingress_with_self","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"self":{"references":["var.computed_ingress_with_self","count.index"]},"to_port":{"references":["var.computed_ingress_with_self","count.index","var.rules","var.computed_ingress_with_self","count.index"]},"type":{"constant_value":"ingress"}},"schema_version":2,"count_expression":{"references":["local.create","var.number_of_computed_ingress_with_self"]}},{"address":"aws_security_group_rule.computed_ingress_with_source_security_group_id","mode":"managed","type":"aws_security_group_rule","name":"computed_ingress_with_source_security_group_id","provider_config_key":"module.securitygroups.module.public_elb_security_group:aws","expressions":{"description":{"references":["var.computed_ingress_with_source_security_group_id","count.index"]},"from_port":{"references":["var.computed_ingress_with_source_security_group_id","count.index","var.rules","var.computed_ingress_with_source_security_group_id","count.index"]},"prefix_list_ids":{"references":["var.ingress_prefix_list_ids"]},"protocol":{"references":["var.computed_ingress_with_source_security_group_id","count.index","var.rules","var.computed_ingress_with_source_security_group_id","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"source_security_group_id":{"references":["var.computed_ingress_with_source_security_group_id","count.index"]},"to_port":{"references":["var.computed_ingress_with_source_security_group_id","count.index","var.rules","var.computed_ingress_with_source_security_group_id","count.index"]},"type":{"constant_value":"ingress"}},"schema_version":2,"count_expression":{"references":["local.create","var.number_of_computed_ingress_with_source_security_group_id"]}},{"address":"aws_security_group_rule.egress_rules","mode":"managed","type":"aws_security_group_rule","name":"egress_rules","provider_config_key":"module.securitygroups.module.public_elb_security_group:aws","expressions":{"cidr_blocks":{"references":["var.egress_cidr_blocks"]},"description":{"references":["var.rules","var.egress_rules","count.index"]},"from_port":{"references":["var.rules","var.egress_rules","count.index"]},"ipv6_cidr_blocks":{"references":["var.egress_ipv6_cidr_blocks"]},"prefix_list_ids":{"references":["var.egress_prefix_list_ids"]},"protocol":{"references":["var.rules","var.egress_rules","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"to_port":{"references":["var.rules","var.egress_rules","count.index"]},"type":{"constant_value":"egress"}},"schema_version":2,"count_expression":{"references":["local.create","var.egress_rules"]}},{"address":"aws_security_group_rule.egress_with_cidr_blocks","mode":"managed","type":"aws_security_group_rule","name":"egress_with_cidr_blocks","provider_config_key":"module.securitygroups.module.public_elb_security_group:aws","expressions":{"cidr_blocks":{"references":["var.egress_with_cidr_blocks","count.index","var.egress_cidr_blocks"]},"description":{"references":["var.egress_with_cidr_blocks","count.index"]},"from_port":{"references":["var.egress_with_cidr_blocks","count.index","var.rules","var.egress_with_cidr_blocks","count.index"]},"prefix_list_ids":{"references":["var.egress_prefix_list_ids"]},"protocol":{"references":["var.egress_with_cidr_blocks","count.index","var.rules","var.egress_with_cidr_blocks","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"to_port":{"references":["var.egress_with_cidr_blocks","count.index","var.rules","var.egress_with_cidr_blocks","count.index"]},"type":{"constant_value":"egress"}},"schema_version":2,"count_expression":{"references":["local.create","var.egress_with_cidr_blocks"]}},{"address":"aws_security_group_rule.egress_with_ipv6_cidr_blocks","mode":"managed","type":"aws_security_group_rule","name":"egress_with_ipv6_cidr_blocks","provider_config_key":"module.securitygroups.module.public_elb_security_group:aws","expressions":{"description":{"references":["var.egress_with_ipv6_cidr_blocks","count.index"]},"from_port":{"references":["var.egress_with_ipv6_cidr_blocks","count.index","var.rules","var.egress_with_ipv6_cidr_blocks","count.index"]},"ipv6_cidr_blocks":{"references":["var.egress_with_ipv6_cidr_blocks","count.index","var.egress_ipv6_cidr_blocks"]},"prefix_list_ids":{"references":["var.egress_prefix_list_ids"]},"protocol":{"references":["var.egress_with_ipv6_cidr_blocks","count.index","var.rules","var.egress_with_ipv6_cidr_blocks","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"to_port":{"references":["var.egress_with_ipv6_cidr_blocks","count.index","var.rules","var.egress_with_ipv6_cidr_blocks","count.index"]},"type":{"constant_value":"egress"}},"schema_version":2,"count_expression":{"references":["local.create","var.egress_with_ipv6_cidr_blocks"]}},{"address":"aws_security_group_rule.egress_with_self","mode":"managed","type":"aws_security_group_rule","name":"egress_with_self","provider_config_key":"module.securitygroups.module.public_elb_security_group:aws","expressions":{"description":{"references":["var.egress_with_self","count.index"]},"from_port":{"references":["var.egress_with_self","count.index","var.rules","var.egress_with_self","count.index"]},"prefix_list_ids":{"references":["var.egress_prefix_list_ids"]},"protocol":{"references":["var.egress_with_self","count.index","var.rules","var.egress_with_self","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"self":{"references":["var.egress_with_self","count.index"]},"to_port":{"references":["var.egress_with_self","count.index","var.rules","var.egress_with_self","count.index"]},"type":{"constant_value":"egress"}},"schema_version":2,"count_expression":{"references":["local.create","var.egress_with_self"]}},{"address":"aws_security_group_rule.egress_with_source_security_group_id","mode":"managed","type":"aws_security_group_rule","name":"egress_with_source_security_group_id","provider_config_key":"module.securitygroups.module.public_elb_security_group:aws","expressions":{"description":{"references":["var.egress_with_source_security_group_id","count.index"]},"from_port":{"references":["var.egress_with_source_security_group_id","count.index","var.rules","var.egress_with_source_security_group_id","count.index"]},"prefix_list_ids":{"references":["var.egress_prefix_list_ids"]},"protocol":{"references":["var.egress_with_source_security_group_id","count.index","var.rules","var.egress_with_source_security_group_id","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"source_security_group_id":{"references":["var.egress_with_source_security_group_id","count.index"]},"to_port":{"references":["var.egress_with_source_security_group_id","count.index","var.rules","var.egress_with_source_security_group_id","count.index"]},"type":{"constant_value":"egress"}},"schema_version":2,"count_expression":{"references":["local.create","var.egress_with_source_security_group_id"]}},{"address":"aws_security_group_rule.ingress_rules","mode":"managed","type":"aws_security_group_rule","name":"ingress_rules","provider_config_key":"module.securitygroups.module.public_elb_security_group:aws","expressions":{"cidr_blocks":{"references":["var.ingress_cidr_blocks"]},"description":{"references":["var.rules","var.ingress_rules","count.index"]},"from_port":{"references":["var.rules","var.ingress_rules","count.index"]},"ipv6_cidr_blocks":{"references":["var.ingress_ipv6_cidr_blocks"]},"prefix_list_ids":{"references":["var.ingress_prefix_list_ids"]},"protocol":{"references":["var.rules","var.ingress_rules","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"to_port":{"references":["var.rules","var.ingress_rules","count.index"]},"type":{"constant_value":"ingress"}},"schema_version":2,"count_expression":{"references":["local.create","var.ingress_rules"]}},{"address":"aws_security_group_rule.ingress_with_cidr_blocks","mode":"managed","type":"aws_security_group_rule","name":"ingress_with_cidr_blocks","provider_config_key":"module.securitygroups.module.public_elb_security_group:aws","expressions":{"cidr_blocks":{"references":["var.ingress_with_cidr_blocks","count.index","var.ingress_cidr_blocks"]},"description":{"references":["var.ingress_with_cidr_blocks","count.index"]},"from_port":{"references":["var.ingress_with_cidr_blocks","count.index","var.rules","var.ingress_with_cidr_blocks","count.index"]},"prefix_list_ids":{"references":["var.ingress_prefix_list_ids"]},"protocol":{"references":["var.ingress_with_cidr_blocks","count.index","var.rules","var.ingress_with_cidr_blocks","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"to_port":{"references":["var.ingress_with_cidr_blocks","count.index","var.rules","var.ingress_with_cidr_blocks","count.index"]},"type":{"constant_value":"ingress"}},"schema_version":2,"count_expression":{"references":["local.create","var.ingress_with_cidr_blocks"]}},{"address":"aws_security_group_rule.ingress_with_ipv6_cidr_blocks","mode":"managed","type":"aws_security_group_rule","name":"ingress_with_ipv6_cidr_blocks","provider_config_key":"module.securitygroups.module.public_elb_security_group:aws","expressions":{"description":{"references":["var.ingress_with_ipv6_cidr_blocks","count.index"]},"from_port":{"references":["var.ingress_with_ipv6_cidr_blocks","count.index","var.rules","var.ingress_with_ipv6_cidr_blocks","count.index"]},"ipv6_cidr_blocks":{"references":["var.ingress_with_ipv6_cidr_blocks","count.index","var.ingress_ipv6_cidr_blocks"]},"prefix_list_ids":{"references":["var.ingress_prefix_list_ids"]},"protocol":{"references":["var.ingress_with_ipv6_cidr_blocks","count.index","var.rules","var.ingress_with_ipv6_cidr_blocks","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"to_port":{"references":["var.ingress_with_ipv6_cidr_blocks","count.index","var.rules","var.ingress_with_ipv6_cidr_blocks","count.index"]},"type":{"constant_value":"ingress"}},"schema_version":2,"count_expression":{"references":["local.create","var.ingress_with_ipv6_cidr_blocks"]}},{"address":"aws_security_group_rule.ingress_with_self","mode":"managed","type":"aws_security_group_rule","name":"ingress_with_self","provider_config_key":"module.securitygroups.module.public_elb_security_group:aws","expressions":{"description":{"references":["var.ingress_with_self","count.index"]},"from_port":{"references":["var.ingress_with_self","count.index","var.rules","var.ingress_with_self","count.index"]},"prefix_list_ids":{"references":["var.ingress_prefix_list_ids"]},"protocol":{"references":["var.ingress_with_self","count.index","var.rules","var.ingress_with_self","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"self":{"references":["var.ingress_with_self","count.index"]},"to_port":{"references":["var.ingress_with_self","count.index","var.rules","var.ingress_with_self","count.index"]},"type":{"constant_value":"ingress"}},"schema_version":2,"count_expression":{"references":["local.create","var.ingress_with_self"]}},{"address":"aws_security_group_rule.ingress_with_source_security_group_id","mode":"managed","type":"aws_security_group_rule","name":"ingress_with_source_security_group_id","provider_config_key":"module.securitygroups.module.public_elb_security_group:aws","expressions":{"description":{"references":["var.ingress_with_source_security_group_id","count.index"]},"from_port":{"references":["var.ingress_with_source_security_group_id","count.index","var.rules","var.ingress_with_source_security_group_id","count.index"]},"prefix_list_ids":{"references":["var.ingress_prefix_list_ids"]},"protocol":{"references":["var.ingress_with_source_security_group_id","count.index","var.rules","var.ingress_with_source_security_group_id","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"source_security_group_id":{"references":["var.ingress_with_source_security_group_id","count.index"]},"to_port":{"references":["var.ingress_with_source_security_group_id","count.index","var.rules","var.ingress_with_source_security_group_id","count.index"]},"type":{"constant_value":"ingress"}},"schema_version":2,"count_expression":{"references":["local.create","var.ingress_with_source_security_group_id"]}}],"variables":{"auto_groups":{"default":{"activemq":{"egress_rules":["all-all"],"ingress_rules":["activemq-5671-tcp","activemq-8883-tcp","activemq-61614-tcp","activemq-61617-tcp","activemq-61619-tcp"],"ingress_with_self":["all-all"]},"alertmanager":{"egress_rules":["all-all"],"ingress_rules":["alertmanager-9093-tcp","alertmanager-9094-tcp"],"ingress_with_self":["all-all"]},"carbon-relay-ng":{"egress_rules":["all-all"],"ingress_rules":["carbon-line-in-tcp","carbon-line-in-udp","carbon-pickle-tcp","carbon-pickle-udp","carbon-gui-udp"],"ingress_with_self":["all-all"]},"cassandra":{"egress_rules":["all-all"],"ingress_rules":["cassandra-clients-tcp","cassandra-thrift-clients-tcp","cassandra-jmx-tcp"],"ingress_with_self":["all-all"]},"consul":{"egress_rules":["all-all"],"ingress_rules":["consul-tcp","consul-grpc-tcp","consul-webui-http-tcp","consul-webui-https-tcp","consul-dns-tcp","consul-dns-udp","consul-serf-lan-tcp","consul-serf-lan-udp","consul-serf-wan-tcp","consul-serf-wan-udp"],"ingress_with_self":["all-all"]},"docker-swarm":{"egress_rules":["all-all"],"ingress_rules":["docker-swarm-mngmt-tcp","docker-swarm-node-tcp","docker-swarm-node-udp","docker-swarm-overlay-udp"],"ingress_with_self":["all-all"]},"elasticsearch":{"egress_rules":["all-all"],"ingress_rules":["elasticsearch-rest-tcp","elasticsearch-java-tcp"],"ingress_with_self":["all-all"]},"etcd":{"egress_rules":["all-all"],"ingress_rules":["etcd-client-tcp","etcd-peer-tcp"],"ingress_with_self":["all-all"]},"grafana":{"egress_rules":["all-all"],"ingress_rules":["grafana-tcp"],"ingress_with_self":["all-all"]},"graphite-statsd":{"egress_rules":["all-all"],"ingress_rules":["graphite-webui","graphite-2003-tcp","graphite-2004-tcp","graphite-2023-tcp","graphite-2024-tcp","graphite-8080-tcp","graphite-8125-tcp","graphite-8125-udp","graphite-8126-tcp"],"ingress_with_self":["all-all"]},"http-80":{"egress_rules":["all-all"],"ingress_rules":["http-80-tcp"],"ingress_with_self":["all-all"]},"http-8080":{"egress_rules":["all-all"],"ingress_rules":["http-8080-tcp"],"ingress_with_self":["all-all"]},"https-443":{"egress_rules":["all-all"],"ingress_rules":["https-443-tcp"],"ingress_with_self":["all-all"]},"https-8443":{"egress_rules":["all-all"],"ingress_rules":["https-8443-tcp"],"ingress_with_self":["all-all"]},"ipsec-4500":{"egress_rules":["all-all"],"ingress_rules":["ipsec-4500-udp"],"ingress_with_self":["all-all"]},"ipsec-500":{"egress_rules":["all-all"],"ingress_rules":["ipsec-500-udp"],"ingress_with_self":["all-all"]},"kafka":{"egress_rules":["all-all"],"ingress_rules":["kafka-broker-tcp","kafka-broker-tls-tcp","kafka-jmx-exporter-tcp","kafka-node-exporter-tcp"],"ingress_with_self":["all-all"]},"kibana":{"egress_rules":["all-all"],"ingress_rules":["kibana-tcp"],"ingress_with_self":["all-all"]},"kubernetes-api":{"egress_rules":["all-all"],"ingress_rules":["kubernetes-api-tcp"],"ingress_with_self":["all-all"]},"ldap":{"egress_rules":["all-all"],"ingress_rules":["ldap-tcp"],"ingress_with_self":["all-all"]},"ldaps":{"egress_rules":["all-all"],"ingress_rules":["ldaps-tcp"],"ingress_with_self":["all-all"]},"logstash":{"egress_rules":["all-all"],"ingress_rules":["logstash-tcp"],"ingress_with_self":["all-all"]},"memcached":{"egress_rules":["all-all"],"ingress_rules":["memcached-tcp"],"ingress_with_self":["all-all"]},"minio":{"egress_rules":["all-all"],"ingress_rules":["minio-tcp"],"ingress_with_self":["all-all"]},"mongodb":{"egress_rules":["all-all"],"ingress_rules":["mongodb-27017-tcp","mongodb-27018-tcp","mongodb-27019-tcp"],"ingress_with_self":["all-all"]},"mssql":{"egress_rules":["all-all"],"ingress_rules":["mssql-tcp","mssql-udp","mssql-analytics-tcp","mssql-broker-tcp"],"ingress_with_self":["all-all"]},"mysql":{"egress_rules":["all-all"],"ingress_rules":["mysql-tcp"],"ingress_with_self":["all-all"]},"nfs":{"egress_rules":["all-all"],"ingress_rules":["nfs-tcp"],"ingress_with_self":["all-all"]},"nomad":{"egress_rules":["all-all"],"ingress_rules":["nomad-http-tcp","nomad-rpc-tcp","nomad-serf-tcp","nomad-serf-udp"],"ingress_with_self":["all-all"]},"ntp":{"egress_rules":["all-all"],"ingress_rules":["ntp-udp"],"ingress_with_self":["all-all"]},"openvpn":{"egress_rules":["all-all"],"ingress_rules":["openvpn-udp","openvpn-tcp","openvpn-https-tcp"],"ingress_with_self":["all-all"]},"oracle-db":{"egress_rules":["all-all"],"ingress_rules":["oracle-db-tcp"],"ingress_with_self":["all-all"]},"postgresql":{"egress_rules":["all-all"],"ingress_rules":["postgresql-tcp"],"ingress_with_self":["all-all"]},"prometheus":{"egress_rules":["all-all"],"ingress_rules":["prometheus-http-tcp","prometheus-pushgateway-http-tcp"],"ingress_with_self":["all-all"]},"puppet":{"egress_rules":["all-all"],"ingress_rules":["puppet-tcp","puppetdb-tcp"],"ingress_with_self":["all-all"]},"rabbitmq":{"egress_rules":["all-all"],"ingress_rules":["rabbitmq-4369-tcp","rabbitmq-5671-tcp","rabbitmq-5672-tcp","rabbitmq-15672-tcp","rabbitmq-25672-tcp"],"ingress_with_self":["all-all"]},"rdp":{"egress_rules":["all-all"],"ingress_rules":["rdp-tcp","rdp-udp"],"ingress_with_self":["all-all"]},"redis":{"egress_rules":["all-all"],"ingress_rules":["redis-tcp"],"ingress_with_self":["all-all"]},"redshift":{"egress_rules":["all-all"],"ingress_rules":["redshift-tcp"],"ingress_with_self":["all-all"]},"smtp":{"egress_rules":["all-all"],"ingress_rules":["smtp-tcp"],"ingress_with_self":["all-all"]},"smtp-submission":{"egress_rules":["all-all"],"ingress_rules":["smtp-submission-587-tcp","smtp-submission-2587-tcp"],"ingress_with_self":["all-all"]},"smtps":{"egress_rules":["all-all"],"ingress_rules":["smtps-465-tcp","smtps-2465-tcp"],"ingress_with_self":["all-all"]},"solr":{"egress_rules":["all-all"],"ingress_rules":["solr-tcp"],"ingress_with_self":["all-all"]},"splunk":{"egress_rules":["all-all"],"ingress_rules":["splunk-indexer-tcp","splunk-clients-tcp","splunk-splunkd-tcp","splunk-hec-tcp"],"ingress_with_self":["all-all"]},"squid":{"egress_rules":["all-all"],"ingress_rules":["squid-proxy-tcp"],"ingress_with_self":["all-all"]},"ssh":{"egress_rules":["all-all"],"ingress_rules":["ssh-tcp"],"ingress_with_self":["all-all"]},"storm":{"egress_rules":["all-all"],"ingress_rules":["storm-nimbus-tcp","storm-ui-tcp","storm-supervisor-tcp"],"ingress_with_self":["all-all"]},"web":{"egress_rules":["all-all"],"ingress_rules":["http-80-tcp","http-8080-tcp","https-443-tcp","web-jmx-tcp"],"ingress_with_self":["all-all"]},"winrm":{"egress_rules":["all-all"],"ingress_rules":["winrm-http-tcp","winrm-https-tcp"],"ingress_with_self":["all-all"]},"zipkin":{"egress_rules":["all-all"],"ingress_rules":["zipkin-admin-tcp","zipkin-admin-query-tcp","zipkin-admin-web-tcp","zipkin-query-tcp","zipkin-web-tcp"],"ingress_with_self":["all-all"]},"zookeeper":{"egress_rules":["all-all"],"ingress_rules":["zookeeper-2181-tcp","zookeeper-2888-tcp","zookeeper-3888-tcp","zookeeper-jmx-tcp"],"ingress_with_self":["all-all"]}},"description":"Map of groups of security group rules to use to generate modules (see update_groups.sh)"},"computed_egress_rules":{"default":[],"description":"List of computed egress rules to create by name"},"computed_egress_with_cidr_blocks":{"default":[],"description":"List of computed egress rules to create where 'cidr_blocks' is used"},"computed_egress_with_ipv6_cidr_blocks":{"default":[],"description":"List of computed egress rules to create where 'ipv6_cidr_blocks' is used"},"computed_egress_with_self":{"default":[],"description":"List of computed egress rules to create where 'self' is defined"},"computed_egress_with_source_security_group_id":{"default":[],"description":"List of computed egress rules to create where 'source_security_group_id' is used"},"computed_ingress_rules":{"default":[],"description":"List of computed ingress rules to create by name"},"computed_ingress_with_cidr_blocks":{"default":[],"description":"List of computed ingress rules to create where 'cidr_blocks' is used"},"computed_ingress_with_ipv6_cidr_blocks":{"default":[],"description":"List of computed ingress rules to create where 'ipv6_cidr_blocks' is used"},"computed_ingress_with_self":{"default":[],"description":"List of computed ingress rules to create where 'self' is defined"},"computed_ingress_with_source_security_group_id":{"default":[],"description":"List of computed ingress rules to create where 'source_security_group_id' is used"},"create":{"default":true,"description":"Whether to create security group and all rules"},"create_sg":{"default":true,"description":"Whether to create security group"},"create_timeout":{"default":"10m","description":"Time to wait for a security group to be created"},"delete_timeout":{"default":"15m","description":"Time to wait for a security group to be deleted"},"description":{"default":"Security Group managed by Terraform","description":"Description of security group"},"egress_cidr_blocks":{"default":["0.0.0.0/0"],"description":"List of IPv4 CIDR ranges to use on all egress rules"},"egress_ipv6_cidr_blocks":{"default":["::/0"],"description":"List of IPv6 CIDR ranges to use on all egress rules"},"egress_prefix_list_ids":{"default":[],"description":"List of prefix list IDs (for allowing access to VPC endpoints) to use on all egress rules"},"egress_rules":{"default":[],"description":"List of egress rules to create by name"},"egress_with_cidr_blocks":{"default":[],"description":"List of egress rules to create where 'cidr_blocks' is used"},"egress_with_ipv6_cidr_blocks":{"default":[],"description":"List of egress rules to create where 'ipv6_cidr_blocks' is used"},"egress_with_self":{"default":[],"description":"List of egress rules to create where 'self' is defined"},"egress_with_source_security_group_id":{"default":[],"description":"List of egress rules to create where 'source_security_group_id' is used"},"ingress_cidr_blocks":{"default":[],"description":"List of IPv4 CIDR ranges to use on all ingress rules"},"ingress_ipv6_cidr_blocks":{"default":[],"description":"List of IPv6 CIDR ranges to use on all ingress rules"},"ingress_prefix_list_ids":{"default":[],"description":"List of prefix list IDs (for allowing access to VPC endpoints) to use on all ingress rules"},"ingress_rules":{"default":[],"description":"List of ingress rules to create by name"},"ingress_with_cidr_blocks":{"default":[],"description":"List of ingress rules to create where 'cidr_blocks' is used"},"ingress_with_ipv6_cidr_blocks":{"default":[],"description":"List of ingress rules to create where 'ipv6_cidr_blocks' is used"},"ingress_with_self":{"default":[],"description":"List of ingress rules to create where 'self' is defined"},"ingress_with_source_security_group_id":{"default":[],"description":"List of ingress rules to create where 'source_security_group_id' is used"},"name":{"default":null,"description":"Name of security group - not required if create_sg is false"},"number_of_computed_egress_rules":{"default":0,"description":"Number of computed egress rules to create by name"},"number_of_computed_egress_with_cidr_blocks":{"default":0,"description":"Number of computed egress rules to create where 'cidr_blocks' is used"},"number_of_computed_egress_with_ipv6_cidr_blocks":{"default":0,"description":"Number of computed egress rules to create where 'ipv6_cidr_blocks' is used"},"number_of_computed_egress_with_self":{"default":0,"description":"Number of computed egress rules to create where 'self' is defined"},"number_of_computed_egress_with_source_security_group_id":{"default":0,"description":"Number of computed egress rules to create where 'source_security_group_id' is used"},"number_of_computed_ingress_rules":{"default":0,"description":"Number of computed ingress rules to create by name"},"number_of_computed_ingress_with_cidr_blocks":{"default":0,"description":"Number of computed ingress rules to create where 'cidr_blocks' is used"},"number_of_computed_ingress_with_ipv6_cidr_blocks":{"default":0,"description":"Number of computed ingress rules to create where 'ipv6_cidr_blocks' is used"},"number_of_computed_ingress_with_self":{"default":0,"description":"Number of computed ingress rules to create where 'self' is defined"},"number_of_computed_ingress_with_source_security_group_id":{"default":0,"description":"Number of computed ingress rules to create where 'source_security_group_id' is used"},"putin_khuylo":{"default":true,"description":"Do you agree that Putin doesn't respect Ukrainian sovereignty and territorial integrity? More info: https://en.wikipedia.org/wiki/Putin_khuylo!"},"revoke_rules_on_delete":{"default":false,"description":"Instruct Terraform to revoke all of the Security Groups attached ingress and egress rules before deleting the rule itself. Enable for EMR."},"rules":{"default":{"_":["","",""],"activemq-5671-tcp":["5671","5671","tcp","ActiveMQ AMQP"],"activemq-61614-tcp":["61614","61614","tcp","ActiveMQ STOMP"],"activemq-61617-tcp":["61617","61617","tcp","ActiveMQ OpenWire"],"activemq-61619-tcp":["61619","61619","tcp","ActiveMQ WebSocket"],"activemq-8883-tcp":["8883","8883","tcp","ActiveMQ MQTT"],"alertmanager-9093-tcp":["9093","9093","tcp","Alert Manager"],"alertmanager-9094-tcp":["9094","9094","tcp","Alert Manager Cluster"],"all-all":["-1","-1","-1","All protocols"],"all-icmp":["-1","-1","icmp","All IPV4 ICMP"],"all-ipv6-icmp":["-1","-1","58","All IPV6 ICMP"],"all-tcp":["0","65535","tcp","All TCP ports"],"all-udp":["0","65535","udp","All UDP ports"],"carbon-admin-tcp":["2004","2004","tcp","Carbon admin"],"carbon-gui-udp":["8081","8081","tcp","Carbon GUI"],"carbon-line-in-tcp":["2003","2003","tcp","Carbon line-in"],"carbon-line-in-udp":["2003","2003","udp","Carbon line-in"],"carbon-pickle-tcp":["2013","2013","tcp","Carbon pickle"],"carbon-pickle-udp":["2013","2013","udp","Carbon pickle"],"cassandra-clients-tcp":["9042","9042","tcp","Cassandra clients"],"cassandra-jmx-tcp":["7199","7199","tcp","JMX"],"cassandra-thrift-clients-tcp":["9160","9160","tcp","Cassandra Thrift clients"],"consul-dns-tcp":["8600","8600","tcp","Consul DNS"],"consul-dns-udp":["8600","8600","udp","Consul DNS"],"consul-grpc-tcp":["8502","8502","tcp","Consul gRPC"],"consul-serf-lan-tcp":["8301","8301","tcp","Serf LAN"],"consul-serf-lan-udp":["8301","8301","udp","Serf LAN"],"consul-serf-wan-tcp":["8302","8302","tcp","Serf WAN"],"consul-serf-wan-udp":["8302","8302","udp","Serf WAN"],"consul-tcp":["8300","8300","tcp","Consul server"],"consul-webui-http-tcp":["8500","8500","tcp","Consul web UI HTTP"],"consul-webui-https-tcp":["8501","8501","tcp","Consul web UI HTTPS"],"dns-tcp":["53","53","tcp","DNS"],"dns-udp":["53","53","udp","DNS"],"docker-swarm-mngmt-tcp":["2377","2377","tcp","Docker Swarm cluster management"],"docker-swarm-node-tcp":["7946","7946","tcp","Docker Swarm node"],"docker-swarm-node-udp":["7946","7946","udp","Docker Swarm node"],"docker-swarm-overlay-udp":["4789","4789","udp","Docker Swarm Overlay Network Traffic"],"elasticsearch-java-tcp":["9300","9300","tcp","Elasticsearch Java interface"],"elasticsearch-rest-tcp":["9200","9200","tcp","Elasticsearch REST interface"],"etcd-client-tcp":["2379","2379","tcp","Etcd Client"],"etcd-peer-tcp":["2380","2380","tcp","Etcd Peer"],"grafana-tcp":["3000","3000","tcp","Grafana Dashboard"],"graphite-2003-tcp":["2003","2003","tcp","Carbon receiver plain text"],"graphite-2004-tcp":["2004","2004","tcp","Carbon receiver pickle"],"graphite-2023-tcp":["2023","2023","tcp","Carbon aggregator plaintext"],"graphite-2024-tcp":["2024","2024","tcp","Carbon aggregator pickle"],"graphite-8080-tcp":["8080","8080","tcp","Graphite gunicorn port"],"graphite-8125-tcp":["8125","8125","tcp","Statsd TCP"],"graphite-8125-udp":["8125","8125","udp","Statsd UDP default"],"graphite-8126-tcp":["8126","8126","tcp","Statsd admin"],"graphite-webui":["80","80","tcp","Graphite admin interface"],"http-80-tcp":["80","80","tcp","HTTP"],"http-8080-tcp":["8080","8080","tcp","HTTP"],"https-443-tcp":["443","443","tcp","HTTPS"],"https-8443-tcp":["8443","8443","tcp","HTTPS"],"ipsec-4500-udp":["4500","4500","udp","IPSEC NAT-T"],"ipsec-500-udp":["500","500","udp","IPSEC ISAKMP"],"kafka-broker-tcp":["9092","9092","tcp","Kafka broker 0.8.2+"],"kafka-broker-tls-tcp":["9094","9094","tcp","Kafka TLS enabled broker 0.8.2+"],"kafka-jmx-exporter-tcp":["11001","11001","tcp","Kafka JMX Exporter"],"kafka-node-exporter-tcp":["11002","11002","tcp","Kafka Node Exporter"],"kibana-tcp":["5601","5601","tcp","Kibana Web Interface"],"kubernetes-api-tcp":["6443","6443","tcp","Kubernetes API Server"],"ldap-tcp":["389","389","tcp","LDAP"],"ldaps-tcp":["636","636","tcp","LDAPS"],"logstash-tcp":["5044","5044","tcp","Logstash"],"memcached-tcp":["11211","11211","tcp","Memcached"],"minio-tcp":["9000","9000","tcp","MinIO"],"mongodb-27017-tcp":["27017","27017","tcp","MongoDB"],"mongodb-27018-tcp":["27018","27018","tcp","MongoDB shard"],"mongodb-27019-tcp":["27019","27019","tcp","MongoDB config server"],"mssql-analytics-tcp":["2383","2383","tcp","MSSQL Analytics"],"mssql-broker-tcp":["4022","4022","tcp","MSSQL Broker"],"mssql-tcp":["1433","1433","tcp","MSSQL Server"],"mssql-udp":["1434","1434","udp","MSSQL Browser"],"mysql-tcp":["3306","3306","tcp","MySQL/Aurora"],"nfs-tcp":["2049","2049","tcp","NFS/EFS"],"nomad-http-tcp":["4646","4646","tcp","Nomad HTTP"],"nomad-rpc-tcp":["4647","4647","tcp","Nomad RPC"],"nomad-serf-tcp":["4648","4648","tcp","Serf"],"nomad-serf-udp":["4648","4648","udp","Serf"],"ntp-udp":["123","123","udp","NTP"],"octopus-tentacle-tcp":["10933","10933","tcp","Octopus Tentacle"],"openvpn-https-tcp":["443","443","tcp","OpenVPN"],"openvpn-tcp":["943","943","tcp","OpenVPN"],"openvpn-udp":["1194","1194","udp","OpenVPN"],"oracle-db-tcp":["1521","1521","tcp","Oracle"],"postgresql-tcp":["5432","5432","tcp","PostgreSQL"],"prometheus-http-tcp":["9090","9090","tcp","Prometheus"],"prometheus-pushgateway-http-tcp":["9091","9091","tcp","Prometheus Pushgateway"],"puppet-tcp":["8140","8140","tcp","Puppet"],"puppetdb-tcp":["8081","8081","tcp","PuppetDB"],"rabbitmq-15672-tcp":["15672","15672","tcp","RabbitMQ"],"rabbitmq-25672-tcp":["25672","25672","tcp","RabbitMQ"],"rabbitmq-4369-tcp":["4369","4369","tcp","RabbitMQ epmd"],"rabbitmq-5671-tcp":["5671","5671","tcp","RabbitMQ"],"rabbitmq-5672-tcp":["5672","5672","tcp","RabbitMQ"],"rdp-tcp":["3389","3389","tcp","Remote Desktop"],"rdp-udp":["3389","3389","udp","Remote Desktop"],"redis-tcp":["6379","6379","tcp","Redis"],"redshift-tcp":["5439","5439","tcp","Redshift"],"saltstack-tcp":["4505","4506","tcp","SaltStack"],"smtp-submission-2587-tcp":["2587","2587","tcp","SMTP Submission"],"smtp-submission-587-tcp":["587","587","tcp","SMTP Submission"],"smtp-tcp":["25","25","tcp","SMTP"],"smtps-2456-tcp":["2465","2465","tcp","SMTPS"],"smtps-465-tcp":["465","465","tcp","SMTPS"],"solr-tcp":["8983","8987","tcp","Solr"],"splunk-hec-tcp":["8088","8088","tcp","Splunk HEC"],"splunk-indexer-tcp":["9997","9997","tcp","Splunk indexer"],"splunk-splunkd-tcp":["8089","8089","tcp","Splunkd"],"splunk-web-tcp":["8000","8000","tcp","Splunk Web"],"squid-proxy-tcp":["3128","3128","tcp","Squid default proxy"],"ssh-tcp":["22","22","tcp","SSH"],"storm-nimbus-tcp":["6627","6627","tcp","Nimbus"],"storm-supervisor-tcp":["6700","6703","tcp","Supervisor"],"storm-ui-tcp":["8080","8080","tcp","Storm UI"],"web-jmx-tcp":["1099","1099","tcp","JMX"],"winrm-http-tcp":["5985","5985","tcp","WinRM HTTP"],"winrm-https-tcp":["5986","5986","tcp","WinRM HTTPS"],"zipkin-admin-query-tcp":["9901","9901","tcp","Zipkin Admin port query"],"zipkin-admin-tcp":["9990","9990","tcp","Zipkin Admin port collector"],"zipkin-admin-web-tcp":["9991","9991","tcp","Zipkin Admin port web"],"zipkin-query-tcp":["9411","9411","tcp","Zipkin query port"],"zipkin-web-tcp":["8080","8080","tcp","Zipkin web port"],"zookeeper-2181-tcp":["2181","2181","tcp","Zookeeper"],"zookeeper-2888-tcp":["2888","2888","tcp","Zookeeper"],"zookeeper-3888-tcp":["3888","3888","tcp","Zookeeper"],"zookeeper-jmx-tcp":["7199","7199","tcp","JMX"]},"description":"Map of known security group rules (define as 'name' = ['from port', 'to port', 'protocol', 'description'])"},"security_group_id":{"default":null,"description":"ID of existing security group whose rules we will manage"},"tags":{"default":{},"description":"A mapping of tags to assign to security group"},"use_name_prefix":{"default":true,"description":"Whether to use name_prefix or fixed name. Should be true to able to update security group name after initial creation"},"vpc_id":{"default":null,"description":"ID of the VPC where to create security group"}}}},"single_multiregion_rds_security_group":{"source":"terraform-aws-modules/security-group/aws","expressions":{"computed_ingress_with_source_security_group_id":{"references":["var.secgroup_single_multiregion_rds_from_port","var.secgroup_single_multiregion_rds_to_port","module.app_ecs_security_group.security_group_id","module.app_ecs_security_group","var.secgroup_single_multiregion_rds_from_port","var.secgroup_single_multiregion_rds_to_port","module.jumpbox_ec2_security_group.security_group_id","module.jumpbox_ec2_security_group"]},"description":{"constant_value":"Security Group for mysql on ports"},"egress_cidr_blocks":{"references":["var.secgroup_mysql_allow_egress_cidrs_list"]},"egress_rules":{"constant_value":["all-all"]},"ingress_with_cidr_blocks":{"references":["var.secgroup_single_multiregion_rds_from_port","var.secgroup_single_multiregion_rds_to_port","var.secgroup_single_multiregion_rds_allowed_ingress_cidr"]},"name":{"references":["var.secgroup_single_multiregion_rds_group_name"]},"number_of_computed_ingress_with_source_security_group_id":{"constant_value":2},"tags":{"references":["var.secgroup_single_multiregion_rds_group_name","var.secgroup_product_name","var.secgroup_environment"]},"vpc_id":{"references":["var.secgroup_network_vpc_id"]}},"module":{"outputs":{"security_group_description":{"expression":{"references":["aws_security_group.this[0].description","aws_security_group.this[0]","aws_security_group.this","aws_security_group.this_name_prefix[0].description","aws_security_group.this_name_prefix[0]","aws_security_group.this_name_prefix"]},"description":"The description of the security group"},"security_group_id":{"expression":{"references":["aws_security_group.this[0].id","aws_security_group.this[0]","aws_security_group.this","aws_security_group.this_name_prefix[0].id","aws_security_group.this_name_prefix[0]","aws_security_group.this_name_prefix"]},"description":"The ID of the security group"},"security_group_name":{"expression":{"references":["aws_security_group.this[0].name","aws_security_group.this[0]","aws_security_group.this","aws_security_group.this_name_prefix[0].name","aws_security_group.this_name_prefix[0]","aws_security_group.this_name_prefix"]},"description":"The name of the security group"},"security_group_owner_id":{"expression":{"references":["aws_security_group.this[0].owner_id","aws_security_group.this[0]","aws_security_group.this","aws_security_group.this_name_prefix[0].owner_id","aws_security_group.this_name_prefix[0]","aws_security_group.this_name_prefix"]},"description":"The owner ID"},"security_group_vpc_id":{"expression":{"references":["aws_security_group.this[0].vpc_id","aws_security_group.this[0]","aws_security_group.this","aws_security_group.this_name_prefix[0].vpc_id","aws_security_group.this_name_prefix[0]","aws_security_group.this_name_prefix"]},"description":"The VPC ID"}},"resources":[{"address":"aws_security_group.this","mode":"managed","type":"aws_security_group","name":"this","provider_config_key":"module.securitygroups.module.single_multiregion_rds_security_group:aws","expressions":{"description":{"references":["var.description"]},"name":{"references":["var.name"]},"revoke_rules_on_delete":{"references":["var.revoke_rules_on_delete"]},"tags":{"references":["var.name","var.tags"]},"timeouts":{"create":{"references":["var.create_timeout"]},"delete":{"references":["var.delete_timeout"]}},"vpc_id":{"references":["var.vpc_id"]}},"schema_version":1,"count_expression":{"references":["local.create","var.create_sg","var.use_name_prefix"]}},{"address":"aws_security_group.this_name_prefix","mode":"managed","type":"aws_security_group","name":"this_name_prefix","provider_config_key":"module.securitygroups.module.single_multiregion_rds_security_group:aws","expressions":{"description":{"references":["var.description"]},"name_prefix":{"references":["var.name"]},"revoke_rules_on_delete":{"references":["var.revoke_rules_on_delete"]},"tags":{"references":["var.name","var.tags"]},"timeouts":{"create":{"references":["var.create_timeout"]},"delete":{"references":["var.delete_timeout"]}},"vpc_id":{"references":["var.vpc_id"]}},"schema_version":1,"count_expression":{"references":["local.create","var.create_sg","var.use_name_prefix"]}},{"address":"aws_security_group_rule.computed_egress_rules","mode":"managed","type":"aws_security_group_rule","name":"computed_egress_rules","provider_config_key":"module.securitygroups.module.single_multiregion_rds_security_group:aws","expressions":{"cidr_blocks":{"references":["var.egress_cidr_blocks"]},"description":{"references":["var.rules","var.computed_egress_rules","count.index"]},"from_port":{"references":["var.rules","var.computed_egress_rules","count.index"]},"ipv6_cidr_blocks":{"references":["var.egress_ipv6_cidr_blocks"]},"prefix_list_ids":{"references":["var.egress_prefix_list_ids"]},"protocol":{"references":["var.rules","var.computed_egress_rules","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"to_port":{"references":["var.rules","var.computed_egress_rules","count.index"]},"type":{"constant_value":"egress"}},"schema_version":2,"count_expression":{"references":["local.create","var.number_of_computed_egress_rules"]}},{"address":"aws_security_group_rule.computed_egress_with_cidr_blocks","mode":"managed","type":"aws_security_group_rule","name":"computed_egress_with_cidr_blocks","provider_config_key":"module.securitygroups.module.single_multiregion_rds_security_group:aws","expressions":{"cidr_blocks":{"references":["var.computed_egress_with_cidr_blocks","count.index","var.egress_cidr_blocks"]},"description":{"references":["var.computed_egress_with_cidr_blocks","count.index"]},"from_port":{"references":["var.computed_egress_with_cidr_blocks","count.index","var.rules","var.computed_egress_with_cidr_blocks","count.index"]},"prefix_list_ids":{"references":["var.egress_prefix_list_ids"]},"protocol":{"references":["var.computed_egress_with_cidr_blocks","count.index","var.rules","var.computed_egress_with_cidr_blocks","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"to_port":{"references":["var.computed_egress_with_cidr_blocks","count.index","var.rules","var.computed_egress_with_cidr_blocks","count.index"]},"type":{"constant_value":"egress"}},"schema_version":2,"count_expression":{"references":["local.create","var.number_of_computed_egress_with_cidr_blocks"]}},{"address":"aws_security_group_rule.computed_egress_with_ipv6_cidr_blocks","mode":"managed","type":"aws_security_group_rule","name":"computed_egress_with_ipv6_cidr_blocks","provider_config_key":"module.securitygroups.module.single_multiregion_rds_security_group:aws","expressions":{"description":{"references":["var.computed_egress_with_ipv6_cidr_blocks","count.index"]},"from_port":{"references":["var.computed_egress_with_ipv6_cidr_blocks","count.index","var.rules","var.computed_egress_with_ipv6_cidr_blocks","count.index"]},"ipv6_cidr_blocks":{"references":["var.computed_egress_with_ipv6_cidr_blocks","count.index","var.egress_ipv6_cidr_blocks"]},"prefix_list_ids":{"references":["var.egress_prefix_list_ids"]},"protocol":{"references":["var.computed_egress_with_ipv6_cidr_blocks","count.index","var.rules","var.computed_egress_with_ipv6_cidr_blocks","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"to_port":{"references":["var.computed_egress_with_ipv6_cidr_blocks","count.index","var.rules","var.computed_egress_with_ipv6_cidr_blocks","count.index"]},"type":{"constant_value":"egress"}},"schema_version":2,"count_expression":{"references":["local.create","var.number_of_computed_egress_with_ipv6_cidr_blocks"]}},{"address":"aws_security_group_rule.computed_egress_with_self","mode":"managed","type":"aws_security_group_rule","name":"computed_egress_with_self","provider_config_key":"module.securitygroups.module.single_multiregion_rds_security_group:aws","expressions":{"description":{"references":["var.computed_egress_with_self","count.index"]},"from_port":{"references":["var.computed_egress_with_self","count.index","var.rules","var.computed_egress_with_self","count.index"]},"prefix_list_ids":{"references":["var.egress_prefix_list_ids"]},"protocol":{"references":["var.computed_egress_with_self","count.index","var.rules","var.computed_egress_with_self","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"self":{"references":["var.computed_egress_with_self","count.index"]},"to_port":{"references":["var.computed_egress_with_self","count.index","var.rules","var.computed_egress_with_self","count.index"]},"type":{"constant_value":"egress"}},"schema_version":2,"count_expression":{"references":["local.create","var.number_of_computed_egress_with_self"]}},{"address":"aws_security_group_rule.computed_egress_with_source_security_group_id","mode":"managed","type":"aws_security_group_rule","name":"computed_egress_with_source_security_group_id","provider_config_key":"module.securitygroups.module.single_multiregion_rds_security_group:aws","expressions":{"description":{"references":["var.computed_egress_with_source_security_group_id","count.index"]},"from_port":{"references":["var.computed_egress_with_source_security_group_id","count.index","var.rules","var.computed_egress_with_source_security_group_id","count.index"]},"prefix_list_ids":{"references":["var.egress_prefix_list_ids"]},"protocol":{"references":["var.computed_egress_with_source_security_group_id","count.index","var.rules","var.computed_egress_with_source_security_group_id","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"source_security_group_id":{"references":["var.computed_egress_with_source_security_group_id","count.index"]},"to_port":{"references":["var.computed_egress_with_source_security_group_id","count.index","var.rules","var.computed_egress_with_source_security_group_id","count.index"]},"type":{"constant_value":"egress"}},"schema_version":2,"count_expression":{"references":["local.create","var.number_of_computed_egress_with_source_security_group_id"]}},{"address":"aws_security_group_rule.computed_ingress_rules","mode":"managed","type":"aws_security_group_rule","name":"computed_ingress_rules","provider_config_key":"module.securitygroups.module.single_multiregion_rds_security_group:aws","expressions":{"cidr_blocks":{"references":["var.ingress_cidr_blocks"]},"description":{"references":["var.rules","var.computed_ingress_rules","count.index"]},"from_port":{"references":["var.rules","var.computed_ingress_rules","count.index"]},"ipv6_cidr_blocks":{"references":["var.ingress_ipv6_cidr_blocks"]},"prefix_list_ids":{"references":["var.ingress_prefix_list_ids"]},"protocol":{"references":["var.rules","var.computed_ingress_rules","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"to_port":{"references":["var.rules","var.computed_ingress_rules","count.index"]},"type":{"constant_value":"ingress"}},"schema_version":2,"count_expression":{"references":["local.create","var.number_of_computed_ingress_rules"]}},{"address":"aws_security_group_rule.computed_ingress_with_cidr_blocks","mode":"managed","type":"aws_security_group_rule","name":"computed_ingress_with_cidr_blocks","provider_config_key":"module.securitygroups.module.single_multiregion_rds_security_group:aws","expressions":{"cidr_blocks":{"references":["var.computed_ingress_with_cidr_blocks","count.index","var.ingress_cidr_blocks"]},"description":{"references":["var.computed_ingress_with_cidr_blocks","count.index"]},"from_port":{"references":["var.computed_ingress_with_cidr_blocks","count.index","var.rules","var.computed_ingress_with_cidr_blocks","count.index"]},"prefix_list_ids":{"references":["var.ingress_prefix_list_ids"]},"protocol":{"references":["var.computed_ingress_with_cidr_blocks","count.index","var.rules","var.computed_ingress_with_cidr_blocks","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"to_port":{"references":["var.computed_ingress_with_cidr_blocks","count.index","var.rules","var.computed_ingress_with_cidr_blocks","count.index"]},"type":{"constant_value":"ingress"}},"schema_version":2,"count_expression":{"references":["local.create","var.number_of_computed_ingress_with_cidr_blocks"]}},{"address":"aws_security_group_rule.computed_ingress_with_ipv6_cidr_blocks","mode":"managed","type":"aws_security_group_rule","name":"computed_ingress_with_ipv6_cidr_blocks","provider_config_key":"module.securitygroups.module.single_multiregion_rds_security_group:aws","expressions":{"description":{"references":["var.computed_ingress_with_ipv6_cidr_blocks","count.index"]},"from_port":{"references":["var.computed_ingress_with_ipv6_cidr_blocks","count.index","var.rules","var.computed_ingress_with_ipv6_cidr_blocks","count.index"]},"ipv6_cidr_blocks":{"references":["var.computed_ingress_with_ipv6_cidr_blocks","count.index","var.ingress_ipv6_cidr_blocks"]},"prefix_list_ids":{"references":["var.ingress_prefix_list_ids"]},"protocol":{"references":["var.computed_ingress_with_ipv6_cidr_blocks","count.index","var.rules","var.computed_ingress_with_ipv6_cidr_blocks","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"to_port":{"references":["var.computed_ingress_with_ipv6_cidr_blocks","count.index","var.rules","var.computed_ingress_with_ipv6_cidr_blocks","count.index"]},"type":{"constant_value":"ingress"}},"schema_version":2,"count_expression":{"references":["local.create","var.number_of_computed_ingress_with_ipv6_cidr_blocks"]}},{"address":"aws_security_group_rule.computed_ingress_with_self","mode":"managed","type":"aws_security_group_rule","name":"computed_ingress_with_self","provider_config_key":"module.securitygroups.module.single_multiregion_rds_security_group:aws","expressions":{"description":{"references":["var.computed_ingress_with_self","count.index"]},"from_port":{"references":["var.computed_ingress_with_self","count.index","var.rules","var.computed_ingress_with_self","count.index"]},"prefix_list_ids":{"references":["var.ingress_prefix_list_ids"]},"protocol":{"references":["var.computed_ingress_with_self","count.index","var.rules","var.computed_ingress_with_self","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"self":{"references":["var.computed_ingress_with_self","count.index"]},"to_port":{"references":["var.computed_ingress_with_self","count.index","var.rules","var.computed_ingress_with_self","count.index"]},"type":{"constant_value":"ingress"}},"schema_version":2,"count_expression":{"references":["local.create","var.number_of_computed_ingress_with_self"]}},{"address":"aws_security_group_rule.computed_ingress_with_source_security_group_id","mode":"managed","type":"aws_security_group_rule","name":"computed_ingress_with_source_security_group_id","provider_config_key":"module.securitygroups.module.single_multiregion_rds_security_group:aws","expressions":{"description":{"references":["var.computed_ingress_with_source_security_group_id","count.index"]},"from_port":{"references":["var.computed_ingress_with_source_security_group_id","count.index","var.rules","var.computed_ingress_with_source_security_group_id","count.index"]},"prefix_list_ids":{"references":["var.ingress_prefix_list_ids"]},"protocol":{"references":["var.computed_ingress_with_source_security_group_id","count.index","var.rules","var.computed_ingress_with_source_security_group_id","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"source_security_group_id":{"references":["var.computed_ingress_with_source_security_group_id","count.index"]},"to_port":{"references":["var.computed_ingress_with_source_security_group_id","count.index","var.rules","var.computed_ingress_with_source_security_group_id","count.index"]},"type":{"constant_value":"ingress"}},"schema_version":2,"count_expression":{"references":["local.create","var.number_of_computed_ingress_with_source_security_group_id"]}},{"address":"aws_security_group_rule.egress_rules","mode":"managed","type":"aws_security_group_rule","name":"egress_rules","provider_config_key":"module.securitygroups.module.single_multiregion_rds_security_group:aws","expressions":{"cidr_blocks":{"references":["var.egress_cidr_blocks"]},"description":{"references":["var.rules","var.egress_rules","count.index"]},"from_port":{"references":["var.rules","var.egress_rules","count.index"]},"ipv6_cidr_blocks":{"references":["var.egress_ipv6_cidr_blocks"]},"prefix_list_ids":{"references":["var.egress_prefix_list_ids"]},"protocol":{"references":["var.rules","var.egress_rules","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"to_port":{"references":["var.rules","var.egress_rules","count.index"]},"type":{"constant_value":"egress"}},"schema_version":2,"count_expression":{"references":["local.create","var.egress_rules"]}},{"address":"aws_security_group_rule.egress_with_cidr_blocks","mode":"managed","type":"aws_security_group_rule","name":"egress_with_cidr_blocks","provider_config_key":"module.securitygroups.module.single_multiregion_rds_security_group:aws","expressions":{"cidr_blocks":{"references":["var.egress_with_cidr_blocks","count.index","var.egress_cidr_blocks"]},"description":{"references":["var.egress_with_cidr_blocks","count.index"]},"from_port":{"references":["var.egress_with_cidr_blocks","count.index","var.rules","var.egress_with_cidr_blocks","count.index"]},"prefix_list_ids":{"references":["var.egress_prefix_list_ids"]},"protocol":{"references":["var.egress_with_cidr_blocks","count.index","var.rules","var.egress_with_cidr_blocks","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"to_port":{"references":["var.egress_with_cidr_blocks","count.index","var.rules","var.egress_with_cidr_blocks","count.index"]},"type":{"constant_value":"egress"}},"schema_version":2,"count_expression":{"references":["local.create","var.egress_with_cidr_blocks"]}},{"address":"aws_security_group_rule.egress_with_ipv6_cidr_blocks","mode":"managed","type":"aws_security_group_rule","name":"egress_with_ipv6_cidr_blocks","provider_config_key":"module.securitygroups.module.single_multiregion_rds_security_group:aws","expressions":{"description":{"references":["var.egress_with_ipv6_cidr_blocks","count.index"]},"from_port":{"references":["var.egress_with_ipv6_cidr_blocks","count.index","var.rules","var.egress_with_ipv6_cidr_blocks","count.index"]},"ipv6_cidr_blocks":{"references":["var.egress_with_ipv6_cidr_blocks","count.index","var.egress_ipv6_cidr_blocks"]},"prefix_list_ids":{"references":["var.egress_prefix_list_ids"]},"protocol":{"references":["var.egress_with_ipv6_cidr_blocks","count.index","var.rules","var.egress_with_ipv6_cidr_blocks","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"to_port":{"references":["var.egress_with_ipv6_cidr_blocks","count.index","var.rules","var.egress_with_ipv6_cidr_blocks","count.index"]},"type":{"constant_value":"egress"}},"schema_version":2,"count_expression":{"references":["local.create","var.egress_with_ipv6_cidr_blocks"]}},{"address":"aws_security_group_rule.egress_with_self","mode":"managed","type":"aws_security_group_rule","name":"egress_with_self","provider_config_key":"module.securitygroups.module.single_multiregion_rds_security_group:aws","expressions":{"description":{"references":["var.egress_with_self","count.index"]},"from_port":{"references":["var.egress_with_self","count.index","var.rules","var.egress_with_self","count.index"]},"prefix_list_ids":{"references":["var.egress_prefix_list_ids"]},"protocol":{"references":["var.egress_with_self","count.index","var.rules","var.egress_with_self","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"self":{"references":["var.egress_with_self","count.index"]},"to_port":{"references":["var.egress_with_self","count.index","var.rules","var.egress_with_self","count.index"]},"type":{"constant_value":"egress"}},"schema_version":2,"count_expression":{"references":["local.create","var.egress_with_self"]}},{"address":"aws_security_group_rule.egress_with_source_security_group_id","mode":"managed","type":"aws_security_group_rule","name":"egress_with_source_security_group_id","provider_config_key":"module.securitygroups.module.single_multiregion_rds_security_group:aws","expressions":{"description":{"references":["var.egress_with_source_security_group_id","count.index"]},"from_port":{"references":["var.egress_with_source_security_group_id","count.index","var.rules","var.egress_with_source_security_group_id","count.index"]},"prefix_list_ids":{"references":["var.egress_prefix_list_ids"]},"protocol":{"references":["var.egress_with_source_security_group_id","count.index","var.rules","var.egress_with_source_security_group_id","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"source_security_group_id":{"references":["var.egress_with_source_security_group_id","count.index"]},"to_port":{"references":["var.egress_with_source_security_group_id","count.index","var.rules","var.egress_with_source_security_group_id","count.index"]},"type":{"constant_value":"egress"}},"schema_version":2,"count_expression":{"references":["local.create","var.egress_with_source_security_group_id"]}},{"address":"aws_security_group_rule.ingress_rules","mode":"managed","type":"aws_security_group_rule","name":"ingress_rules","provider_config_key":"module.securitygroups.module.single_multiregion_rds_security_group:aws","expressions":{"cidr_blocks":{"references":["var.ingress_cidr_blocks"]},"description":{"references":["var.rules","var.ingress_rules","count.index"]},"from_port":{"references":["var.rules","var.ingress_rules","count.index"]},"ipv6_cidr_blocks":{"references":["var.ingress_ipv6_cidr_blocks"]},"prefix_list_ids":{"references":["var.ingress_prefix_list_ids"]},"protocol":{"references":["var.rules","var.ingress_rules","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"to_port":{"references":["var.rules","var.ingress_rules","count.index"]},"type":{"constant_value":"ingress"}},"schema_version":2,"count_expression":{"references":["local.create","var.ingress_rules"]}},{"address":"aws_security_group_rule.ingress_with_cidr_blocks","mode":"managed","type":"aws_security_group_rule","name":"ingress_with_cidr_blocks","provider_config_key":"module.securitygroups.module.single_multiregion_rds_security_group:aws","expressions":{"cidr_blocks":{"references":["var.ingress_with_cidr_blocks","count.index","var.ingress_cidr_blocks"]},"description":{"references":["var.ingress_with_cidr_blocks","count.index"]},"from_port":{"references":["var.ingress_with_cidr_blocks","count.index","var.rules","var.ingress_with_cidr_blocks","count.index"]},"prefix_list_ids":{"references":["var.ingress_prefix_list_ids"]},"protocol":{"references":["var.ingress_with_cidr_blocks","count.index","var.rules","var.ingress_with_cidr_blocks","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"to_port":{"references":["var.ingress_with_cidr_blocks","count.index","var.rules","var.ingress_with_cidr_blocks","count.index"]},"type":{"constant_value":"ingress"}},"schema_version":2,"count_expression":{"references":["local.create","var.ingress_with_cidr_blocks"]}},{"address":"aws_security_group_rule.ingress_with_ipv6_cidr_blocks","mode":"managed","type":"aws_security_group_rule","name":"ingress_with_ipv6_cidr_blocks","provider_config_key":"module.securitygroups.module.single_multiregion_rds_security_group:aws","expressions":{"description":{"references":["var.ingress_with_ipv6_cidr_blocks","count.index"]},"from_port":{"references":["var.ingress_with_ipv6_cidr_blocks","count.index","var.rules","var.ingress_with_ipv6_cidr_blocks","count.index"]},"ipv6_cidr_blocks":{"references":["var.ingress_with_ipv6_cidr_blocks","count.index","var.ingress_ipv6_cidr_blocks"]},"prefix_list_ids":{"references":["var.ingress_prefix_list_ids"]},"protocol":{"references":["var.ingress_with_ipv6_cidr_blocks","count.index","var.rules","var.ingress_with_ipv6_cidr_blocks","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"to_port":{"references":["var.ingress_with_ipv6_cidr_blocks","count.index","var.rules","var.ingress_with_ipv6_cidr_blocks","count.index"]},"type":{"constant_value":"ingress"}},"schema_version":2,"count_expression":{"references":["local.create","var.ingress_with_ipv6_cidr_blocks"]}},{"address":"aws_security_group_rule.ingress_with_self","mode":"managed","type":"aws_security_group_rule","name":"ingress_with_self","provider_config_key":"module.securitygroups.module.single_multiregion_rds_security_group:aws","expressions":{"description":{"references":["var.ingress_with_self","count.index"]},"from_port":{"references":["var.ingress_with_self","count.index","var.rules","var.ingress_with_self","count.index"]},"prefix_list_ids":{"references":["var.ingress_prefix_list_ids"]},"protocol":{"references":["var.ingress_with_self","count.index","var.rules","var.ingress_with_self","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"self":{"references":["var.ingress_with_self","count.index"]},"to_port":{"references":["var.ingress_with_self","count.index","var.rules","var.ingress_with_self","count.index"]},"type":{"constant_value":"ingress"}},"schema_version":2,"count_expression":{"references":["local.create","var.ingress_with_self"]}},{"address":"aws_security_group_rule.ingress_with_source_security_group_id","mode":"managed","type":"aws_security_group_rule","name":"ingress_with_source_security_group_id","provider_config_key":"module.securitygroups.module.single_multiregion_rds_security_group:aws","expressions":{"description":{"references":["var.ingress_with_source_security_group_id","count.index"]},"from_port":{"references":["var.ingress_with_source_security_group_id","count.index","var.rules","var.ingress_with_source_security_group_id","count.index"]},"prefix_list_ids":{"references":["var.ingress_prefix_list_ids"]},"protocol":{"references":["var.ingress_with_source_security_group_id","count.index","var.rules","var.ingress_with_source_security_group_id","count.index"]},"security_group_id":{"references":["local.this_sg_id"]},"source_security_group_id":{"references":["var.ingress_with_source_security_group_id","count.index"]},"to_port":{"references":["var.ingress_with_source_security_group_id","count.index","var.rules","var.ingress_with_source_security_group_id","count.index"]},"type":{"constant_value":"ingress"}},"schema_version":2,"count_expression":{"references":["local.create","var.ingress_with_source_security_group_id"]}}],"variables":{"auto_groups":{"default":{"activemq":{"egress_rules":["all-all"],"ingress_rules":["activemq-5671-tcp","activemq-8883-tcp","activemq-61614-tcp","activemq-61617-tcp","activemq-61619-tcp"],"ingress_with_self":["all-all"]},"alertmanager":{"egress_rules":["all-all"],"ingress_rules":["alertmanager-9093-tcp","alertmanager-9094-tcp"],"ingress_with_self":["all-all"]},"carbon-relay-ng":{"egress_rules":["all-all"],"ingress_rules":["carbon-line-in-tcp","carbon-line-in-udp","carbon-pickle-tcp","carbon-pickle-udp","carbon-gui-udp"],"ingress_with_self":["all-all"]},"cassandra":{"egress_rules":["all-all"],"ingress_rules":["cassandra-clients-tcp","cassandra-thrift-clients-tcp","cassandra-jmx-tcp"],"ingress_with_self":["all-all"]},"consul":{"egress_rules":["all-all"],"ingress_rules":["consul-tcp","consul-grpc-tcp","consul-webui-http-tcp","consul-webui-https-tcp","consul-dns-tcp","consul-dns-udp","consul-serf-lan-tcp","consul-serf-lan-udp","consul-serf-wan-tcp","consul-serf-wan-udp"],"ingress_with_self":["all-all"]},"docker-swarm":{"egress_rules":["all-all"],"ingress_rules":["docker-swarm-mngmt-tcp","docker-swarm-node-tcp","docker-swarm-node-udp","docker-swarm-overlay-udp"],"ingress_with_self":["all-all"]},"elasticsearch":{"egress_rules":["all-all"],"ingress_rules":["elasticsearch-rest-tcp","elasticsearch-java-tcp"],"ingress_with_self":["all-all"]},"etcd":{"egress_rules":["all-all"],"ingress_rules":["etcd-client-tcp","etcd-peer-tcp"],"ingress_with_self":["all-all"]},"grafana":{"egress_rules":["all-all"],"ingress_rules":["grafana-tcp"],"ingress_with_self":["all-all"]},"graphite-statsd":{"egress_rules":["all-all"],"ingress_rules":["graphite-webui","graphite-2003-tcp","graphite-2004-tcp","graphite-2023-tcp","graphite-2024-tcp","graphite-8080-tcp","graphite-8125-tcp","graphite-8125-udp","graphite-8126-tcp"],"ingress_with_self":["all-all"]},"http-80":{"egress_rules":["all-all"],"ingress_rules":["http-80-tcp"],"ingress_with_self":["all-all"]},"http-8080":{"egress_rules":["all-all"],"ingress_rules":["http-8080-tcp"],"ingress_with_self":["all-all"]},"https-443":{"egress_rules":["all-all"],"ingress_rules":["https-443-tcp"],"ingress_with_self":["all-all"]},"https-8443":{"egress_rules":["all-all"],"ingress_rules":["https-8443-tcp"],"ingress_with_self":["all-all"]},"ipsec-4500":{"egress_rules":["all-all"],"ingress_rules":["ipsec-4500-udp"],"ingress_with_self":["all-all"]},"ipsec-500":{"egress_rules":["all-all"],"ingress_rules":["ipsec-500-udp"],"ingress_with_self":["all-all"]},"kafka":{"egress_rules":["all-all"],"ingress_rules":["kafka-broker-tcp","kafka-broker-tls-tcp","kafka-jmx-exporter-tcp","kafka-node-exporter-tcp"],"ingress_with_self":["all-all"]},"kibana":{"egress_rules":["all-all"],"ingress_rules":["kibana-tcp"],"ingress_with_self":["all-all"]},"kubernetes-api":{"egress_rules":["all-all"],"ingress_rules":["kubernetes-api-tcp"],"ingress_with_self":["all-all"]},"ldap":{"egress_rules":["all-all"],"ingress_rules":["ldap-tcp"],"ingress_with_self":["all-all"]},"ldaps":{"egress_rules":["all-all"],"ingress_rules":["ldaps-tcp"],"ingress_with_self":["all-all"]},"logstash":{"egress_rules":["all-all"],"ingress_rules":["logstash-tcp"],"ingress_with_self":["all-all"]},"memcached":{"egress_rules":["all-all"],"ingress_rules":["memcached-tcp"],"ingress_with_self":["all-all"]},"minio":{"egress_rules":["all-all"],"ingress_rules":["minio-tcp"],"ingress_with_self":["all-all"]},"mongodb":{"egress_rules":["all-all"],"ingress_rules":["mongodb-27017-tcp","mongodb-27018-tcp","mongodb-27019-tcp"],"ingress_with_self":["all-all"]},"mssql":{"egress_rules":["all-all"],"ingress_rules":["mssql-tcp","mssql-udp","mssql-analytics-tcp","mssql-broker-tcp"],"ingress_with_self":["all-all"]},"mysql":{"egress_rules":["all-all"],"ingress_rules":["mysql-tcp"],"ingress_with_self":["all-all"]},"nfs":{"egress_rules":["all-all"],"ingress_rules":["nfs-tcp"],"ingress_with_self":["all-all"]},"nomad":{"egress_rules":["all-all"],"ingress_rules":["nomad-http-tcp","nomad-rpc-tcp","nomad-serf-tcp","nomad-serf-udp"],"ingress_with_self":["all-all"]},"ntp":{"egress_rules":["all-all"],"ingress_rules":["ntp-udp"],"ingress_with_self":["all-all"]},"openvpn":{"egress_rules":["all-all"],"ingress_rules":["openvpn-udp","openvpn-tcp","openvpn-https-tcp"],"ingress_with_self":["all-all"]},"oracle-db":{"egress_rules":["all-all"],"ingress_rules":["oracle-db-tcp"],"ingress_with_self":["all-all"]},"postgresql":{"egress_rules":["all-all"],"ingress_rules":["postgresql-tcp"],"ingress_with_self":["all-all"]},"prometheus":{"egress_rules":["all-all"],"ingress_rules":["prometheus-http-tcp","prometheus-pushgateway-http-tcp"],"ingress_with_self":["all-all"]},"puppet":{"egress_rules":["all-all"],"ingress_rules":["puppet-tcp","puppetdb-tcp"],"ingress_with_self":["all-all"]},"rabbitmq":{"egress_rules":["all-all"],"ingress_rules":["rabbitmq-4369-tcp","rabbitmq-5671-tcp","rabbitmq-5672-tcp","rabbitmq-15672-tcp","rabbitmq-25672-tcp"],"ingress_with_self":["all-all"]},"rdp":{"egress_rules":["all-all"],"ingress_rules":["rdp-tcp","rdp-udp"],"ingress_with_self":["all-all"]},"redis":{"egress_rules":["all-all"],"ingress_rules":["redis-tcp"],"ingress_with_self":["all-all"]},"redshift":{"egress_rules":["all-all"],"ingress_rules":["redshift-tcp"],"ingress_with_self":["all-all"]},"smtp":{"egress_rules":["all-all"],"ingress_rules":["smtp-tcp"],"ingress_with_self":["all-all"]},"smtp-submission":{"egress_rules":["all-all"],"ingress_rules":["smtp-submission-587-tcp","smtp-submission-2587-tcp"],"ingress_with_self":["all-all"]},"smtps":{"egress_rules":["all-all"],"ingress_rules":["smtps-465-tcp","smtps-2465-tcp"],"ingress_with_self":["all-all"]},"solr":{"egress_rules":["all-all"],"ingress_rules":["solr-tcp"],"ingress_with_self":["all-all"]},"splunk":{"egress_rules":["all-all"],"ingress_rules":["splunk-indexer-tcp","splunk-clients-tcp","splunk-splunkd-tcp","splunk-hec-tcp"],"ingress_with_self":["all-all"]},"squid":{"egress_rules":["all-all"],"ingress_rules":["squid-proxy-tcp"],"ingress_with_self":["all-all"]},"ssh":{"egress_rules":["all-all"],"ingress_rules":["ssh-tcp"],"ingress_with_self":["all-all"]},"storm":{"egress_rules":["all-all"],"ingress_rules":["storm-nimbus-tcp","storm-ui-tcp","storm-supervisor-tcp"],"ingress_with_self":["all-all"]},"web":{"egress_rules":["all-all"],"ingress_rules":["http-80-tcp","http-8080-tcp","https-443-tcp","web-jmx-tcp"],"ingress_with_self":["all-all"]},"winrm":{"egress_rules":["all-all"],"ingress_rules":["winrm-http-tcp","winrm-https-tcp"],"ingress_with_self":["all-all"]},"zipkin":{"egress_rules":["all-all"],"ingress_rules":["zipkin-admin-tcp","zipkin-admin-query-tcp","zipkin-admin-web-tcp","zipkin-query-tcp","zipkin-web-tcp"],"ingress_with_self":["all-all"]},"zookeeper":{"egress_rules":["all-all"],"ingress_rules":["zookeeper-2181-tcp","zookeeper-2888-tcp","zookeeper-3888-tcp","zookeeper-jmx-tcp"],"ingress_with_self":["all-all"]}},"description":"Map of groups of security group rules to use to generate modules (see update_groups.sh)"},"computed_egress_rules":{"default":[],"description":"List of computed egress rules to create by name"},"computed_egress_with_cidr_blocks":{"default":[],"description":"List of computed egress rules to create where 'cidr_blocks' is used"},"computed_egress_with_ipv6_cidr_blocks":{"default":[],"description":"List of computed egress rules to create where 'ipv6_cidr_blocks' is used"},"computed_egress_with_self":{"default":[],"description":"List of computed egress rules to create where 'self' is defined"},"computed_egress_with_source_security_group_id":{"default":[],"description":"List of computed egress rules to create where 'source_security_group_id' is used"},"computed_ingress_rules":{"default":[],"description":"List of computed ingress rules to create by name"},"computed_ingress_with_cidr_blocks":{"default":[],"description":"List of computed ingress rules to create where 'cidr_blocks' is used"},"computed_ingress_with_ipv6_cidr_blocks":{"default":[],"description":"List of computed ingress rules to create where 'ipv6_cidr_blocks' is used"},"computed_ingress_with_self":{"default":[],"description":"List of computed ingress rules to create where 'self' is defined"},"computed_ingress_with_source_security_group_id":{"default":[],"description":"List of computed ingress rules to create where 'source_security_group_id' is used"},"create":{"default":true,"description":"Whether to create security group and all rules"},"create_sg":{"default":true,"description":"Whether to create security group"},"create_timeout":{"default":"10m","description":"Time to wait for a security group to be created"},"delete_timeout":{"default":"15m","description":"Time to wait for a security group to be deleted"},"description":{"default":"Security Group managed by Terraform","description":"Description of security group"},"egress_cidr_blocks":{"default":["0.0.0.0/0"],"description":"List of IPv4 CIDR ranges to use on all egress rules"},"egress_ipv6_cidr_blocks":{"default":["::/0"],"description":"List of IPv6 CIDR ranges to use on all egress rules"},"egress_prefix_list_ids":{"default":[],"description":"List of prefix list IDs (for allowing access to VPC endpoints) to use on all egress rules"},"egress_rules":{"default":[],"description":"List of egress rules to create by name"},"egress_with_cidr_blocks":{"default":[],"description":"List of egress rules to create where 'cidr_blocks' is used"},"egress_with_ipv6_cidr_blocks":{"default":[],"description":"List of egress rules to create where 'ipv6_cidr_blocks' is used"},"egress_with_self":{"default":[],"description":"List of egress rules to create where 'self' is defined"},"egress_with_source_security_group_id":{"default":[],"description":"List of egress rules to create where 'source_security_group_id' is used"},"ingress_cidr_blocks":{"default":[],"description":"List of IPv4 CIDR ranges to use on all ingress rules"},"ingress_ipv6_cidr_blocks":{"default":[],"description":"List of IPv6 CIDR ranges to use on all ingress rules"},"ingress_prefix_list_ids":{"default":[],"description":"List of prefix list IDs (for allowing access to VPC endpoints) to use on all ingress rules"},"ingress_rules":{"default":[],"description":"List of ingress rules to create by name"},"ingress_with_cidr_blocks":{"default":[],"description":"List of ingress rules to create where 'cidr_blocks' is used"},"ingress_with_ipv6_cidr_blocks":{"default":[],"description":"List of ingress rules to create where 'ipv6_cidr_blocks' is used"},"ingress_with_self":{"default":[],"description":"List of ingress rules to create where 'self' is defined"},"ingress_with_source_security_group_id":{"default":[],"description":"List of ingress rules to create where 'source_security_group_id' is used"},"name":{"default":null,"description":"Name of security group - not required if create_sg is false"},"number_of_computed_egress_rules":{"default":0,"description":"Number of computed egress rules to create by name"},"number_of_computed_egress_with_cidr_blocks":{"default":0,"description":"Number of computed egress rules to create where 'cidr_blocks' is used"},"number_of_computed_egress_with_ipv6_cidr_blocks":{"default":0,"description":"Number of computed egress rules to create where 'ipv6_cidr_blocks' is used"},"number_of_computed_egress_with_self":{"default":0,"description":"Number of computed egress rules to create where 'self' is defined"},"number_of_computed_egress_with_source_security_group_id":{"default":0,"description":"Number of computed egress rules to create where 'source_security_group_id' is used"},"number_of_computed_ingress_rules":{"default":0,"description":"Number of computed ingress rules to create by name"},"number_of_computed_ingress_with_cidr_blocks":{"default":0,"description":"Number of computed ingress rules to create where 'cidr_blocks' is used"},"number_of_computed_ingress_with_ipv6_cidr_blocks":{"default":0,"description":"Number of computed ingress rules to create where 'ipv6_cidr_blocks' is used"},"number_of_computed_ingress_with_self":{"default":0,"description":"Number of computed ingress rules to create where 'self' is defined"},"number_of_computed_ingress_with_source_security_group_id":{"default":0,"description":"Number of computed ingress rules to create where 'source_security_group_id' is used"},"putin_khuylo":{"default":true,"description":"Do you agree that Putin doesn't respect Ukrainian sovereignty and territorial integrity? More info: https://en.wikipedia.org/wiki/Putin_khuylo!"},"revoke_rules_on_delete":{"default":false,"description":"Instruct Terraform to revoke all of the Security Groups attached ingress and egress rules before deleting the rule itself. Enable for EMR."},"rules":{"default":{"_":["","",""],"activemq-5671-tcp":["5671","5671","tcp","ActiveMQ AMQP"],"activemq-61614-tcp":["61614","61614","tcp","ActiveMQ STOMP"],"activemq-61617-tcp":["61617","61617","tcp","ActiveMQ OpenWire"],"activemq-61619-tcp":["61619","61619","tcp","ActiveMQ WebSocket"],"activemq-8883-tcp":["8883","8883","tcp","ActiveMQ MQTT"],"alertmanager-9093-tcp":["9093","9093","tcp","Alert Manager"],"alertmanager-9094-tcp":["9094","9094","tcp","Alert Manager Cluster"],"all-all":["-1","-1","-1","All protocols"],"all-icmp":["-1","-1","icmp","All IPV4 ICMP"],"all-ipv6-icmp":["-1","-1","58","All IPV6 ICMP"],"all-tcp":["0","65535","tcp","All TCP ports"],"all-udp":["0","65535","udp","All UDP ports"],"carbon-admin-tcp":["2004","2004","tcp","Carbon admin"],"carbon-gui-udp":["8081","8081","tcp","Carbon GUI"],"carbon-line-in-tcp":["2003","2003","tcp","Carbon line-in"],"carbon-line-in-udp":["2003","2003","udp","Carbon line-in"],"carbon-pickle-tcp":["2013","2013","tcp","Carbon pickle"],"carbon-pickle-udp":["2013","2013","udp","Carbon pickle"],"cassandra-clients-tcp":["9042","9042","tcp","Cassandra clients"],"cassandra-jmx-tcp":["7199","7199","tcp","JMX"],"cassandra-thrift-clients-tcp":["9160","9160","tcp","Cassandra Thrift clients"],"consul-dns-tcp":["8600","8600","tcp","Consul DNS"],"consul-dns-udp":["8600","8600","udp","Consul DNS"],"consul-grpc-tcp":["8502","8502","tcp","Consul gRPC"],"consul-serf-lan-tcp":["8301","8301","tcp","Serf LAN"],"consul-serf-lan-udp":["8301","8301","udp","Serf LAN"],"consul-serf-wan-tcp":["8302","8302","tcp","Serf WAN"],"consul-serf-wan-udp":["8302","8302","udp","Serf WAN"],"consul-tcp":["8300","8300","tcp","Consul server"],"consul-webui-http-tcp":["8500","8500","tcp","Consul web UI HTTP"],"consul-webui-https-tcp":["8501","8501","tcp","Consul web UI HTTPS"],"dns-tcp":["53","53","tcp","DNS"],"dns-udp":["53","53","udp","DNS"],"docker-swarm-mngmt-tcp":["2377","2377","tcp","Docker Swarm cluster management"],"docker-swarm-node-tcp":["7946","7946","tcp","Docker Swarm node"],"docker-swarm-node-udp":["7946","7946","udp","Docker Swarm node"],"docker-swarm-overlay-udp":["4789","4789","udp","Docker Swarm Overlay Network Traffic"],"elasticsearch-java-tcp":["9300","9300","tcp","Elasticsearch Java interface"],"elasticsearch-rest-tcp":["9200","9200","tcp","Elasticsearch REST interface"],"etcd-client-tcp":["2379","2379","tcp","Etcd Client"],"etcd-peer-tcp":["2380","2380","tcp","Etcd Peer"],"grafana-tcp":["3000","3000","tcp","Grafana Dashboard"],"graphite-2003-tcp":["2003","2003","tcp","Carbon receiver plain text"],"graphite-2004-tcp":["2004","2004","tcp","Carbon receiver pickle"],"graphite-2023-tcp":["2023","2023","tcp","Carbon aggregator plaintext"],"graphite-2024-tcp":["2024","2024","tcp","Carbon aggregator pickle"],"graphite-8080-tcp":["8080","8080","tcp","Graphite gunicorn port"],"graphite-8125-tcp":["8125","8125","tcp","Statsd TCP"],"graphite-8125-udp":["8125","8125","udp","Statsd UDP default"],"graphite-8126-tcp":["8126","8126","tcp","Statsd admin"],"graphite-webui":["80","80","tcp","Graphite admin interface"],"http-80-tcp":["80","80","tcp","HTTP"],"http-8080-tcp":["8080","8080","tcp","HTTP"],"https-443-tcp":["443","443","tcp","HTTPS"],"https-8443-tcp":["8443","8443","tcp","HTTPS"],"ipsec-4500-udp":["4500","4500","udp","IPSEC NAT-T"],"ipsec-500-udp":["500","500","udp","IPSEC ISAKMP"],"kafka-broker-tcp":["9092","9092","tcp","Kafka broker 0.8.2+"],"kafka-broker-tls-tcp":["9094","9094","tcp","Kafka TLS enabled broker 0.8.2+"],"kafka-jmx-exporter-tcp":["11001","11001","tcp","Kafka JMX Exporter"],"kafka-node-exporter-tcp":["11002","11002","tcp","Kafka Node Exporter"],"kibana-tcp":["5601","5601","tcp","Kibana Web Interface"],"kubernetes-api-tcp":["6443","6443","tcp","Kubernetes API Server"],"ldap-tcp":["389","389","tcp","LDAP"],"ldaps-tcp":["636","636","tcp","LDAPS"],"logstash-tcp":["5044","5044","tcp","Logstash"],"memcached-tcp":["11211","11211","tcp","Memcached"],"minio-tcp":["9000","9000","tcp","MinIO"],"mongodb-27017-tcp":["27017","27017","tcp","MongoDB"],"mongodb-27018-tcp":["27018","27018","tcp","MongoDB shard"],"mongodb-27019-tcp":["27019","27019","tcp","MongoDB config server"],"mssql-analytics-tcp":["2383","2383","tcp","MSSQL Analytics"],"mssql-broker-tcp":["4022","4022","tcp","MSSQL Broker"],"mssql-tcp":["1433","1433","tcp","MSSQL Server"],"mssql-udp":["1434","1434","udp","MSSQL Browser"],"mysql-tcp":["3306","3306","tcp","MySQL/Aurora"],"nfs-tcp":["2049","2049","tcp","NFS/EFS"],"nomad-http-tcp":["4646","4646","tcp","Nomad HTTP"],"nomad-rpc-tcp":["4647","4647","tcp","Nomad RPC"],"nomad-serf-tcp":["4648","4648","tcp","Serf"],"nomad-serf-udp":["4648","4648","udp","Serf"],"ntp-udp":["123","123","udp","NTP"],"octopus-tentacle-tcp":["10933","10933","tcp","Octopus Tentacle"],"openvpn-https-tcp":["443","443","tcp","OpenVPN"],"openvpn-tcp":["943","943","tcp","OpenVPN"],"openvpn-udp":["1194","1194","udp","OpenVPN"],"oracle-db-tcp":["1521","1521","tcp","Oracle"],"postgresql-tcp":["5432","5432","tcp","PostgreSQL"],"prometheus-http-tcp":["9090","9090","tcp","Prometheus"],"prometheus-pushgateway-http-tcp":["9091","9091","tcp","Prometheus Pushgateway"],"puppet-tcp":["8140","8140","tcp","Puppet"],"puppetdb-tcp":["8081","8081","tcp","PuppetDB"],"rabbitmq-15672-tcp":["15672","15672","tcp","RabbitMQ"],"rabbitmq-25672-tcp":["25672","25672","tcp","RabbitMQ"],"rabbitmq-4369-tcp":["4369","4369","tcp","RabbitMQ epmd"],"rabbitmq-5671-tcp":["5671","5671","tcp","RabbitMQ"],"rabbitmq-5672-tcp":["5672","5672","tcp","RabbitMQ"],"rdp-tcp":["3389","3389","tcp","Remote Desktop"],"rdp-udp":["3389","3389","udp","Remote Desktop"],"redis-tcp":["6379","6379","tcp","Redis"],"redshift-tcp":["5439","5439","tcp","Redshift"],"saltstack-tcp":["4505","4506","tcp","SaltStack"],"smtp-submission-2587-tcp":["2587","2587","tcp","SMTP Submission"],"smtp-submission-587-tcp":["587","587","tcp","SMTP Submission"],"smtp-tcp":["25","25","tcp","SMTP"],"smtps-2456-tcp":["2465","2465","tcp","SMTPS"],"smtps-465-tcp":["465","465","tcp","SMTPS"],"solr-tcp":["8983","8987","tcp","Solr"],"splunk-hec-tcp":["8088","8088","tcp","Splunk HEC"],"splunk-indexer-tcp":["9997","9997","tcp","Splunk indexer"],"splunk-splunkd-tcp":["8089","8089","tcp","Splunkd"],"splunk-web-tcp":["8000","8000","tcp","Splunk Web"],"squid-proxy-tcp":["3128","3128","tcp","Squid default proxy"],"ssh-tcp":["22","22","tcp","SSH"],"storm-nimbus-tcp":["6627","6627","tcp","Nimbus"],"storm-supervisor-tcp":["6700","6703","tcp","Supervisor"],"storm-ui-tcp":["8080","8080","tcp","Storm UI"],"web-jmx-tcp":["1099","1099","tcp","JMX"],"winrm-http-tcp":["5985","5985","tcp","WinRM HTTP"],"winrm-https-tcp":["5986","5986","tcp","WinRM HTTPS"],"zipkin-admin-query-tcp":["9901","9901","tcp","Zipkin Admin port query"],"zipkin-admin-tcp":["9990","9990","tcp","Zipkin Admin port collector"],"zipkin-admin-web-tcp":["9991","9991","tcp","Zipkin Admin port web"],"zipkin-query-tcp":["9411","9411","tcp","Zipkin query port"],"zipkin-web-tcp":["8080","8080","tcp","Zipkin web port"],"zookeeper-2181-tcp":["2181","2181","tcp","Zookeeper"],"zookeeper-2888-tcp":["2888","2888","tcp","Zookeeper"],"zookeeper-3888-tcp":["3888","3888","tcp","Zookeeper"],"zookeeper-jmx-tcp":["7199","7199","tcp","JMX"]},"description":"Map of known security group rules (define as 'name' = ['from port', 'to port', 'protocol', 'description'])"},"security_group_id":{"default":null,"description":"ID of existing security group whose rules we will manage"},"tags":{"default":{},"description":"A mapping of tags to assign to security group"},"use_name_prefix":{"default":true,"description":"Whether to use name_prefix or fixed name. Should be true to able to update security group name after initial creation"},"vpc_id":{"default":null,"description":"ID of the VPC where to create security group"}}}}},"variables":{"secgroup_app_ecs_allow_egress_cidrs_list":{},"secgroup_app_ecs_from_port":{},"secgroup_app_ecs_group_name":{},"secgroup_app_ecs_to_port":{},"secgroup_caller_id":{},"secgroup_environment":{},"secgroup_jumpbox_ec2_allow_egress_cidrs_list":{},"secgroup_jumpbox_ec2_group_name":{},"secgroup_jumpbox_ec2_ingress_cidr_list":{},"secgroup_jumpbox_ec2_ingress_rules_list":{},"secgroup_mysql_allow_egress_cidrs_list":{},"secgroup_network_vpc_id":{},"secgroup_product_name":{},"secgroup_public_elb_allow_egress_cidrs_list":{},"secgroup_public_elb_allow_ingress_waf_cidrs_list":{},"secgroup_public_elb_group_name":{},"secgroup_public_elb_group_rule_list":{},"secgroup_single_multiregion_rds_allowed_ingress_cidr":{},"secgroup_single_multiregion_rds_from_port":{},"secgroup_single_multiregion_rds_group_name":{},"secgroup_single_multiregion_rds_to_port":{}}}},"vpc":{"source":"../modules/network","expressions":{"network_availability_zones":{"references":["data.aws_availability_zones.azs.names","data.aws_availability_zones.azs"]},"network_caller_id":{"references":["data.aws_caller_identity.current.arn","data.aws_caller_identity.current"]},"network_cidr":{"references":["var.vpc_cidr"]},"network_create_database_subnet":{"references":["var.vpc_create_database_subnet"]},"network_database_subnet_group_name":{"references":["local.global_prefix","var.vpc_database_subnet_group_name"]},"network_enable_hostname":{"references":["var.vpc_enable_hostname"]},"network_enable_nat_gateway":{"references":["var.vpc_enable_nat_gateway"]},"network_enable_single_nat_gateway":{"references":["var.vpc_enable_single_nat_gateway"]},"network_global_environment":{"references":["var.var_global_aws_environment"]},"network_name":{"references":["local.global_prefix","var.vpc_name"]},"network_private_database_subnets_cidrs":{"references":["var.vpc_private_database_subnets_cidrs"]},"network_private_subnets_cidrs":{"references":["var.vpc_private_subnets_cidrs"]},"network_product_name":{"references":["var.var_global_product"]},"network_public_subnets_cidrs":{"references":["var.vpc_public_subnets_cidrs"]}},"module":{"outputs":{"output_vpc_database_route_table_ids":{"expression":{"references":["module.network.database_route_table_ids","module.network"]}},"output_vpc_database_subnet_group_name":{"expression":{"references":["module.network.database_subnet_group_name","module.network"]}},"output_vpc_database_subnet_ids":{"expression":{"references":["module.network.database_subnets","module.network"]}},"output_vpc_internet_gw_arn":{"expression":{"references":["module.network.igw_arn","module.network"]}},"output_vpc_internet_gw_id":{"expression":{"references":["module.network.igw_id","module.network"]}},"output_vpc_private_route_table_ids":{"expression":{"references":["module.network.private_route_table_ids","module.network"]}},"output_vpc_private_subnet_ids":{"expression":{"references":["module.network.private_subnets","module.network"]}},"output_vpc_public_route_table_ids":{"expression":{"references":["module.network.public_route_table_ids","module.network"]}},"output_vpc_public_subnet_ids":{"expression":{"references":["module.network.public_subnets","module.network"]}},"output_vpc_vpc_id":{"expression":{"references":["module.network.vpc_id","module.network"]}}},"module_calls":{"network":{"source":"terraform-aws-modules/vpc/aws","expressions":{"azs":{"references":["var.network_availability_zones"]},"cidr":{"references":["var.network_cidr"]},"create_database_subnet_group":{"references":["var.network_create_database_subnet"]},"database_subnet_group_name":{"references":["var.network_database_subnet_group_name"]},"database_subnet_tags":{"references":["var.network_name","var.network_product_name","var.network_global_environment"]},"database_subnets":{"references":["var.network_private_database_subnets_cidrs"]},"enable_dns_hostnames":{"references":["var.network_enable_hostname"]},"enable_nat_gateway":{"references":["var.network_enable_nat_gateway"]},"name":{"references":["var.network_name"]},"private_subnet_tags":{"references":["var.network_name","var.network_product_name","var.network_global_environment"]},"private_subnets":{"references":["var.network_private_subnets_cidrs"]},"public_subnet_tags":{"references":["var.network_name","var.network_product_name","var.network_global_environment"]},"public_subnets":{"references":["var.network_public_subnets_cidrs"]},"single_nat_gateway":{"references":["var.network_enable_single_nat_gateway"]},"tags":{"references":["var.network_name","var.network_product_name","var.network_global_environment"]}},"module":{"outputs":{"azs":{"expression":{"references":["var.azs"]},"description":"A list of availability zones specified as argument to this module"},"cgw_arns":{"expression":{"references":["aws_customer_gateway.this"]},"description":"List of ARNs of Customer Gateway"},"cgw_ids":{"expression":{"references":["aws_customer_gateway.this"]},"description":"List of IDs of Customer Gateway"},"database_internet_gateway_route_id":{"expression":{"references":["aws_route.database_internet_gateway[0].id","aws_route.database_internet_gateway[0]","aws_route.database_internet_gateway"]},"description":"ID of the database internet gateway route"},"database_ipv6_egress_route_id":{"expression":{"references":["aws_route.database_ipv6_egress[0].id","aws_route.database_ipv6_egress[0]","aws_route.database_ipv6_egress"]},"description":"ID of the database IPv6 egress route"},"database_nat_gateway_route_ids":{"expression":{"references":["aws_route.database_nat_gateway"]},"description":"List of IDs of the database nat gateway route"},"database_network_acl_arn":{"expression":{"references":["aws_network_acl.database[0].arn","aws_network_acl.database[0]","aws_network_acl.database"]},"description":"ARN of the database network ACL"},"database_network_acl_id":{"expression":{"references":["aws_network_acl.database[0].id","aws_network_acl.database[0]","aws_network_acl.database"]},"description":"ID of the database network ACL"},"database_route_table_association_ids":{"expression":{"references":["aws_route_table_association.database"]},"description":"List of IDs of the database route table association"},"database_route_table_ids":{"expression":{"references":["aws_route_table.database","aws_route_table.private"]},"description":"List of IDs of database route tables"},"database_subnet_arns":{"expression":{"references":["aws_subnet.database"]},"description":"List of ARNs of database subnets"},"database_subnet_group":{"expression":{"references":["aws_db_subnet_group.database[0].id","aws_db_subnet_group.database[0]","aws_db_subnet_group.database"]},"description":"ID of database subnet group"},"database_subnet_group_name":{"expression":{"references":["aws_db_subnet_group.database[0].name","aws_db_subnet_group.database[0]","aws_db_subnet_group.database"]},"description":"Name of database subnet group"},"database_subnets":{"expression":{"references":["aws_subnet.database"]},"description":"List of IDs of database subnets"},"database_subnets_cidr_blocks":{"expression":{"references":["aws_subnet.database"]},"description":"List of cidr_blocks of database subnets"},"database_subnets_ipv6_cidr_blocks":{"expression":{"references":["aws_subnet.database"]},"description":"List of IPv6 cidr_blocks of database subnets in an IPv6 enabled VPC"},"default_network_acl_id":{"expression":{"references":["aws_vpc.this[0].default_network_acl_id","aws_vpc.this[0]","aws_vpc.this"]},"description":"The ID of the default network ACL"},"default_route_table_id":{"expression":{"references":["aws_vpc.this[0].default_route_table_id","aws_vpc.this[0]","aws_vpc.this"]},"description":"The ID of the default route table"},"default_security_group_id":{"expression":{"references":["aws_vpc.this[0].default_security_group_id","aws_vpc.this[0]","aws_vpc.this"]},"description":"The ID of the security group created by default on VPC creation"},"default_vpc_arn":{"expression":{"references":["aws_default_vpc.this[0].arn","aws_default_vpc.this[0]","aws_default_vpc.this"]},"description":"The ARN of the Default VPC"},"default_vpc_cidr_block":{"expression":{"references":["aws_default_vpc.this[0].cidr_block","aws_default_vpc.this[0]","aws_default_vpc.this"]},"description":"The CIDR block of the Default VPC"},"default_vpc_default_network_acl_id":{"expression":{"references":["aws_default_vpc.this[0].default_network_acl_id","aws_default_vpc.this[0]","aws_default_vpc.this"]},"description":"The ID of the default network ACL of the Default VPC"},"default_vpc_default_route_table_id":{"expression":{"references":["aws_default_vpc.this[0].default_route_table_id","aws_default_vpc.this[0]","aws_default_vpc.this"]},"description":"The ID of the default route table of the Default VPC"},"default_vpc_default_security_group_id":{"expression":{"references":["aws_default_vpc.this[0].default_security_group_id","aws_default_vpc.this[0]","aws_default_vpc.this"]},"description":"The ID of the security group created by default on Default VPC creation"},"default_vpc_enable_dns_hostnames":{"expression":{"references":["aws_default_vpc.this[0].enable_dns_hostnames","aws_default_vpc.this[0]","aws_default_vpc.this"]},"description":"Whether or not the Default VPC has DNS hostname support"},"default_vpc_enable_dns_support":{"expression":{"references":["aws_default_vpc.this[0].enable_dns_support","aws_default_vpc.this[0]","aws_default_vpc.this"]},"description":"Whether or not the Default VPC has DNS support"},"default_vpc_id":{"expression":{"references":["aws_default_vpc.this[0].id","aws_default_vpc.this[0]","aws_default_vpc.this"]},"description":"The ID of the Default VPC"},"default_vpc_instance_tenancy":{"expression":{"references":["aws_default_vpc.this[0].instance_tenancy","aws_default_vpc.this[0]","aws_default_vpc.this"]},"description":"Tenancy of instances spin up within Default VPC"},"default_vpc_main_route_table_id":{"expression":{"references":["aws_default_vpc.this[0].main_route_table_id","aws_default_vpc.this[0]","aws_default_vpc.this"]},"description":"The ID of the main route table associated with the Default VPC"},"dhcp_options_id":{"expression":{"references":["aws_vpc_dhcp_options.this[0].id","aws_vpc_dhcp_options.this[0]","aws_vpc_dhcp_options.this"]},"description":"The ID of the DHCP options"},"egress_only_internet_gateway_id":{"expression":{"references":["aws_egress_only_internet_gateway.this[0].id","aws_egress_only_internet_gateway.this[0]","aws_egress_only_internet_gateway.this"]},"description":"The ID of the egress only Internet Gateway"},"elasticache_network_acl_arn":{"expression":{"references":["aws_network_acl.elasticache[0].arn","aws_network_acl.elasticache[0]","aws_network_acl.elasticache"]},"description":"ARN of the elasticache network ACL"},"elasticache_network_acl_id":{"expression":{"references":["aws_network_acl.elasticache[0].id","aws_network_acl.elasticache[0]","aws_network_acl.elasticache"]},"description":"ID of the elasticache network ACL"},"elasticache_route_table_association_ids":{"expression":{"references":["aws_route_table_association.elasticache"]},"description":"List of IDs of the elasticache route table association"},"elasticache_route_table_ids":{"expression":{"references":["aws_route_table.elasticache","aws_route_table.private"]},"description":"List of IDs of elasticache route tables"},"elasticache_subnet_arns":{"expression":{"references":["aws_subnet.elasticache"]},"description":"List of ARNs of elasticache subnets"},"elasticache_subnet_group":{"expression":{"references":["aws_elasticache_subnet_group.elasticache[0].id","aws_elasticache_subnet_group.elasticache[0]","aws_elasticache_subnet_group.elasticache"]},"description":"ID of elasticache subnet group"},"elasticache_subnet_group_name":{"expression":{"references":["aws_elasticache_subnet_group.elasticache[0].name","aws_elasticache_subnet_group.elasticache[0]","aws_elasticache_subnet_group.elasticache"]},"description":"Name of elasticache subnet group"},"elasticache_subnets":{"expression":{"references":["aws_subnet.elasticache"]},"description":"List of IDs of elasticache subnets"},"elasticache_subnets_cidr_blocks":{"expression":{"references":["aws_subnet.elasticache"]},"description":"List of cidr_blocks of elasticache subnets"},"elasticache_subnets_ipv6_cidr_blocks":{"expression":{"references":["aws_subnet.elasticache"]},"description":"List of IPv6 cidr_blocks of elasticache subnets in an IPv6 enabled VPC"},"igw_arn":{"expression":{"references":["aws_internet_gateway.this[0].arn","aws_internet_gateway.this[0]","aws_internet_gateway.this"]},"description":"The ARN of the Internet Gateway"},"igw_id":{"expression":{"references":["aws_internet_gateway.this[0].id","aws_internet_gateway.this[0]","aws_internet_gateway.this"]},"description":"The ID of the Internet Gateway"},"intra_network_acl_arn":{"expression":{"references":["aws_network_acl.intra[0].arn","aws_network_acl.intra[0]","aws_network_acl.intra"]},"description":"ARN of the intra network ACL"},"intra_network_acl_id":{"expression":{"references":["aws_network_acl.intra[0].id","aws_network_acl.intra[0]","aws_network_acl.intra"]},"description":"ID of the intra network ACL"},"intra_route_table_association_ids":{"expression":{"references":["aws_route_table_association.intra"]},"description":"List of IDs of the intra route table association"},"intra_route_table_ids":{"expression":{"references":["aws_route_table.intra"]},"description":"List of IDs of intra route tables"},"intra_subnet_arns":{"expression":{"references":["aws_subnet.intra"]},"description":"List of ARNs of intra subnets"},"intra_subnets":{"expression":{"references":["aws_subnet.intra"]},"description":"List of IDs of intra subnets"},"intra_subnets_cidr_blocks":{"expression":{"references":["aws_subnet.intra"]},"description":"List of cidr_blocks of intra subnets"},"intra_subnets_ipv6_cidr_blocks":{"expression":{"references":["aws_subnet.intra"]},"description":"List of IPv6 cidr_blocks of intra subnets in an IPv6 enabled VPC"},"name":{"expression":{"references":["var.name"]},"description":"The name of the VPC specified as argument to this module"},"nat_ids":{"expression":{"references":["aws_eip.nat"]},"description":"List of allocation ID of Elastic IPs created for AWS NAT Gateway"},"nat_public_ips":{"expression":{"references":["var.reuse_nat_ips","var.external_nat_ips","aws_eip.nat"]},"description":"List of public Elastic IPs created for AWS NAT Gateway"},"natgw_ids":{"expression":{"references":["aws_nat_gateway.this"]},"description":"List of NAT Gateway IDs"},"outpost_network_acl_arn":{"expression":{"references":["aws_network_acl.outpost[0].arn","aws_network_acl.outpost[0]","aws_network_acl.outpost"]},"description":"ARN of the outpost network ACL"},"outpost_network_acl_id":{"expression":{"references":["aws_network_acl.outpost[0].id","aws_network_acl.outpost[0]","aws_network_acl.outpost"]},"description":"ID of the outpost network ACL"},"outpost_subnet_arns":{"expression":{"references":["aws_subnet.outpost"]},"description":"List of ARNs of outpost subnets"},"outpost_subnets":{"expression":{"references":["aws_subnet.outpost"]},"description":"List of IDs of outpost subnets"},"outpost_subnets_cidr_blocks":{"expression":{"references":["aws_subnet.outpost"]},"description":"List of cidr_blocks of outpost subnets"},"outpost_subnets_ipv6_cidr_blocks":{"expression":{"references":["aws_subnet.outpost"]},"description":"List of IPv6 cidr_blocks of outpost subnets in an IPv6 enabled VPC"},"private_ipv6_egress_route_ids":{"expression":{"references":["aws_route.private_ipv6_egress"]},"description":"List of IDs of the ipv6 egress route"},"private_nat_gateway_route_ids":{"expression":{"references":["aws_route.private_nat_gateway"]},"description":"List of IDs of the private nat gateway route"},"private_network_acl_arn":{"expression":{"references":["aws_network_acl.private[0].arn","aws_network_acl.private[0]","aws_network_acl.private"]},"description":"ARN of the private network ACL"},"private_network_acl_id":{"expression":{"references":["aws_network_acl.private[0].id","aws_network_acl.private[0]","aws_network_acl.private"]},"description":"ID of the private network ACL"},"private_route_table_association_ids":{"expression":{"references":["aws_route_table_association.private"]},"description":"List of IDs of the private route table association"},"private_route_table_ids":{"expression":{"references":["aws_route_table.private"]},"description":"List of IDs of private route tables"},"private_subnet_arns":{"expression":{"references":["aws_subnet.private"]},"description":"List of ARNs of private subnets"},"private_subnets":{"expression":{"references":["aws_subnet.private"]},"description":"List of IDs of private subnets"},"private_subnets_cidr_blocks":{"expression":{"references":["aws_subnet.private"]},"description":"List of cidr_blocks of private subnets"},"private_subnets_ipv6_cidr_blocks":{"expression":{"references":["aws_subnet.private"]},"description":"List of IPv6 cidr_blocks of private subnets in an IPv6 enabled VPC"},"public_internet_gateway_ipv6_route_id":{"expression":{"references":["aws_route.public_internet_gateway_ipv6[0].id","aws_route.public_internet_gateway_ipv6[0]","aws_route.public_internet_gateway_ipv6"]},"description":"ID of the IPv6 internet gateway route"},"public_internet_gateway_route_id":{"expression":{"references":["aws_route.public_internet_gateway[0].id","aws_route.public_internet_gateway[0]","aws_route.public_internet_gateway"]},"description":"ID of the internet gateway route"},"public_network_acl_arn":{"expression":{"references":["aws_network_acl.public[0].arn","aws_network_acl.public[0]","aws_network_acl.public"]},"description":"ARN of the public network ACL"},"public_network_acl_id":{"expression":{"references":["aws_network_acl.public[0].id","aws_network_acl.public[0]","aws_network_acl.public"]},"description":"ID of the public network ACL"},"public_route_table_association_ids":{"expression":{"references":["aws_route_table_association.public"]},"description":"List of IDs of the public route table association"},"public_route_table_ids":{"expression":{"references":["aws_route_table.public"]},"description":"List of IDs of public route tables"},"public_subnet_arns":{"expression":{"references":["aws_subnet.public"]},"description":"List of ARNs of public subnets"},"public_subnets":{"expression":{"references":["aws_subnet.public"]},"description":"List of IDs of public subnets"},"public_subnets_cidr_blocks":{"expression":{"references":["aws_subnet.public"]},"description":"List of cidr_blocks of public subnets"},"public_subnets_ipv6_cidr_blocks":{"expression":{"references":["aws_subnet.public"]},"description":"List of IPv6 cidr_blocks of public subnets in an IPv6 enabled VPC"},"redshift_network_acl_arn":{"expression":{"references":["aws_network_acl.redshift[0].arn","aws_network_acl.redshift[0]","aws_network_acl.redshift"]},"description":"ARN of the redshift network ACL"},"redshift_network_acl_id":{"expression":{"references":["aws_network_acl.redshift[0].id","aws_network_acl.redshift[0]","aws_network_acl.redshift"]},"description":"ID of the redshift network ACL"},"redshift_public_route_table_association_ids":{"expression":{"references":["aws_route_table_association.redshift_public"]},"description":"List of IDs of the public redshidt route table association"},"redshift_route_table_association_ids":{"expression":{"references":["aws_route_table_association.redshift"]},"description":"List of IDs of the redshift route table association"},"redshift_route_table_ids":{"expression":{"references":["aws_route_table.redshift","aws_route_table.redshift","var.enable_public_redshift","aws_route_table.public","aws_route_table.private"]},"description":"List of IDs of redshift route tables"},"redshift_subnet_arns":{"expression":{"references":["aws_subnet.redshift"]},"description":"List of ARNs of redshift subnets"},"redshift_subnet_group":{"expression":{"references":["aws_redshift_subnet_group.redshift[0].id","aws_redshift_subnet_group.redshift[0]","aws_redshift_subnet_group.redshift"]},"description":"ID of redshift subnet group"},"redshift_subnets":{"expression":{"references":["aws_subnet.redshift"]},"description":"List of IDs of redshift subnets"},"redshift_subnets_cidr_blocks":{"expression":{"references":["aws_subnet.redshift"]},"description":"List of cidr_blocks of redshift subnets"},"redshift_subnets_ipv6_cidr_blocks":{"expression":{"references":["aws_subnet.redshift"]},"description":"List of IPv6 cidr_blocks of redshift subnets in an IPv6 enabled VPC"},"this_customer_gateway":{"expression":{"references":["aws_customer_gateway.this"]},"description":"Map of Customer Gateway attributes"},"vgw_arn":{"expression":{"references":["aws_vpn_gateway.this[0].arn","aws_vpn_gateway.this[0]","aws_vpn_gateway.this"]},"description":"The ARN of the VPN Gateway"},"vgw_id":{"expression":{"references":["aws_vpn_gateway.this[0].id","aws_vpn_gateway.this[0]","aws_vpn_gateway.this","aws_vpn_gateway_attachment.this[0].vpn_gateway_id","aws_vpn_gateway_attachment.this[0]","aws_vpn_gateway_attachment.this"]},"description":"The ID of the VPN Gateway"},"vpc_arn":{"expression":{"references":["aws_vpc.this[0].arn","aws_vpc.this[0]","aws_vpc.this"]},"description":"The ARN of the VPC"},"vpc_cidr_block":{"expression":{"references":["aws_vpc.this[0].cidr_block","aws_vpc.this[0]","aws_vpc.this"]},"description":"The CIDR block of the VPC"},"vpc_enable_dns_hostnames":{"expression":{"references":["aws_vpc.this[0].enable_dns_hostnames","aws_vpc.this[0]","aws_vpc.this"]},"description":"Whether or not the VPC has DNS hostname support"},"vpc_enable_dns_support":{"expression":{"references":["aws_vpc.this[0].enable_dns_support","aws_vpc.this[0]","aws_vpc.this"]},"description":"Whether or not the VPC has DNS support"},"vpc_flow_log_cloudwatch_iam_role_arn":{"expression":{"references":["local.flow_log_iam_role_arn"]},"description":"The ARN of the IAM role used when pushing logs to Cloudwatch log group"},"vpc_flow_log_destination_arn":{"expression":{"references":["local.flow_log_destination_arn"]},"description":"The ARN of the destination for VPC Flow Logs"},"vpc_flow_log_destination_type":{"expression":{"references":["var.flow_log_destination_type"]},"description":"The type of the destination for VPC Flow Logs"},"vpc_flow_log_id":{"expression":{"references":["aws_flow_log.this[0].id","aws_flow_log.this[0]","aws_flow_log.this"]},"description":"The ID of the Flow Log resource"},"vpc_id":{"expression":{"references":["aws_vpc.this[0].id","aws_vpc.this[0]","aws_vpc.this"]},"description":"The ID of the VPC"},"vpc_instance_tenancy":{"expression":{"references":["aws_vpc.this[0].instance_tenancy","aws_vpc.this[0]","aws_vpc.this"]},"description":"Tenancy of instances spin up within VPC"},"vpc_ipv6_association_id":{"expression":{"references":["aws_vpc.this[0].ipv6_association_id","aws_vpc.this[0]","aws_vpc.this"]},"description":"The association ID for the IPv6 CIDR block"},"vpc_ipv6_cidr_block":{"expression":{"references":["aws_vpc.this[0].ipv6_cidr_block","aws_vpc.this[0]","aws_vpc.this"]},"description":"The IPv6 CIDR block"},"vpc_main_route_table_id":{"expression":{"references":["aws_vpc.this[0].main_route_table_id","aws_vpc.this[0]","aws_vpc.this"]},"description":"The ID of the main route table associated with this VPC"},"vpc_owner_id":{"expression":{"references":["aws_vpc.this[0].owner_id","aws_vpc.this[0]","aws_vpc.this"]},"description":"The ID of the AWS account that owns the VPC"},"vpc_secondary_cidr_blocks":{"expression":{"references":["aws_vpc_ipv4_cidr_block_association.this"]},"description":"List of secondary CIDR blocks of the VPC"}},"resources":[{"address":"aws_cloudwatch_log_group.flow_log","mode":"managed","type":"aws_cloudwatch_log_group","name":"flow_log","provider_config_key":"module.vpc.module.network:aws","expressions":{"kms_key_id":{"references":["var.flow_log_cloudwatch_log_group_kms_key_id"]},"name":{"references":["var.flow_log_cloudwatch_log_group_name_prefix","local.vpc_id"]},"retention_in_days":{"references":["var.flow_log_cloudwatch_log_group_retention_in_days"]},"tags":{"references":["var.tags","var.vpc_flow_log_tags"]}},"schema_version":0,"count_expression":{"references":["local.create_flow_log_cloudwatch_log_group"]}},{"address":"aws_customer_gateway.this","mode":"managed","type":"aws_customer_gateway","name":"this","provider_config_key":"module.vpc.module.network:aws","expressions":{"bgp_asn":{"references":["each.value[\"bgp_asn\"]","each.value"]},"device_name":{"references":["each.value"]},"ip_address":{"references":["each.value[\"ip_address\"]","each.value"]},"tags":{"references":["var.name","each.key","var.tags","var.customer_gateway_tags"]},"type":{"constant_value":"ipsec.1"}},"schema_version":0,"for_each_expression":{"references":["var.customer_gateways"]}},{"address":"aws_db_subnet_group.database","mode":"managed","type":"aws_db_subnet_group","name":"database","provider_config_key":"module.vpc.module.network:aws","expressions":{"description":{"references":["var.name"]},"name":{"references":["var.database_subnet_group_name","var.name"]},"subnet_ids":{"references":["aws_subnet.database"]},"tags":{"references":["var.database_subnet_group_name","var.name","var.tags","var.database_subnet_group_tags"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.database_subnets","var.create_database_subnet_group"]}},{"address":"aws_default_network_acl.this","mode":"managed","type":"aws_default_network_acl","name":"this","provider_config_key":"module.vpc.module.network:aws","expressions":{"default_network_acl_id":{"references":["aws_vpc.this[0].default_network_acl_id","aws_vpc.this[0]","aws_vpc.this"]},"subnet_ids":{"constant_value":null},"tags":{"references":["var.default_network_acl_name","var.name","var.tags","var.default_network_acl_tags"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.manage_default_network_acl"]}},{"address":"aws_default_route_table.default","mode":"managed","type":"aws_default_route_table","name":"default","provider_config_key":"module.vpc.module.network:aws","expressions":{"default_route_table_id":{"references":["aws_vpc.this[0].default_route_table_id","aws_vpc.this[0]","aws_vpc.this"]},"propagating_vgws":{"references":["var.default_route_table_propagating_vgws"]},"tags":{"references":["var.default_route_table_name","var.name","var.tags","var.default_route_table_tags"]},"timeouts":{"create":{"constant_value":"5m"},"update":{"constant_value":"5m"}}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.manage_default_route_table"]}},{"address":"aws_default_security_group.this","mode":"managed","type":"aws_default_security_group","name":"this","provider_config_key":"module.vpc.module.network:aws","expressions":{"tags":{"references":["var.default_security_group_name","var.name","var.tags","var.default_security_group_tags"]},"vpc_id":{"references":["aws_vpc.this[0].id","aws_vpc.this[0]","aws_vpc.this"]}},"schema_version":1,"count_expression":{"references":["local.create_vpc","var.manage_default_security_group"]}},{"address":"aws_default_vpc.this","mode":"managed","type":"aws_default_vpc","name":"this","provider_config_key":"module.vpc.module.network:aws","expressions":{"enable_classiclink":{"references":["var.default_vpc_enable_classiclink"]},"enable_dns_hostnames":{"references":["var.default_vpc_enable_dns_hostnames"]},"enable_dns_support":{"references":["var.default_vpc_enable_dns_support"]},"tags":{"references":["var.default_vpc_name","var.tags","var.default_vpc_tags"]}},"schema_version":1,"count_expression":{"references":["var.manage_default_vpc"]}},{"address":"aws_egress_only_internet_gateway.this","mode":"managed","type":"aws_egress_only_internet_gateway","name":"this","provider_config_key":"module.vpc.module.network:aws","expressions":{"tags":{"references":["var.name","var.tags","var.igw_tags"]},"vpc_id":{"references":["local.vpc_id"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.create_egress_only_igw","var.enable_ipv6","local.max_subnet_length"]}},{"address":"aws_eip.nat","mode":"managed","type":"aws_eip","name":"nat","provider_config_key":"module.vpc.module.network:aws","expressions":{"tags":{"references":["var.name","var.azs","var.single_nat_gateway","count.index","var.tags","var.nat_eip_tags"]},"vpc":{"constant_value":true}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.enable_nat_gateway","var.reuse_nat_ips","local.nat_gateway_count"]}},{"address":"aws_elasticache_subnet_group.elasticache","mode":"managed","type":"aws_elasticache_subnet_group","name":"elasticache","provider_config_key":"module.vpc.module.network:aws","expressions":{"description":{"references":["var.name"]},"name":{"references":["var.elasticache_subnet_group_name","var.name"]},"subnet_ids":{"references":["aws_subnet.elasticache"]},"tags":{"references":["var.elasticache_subnet_group_name","var.name","var.tags","var.elasticache_subnet_group_tags"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.elasticache_subnets","var.create_elasticache_subnet_group"]}},{"address":"aws_flow_log.this","mode":"managed","type":"aws_flow_log","name":"this","provider_config_key":"module.vpc.module.network:aws","expressions":{"iam_role_arn":{"references":["local.flow_log_iam_role_arn"]},"log_destination":{"references":["local.flow_log_destination_arn"]},"log_destination_type":{"references":["var.flow_log_destination_type"]},"log_format":{"references":["var.flow_log_log_format"]},"max_aggregation_interval":{"references":["var.flow_log_max_aggregation_interval"]},"tags":{"references":["var.tags","var.vpc_flow_log_tags"]},"traffic_type":{"references":["var.flow_log_traffic_type"]},"vpc_id":{"references":["local.vpc_id"]}},"schema_version":0,"count_expression":{"references":["local.enable_flow_log"]}},{"address":"aws_iam_policy.vpc_flow_log_cloudwatch","mode":"managed","type":"aws_iam_policy","name":"vpc_flow_log_cloudwatch","provider_config_key":"module.vpc.module.network:aws","expressions":{"name_prefix":{"constant_value":"vpc-flow-log-to-cloudwatch-"},"policy":{"references":["data.aws_iam_policy_document.vpc_flow_log_cloudwatch[0].json","data.aws_iam_policy_document.vpc_flow_log_cloudwatch[0]","data.aws_iam_policy_document.vpc_flow_log_cloudwatch"]},"tags":{"references":["var.tags","var.vpc_flow_log_tags"]}},"schema_version":0,"count_expression":{"references":["local.create_flow_log_cloudwatch_iam_role"]}},{"address":"aws_iam_role.vpc_flow_log_cloudwatch","mode":"managed","type":"aws_iam_role","name":"vpc_flow_log_cloudwatch","provider_config_key":"module.vpc.module.network:aws","expressions":{"assume_role_policy":{"references":["data.aws_iam_policy_document.flow_log_cloudwatch_assume_role[0].json","data.aws_iam_policy_document.flow_log_cloudwatch_assume_role[0]","data.aws_iam_policy_document.flow_log_cloudwatch_assume_role"]},"name_prefix":{"constant_value":"vpc-flow-log-role-"},"permissions_boundary":{"references":["var.vpc_flow_log_permissions_boundary"]},"tags":{"references":["var.tags","var.vpc_flow_log_tags"]}},"schema_version":0,"count_expression":{"references":["local.create_flow_log_cloudwatch_iam_role"]}},{"address":"aws_iam_role_policy_attachment.vpc_flow_log_cloudwatch","mode":"managed","type":"aws_iam_role_policy_attachment","name":"vpc_flow_log_cloudwatch","provider_config_key":"module.vpc.module.network:aws","expressions":{"policy_arn":{"references":["aws_iam_policy.vpc_flow_log_cloudwatch[0].arn","aws_iam_policy.vpc_flow_log_cloudwatch[0]","aws_iam_policy.vpc_flow_log_cloudwatch"]},"role":{"references":["aws_iam_role.vpc_flow_log_cloudwatch[0].name","aws_iam_role.vpc_flow_log_cloudwatch[0]","aws_iam_role.vpc_flow_log_cloudwatch"]}},"schema_version":0,"count_expression":{"references":["local.create_flow_log_cloudwatch_iam_role"]}},{"address":"aws_internet_gateway.this","mode":"managed","type":"aws_internet_gateway","name":"this","provider_config_key":"module.vpc.module.network:aws","expressions":{"tags":{"references":["var.name","var.tags","var.igw_tags"]},"vpc_id":{"references":["local.vpc_id"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.create_igw","var.public_subnets"]}},{"address":"aws_nat_gateway.this","mode":"managed","type":"aws_nat_gateway","name":"this","provider_config_key":"module.vpc.module.network:aws","expressions":{"allocation_id":{"references":["local.nat_gateway_ips","var.single_nat_gateway","count.index"]},"subnet_id":{"references":["aws_subnet.public","var.single_nat_gateway","count.index"]},"tags":{"references":["var.name","var.azs","var.single_nat_gateway","count.index","var.tags","var.nat_gateway_tags"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.enable_nat_gateway","local.nat_gateway_count"]},"depends_on":["aws_internet_gateway.this"]},{"address":"aws_network_acl.database","mode":"managed","type":"aws_network_acl","name":"database","provider_config_key":"module.vpc.module.network:aws","expressions":{"subnet_ids":{"references":["aws_subnet.database"]},"tags":{"references":["var.name","var.database_subnet_suffix","var.tags","var.database_acl_tags"]},"vpc_id":{"references":["local.vpc_id"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.database_dedicated_network_acl","var.database_subnets"]}},{"address":"aws_network_acl.elasticache","mode":"managed","type":"aws_network_acl","name":"elasticache","provider_config_key":"module.vpc.module.network:aws","expressions":{"subnet_ids":{"references":["aws_subnet.elasticache"]},"tags":{"references":["var.name","var.elasticache_subnet_suffix","var.tags","var.elasticache_acl_tags"]},"vpc_id":{"references":["local.vpc_id"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.elasticache_dedicated_network_acl","var.elasticache_subnets"]}},{"address":"aws_network_acl.intra","mode":"managed","type":"aws_network_acl","name":"intra","provider_config_key":"module.vpc.module.network:aws","expressions":{"subnet_ids":{"references":["aws_subnet.intra"]},"tags":{"references":["var.name","var.intra_subnet_suffix","var.tags","var.intra_acl_tags"]},"vpc_id":{"references":["local.vpc_id"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.intra_dedicated_network_acl","var.intra_subnets"]}},{"address":"aws_network_acl.outpost","mode":"managed","type":"aws_network_acl","name":"outpost","provider_config_key":"module.vpc.module.network:aws","expressions":{"subnet_ids":{"references":["aws_subnet.outpost"]},"tags":{"references":["var.name","var.outpost_subnet_suffix","var.tags","var.outpost_acl_tags"]},"vpc_id":{"references":["local.vpc_id"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.outpost_dedicated_network_acl","var.outpost_subnets"]}},{"address":"aws_network_acl.private","mode":"managed","type":"aws_network_acl","name":"private","provider_config_key":"module.vpc.module.network:aws","expressions":{"subnet_ids":{"references":["aws_subnet.private"]},"tags":{"references":["var.name","var.private_subnet_suffix","var.tags","var.private_acl_tags"]},"vpc_id":{"references":["local.vpc_id"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.private_dedicated_network_acl","var.private_subnets"]}},{"address":"aws_network_acl.public","mode":"managed","type":"aws_network_acl","name":"public","provider_config_key":"module.vpc.module.network:aws","expressions":{"subnet_ids":{"references":["aws_subnet.public"]},"tags":{"references":["var.name","var.public_subnet_suffix","var.tags","var.public_acl_tags"]},"vpc_id":{"references":["local.vpc_id"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.public_dedicated_network_acl","var.public_subnets"]}},{"address":"aws_network_acl.redshift","mode":"managed","type":"aws_network_acl","name":"redshift","provider_config_key":"module.vpc.module.network:aws","expressions":{"subnet_ids":{"references":["aws_subnet.redshift"]},"tags":{"references":["var.name","var.redshift_subnet_suffix","var.tags","var.redshift_acl_tags"]},"vpc_id":{"references":["local.vpc_id"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.redshift_dedicated_network_acl","var.redshift_subnets"]}},{"address":"aws_network_acl_rule.database_inbound","mode":"managed","type":"aws_network_acl_rule","name":"database_inbound","provider_config_key":"module.vpc.module.network:aws","expressions":{"cidr_block":{"references":["var.database_inbound_acl_rules","count.index"]},"egress":{"constant_value":false},"from_port":{"references":["var.database_inbound_acl_rules","count.index"]},"icmp_code":{"references":["var.database_inbound_acl_rules","count.index"]},"icmp_type":{"references":["var.database_inbound_acl_rules","count.index"]},"ipv6_cidr_block":{"references":["var.database_inbound_acl_rules","count.index"]},"network_acl_id":{"references":["aws_network_acl.database[0].id","aws_network_acl.database[0]","aws_network_acl.database"]},"protocol":{"references":["var.database_inbound_acl_rules","count.index"]},"rule_action":{"references":["var.database_inbound_acl_rules","count.index"]},"rule_number":{"references":["var.database_inbound_acl_rules","count.index"]},"to_port":{"references":["var.database_inbound_acl_rules","count.index"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.database_dedicated_network_acl","var.database_subnets","var.database_inbound_acl_rules"]}},{"address":"aws_network_acl_rule.database_outbound","mode":"managed","type":"aws_network_acl_rule","name":"database_outbound","provider_config_key":"module.vpc.module.network:aws","expressions":{"cidr_block":{"references":["var.database_outbound_acl_rules","count.index"]},"egress":{"constant_value":true},"from_port":{"references":["var.database_outbound_acl_rules","count.index"]},"icmp_code":{"references":["var.database_outbound_acl_rules","count.index"]},"icmp_type":{"references":["var.database_outbound_acl_rules","count.index"]},"ipv6_cidr_block":{"references":["var.database_outbound_acl_rules","count.index"]},"network_acl_id":{"references":["aws_network_acl.database[0].id","aws_network_acl.database[0]","aws_network_acl.database"]},"protocol":{"references":["var.database_outbound_acl_rules","count.index"]},"rule_action":{"references":["var.database_outbound_acl_rules","count.index"]},"rule_number":{"references":["var.database_outbound_acl_rules","count.index"]},"to_port":{"references":["var.database_outbound_acl_rules","count.index"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.database_dedicated_network_acl","var.database_subnets","var.database_outbound_acl_rules"]}},{"address":"aws_network_acl_rule.elasticache_inbound","mode":"managed","type":"aws_network_acl_rule","name":"elasticache_inbound","provider_config_key":"module.vpc.module.network:aws","expressions":{"cidr_block":{"references":["var.elasticache_inbound_acl_rules","count.index"]},"egress":{"constant_value":false},"from_port":{"references":["var.elasticache_inbound_acl_rules","count.index"]},"icmp_code":{"references":["var.elasticache_inbound_acl_rules","count.index"]},"icmp_type":{"references":["var.elasticache_inbound_acl_rules","count.index"]},"ipv6_cidr_block":{"references":["var.elasticache_inbound_acl_rules","count.index"]},"network_acl_id":{"references":["aws_network_acl.elasticache[0].id","aws_network_acl.elasticache[0]","aws_network_acl.elasticache"]},"protocol":{"references":["var.elasticache_inbound_acl_rules","count.index"]},"rule_action":{"references":["var.elasticache_inbound_acl_rules","count.index"]},"rule_number":{"references":["var.elasticache_inbound_acl_rules","count.index"]},"to_port":{"references":["var.elasticache_inbound_acl_rules","count.index"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.elasticache_dedicated_network_acl","var.elasticache_subnets","var.elasticache_inbound_acl_rules"]}},{"address":"aws_network_acl_rule.elasticache_outbound","mode":"managed","type":"aws_network_acl_rule","name":"elasticache_outbound","provider_config_key":"module.vpc.module.network:aws","expressions":{"cidr_block":{"references":["var.elasticache_outbound_acl_rules","count.index"]},"egress":{"constant_value":true},"from_port":{"references":["var.elasticache_outbound_acl_rules","count.index"]},"icmp_code":{"references":["var.elasticache_outbound_acl_rules","count.index"]},"icmp_type":{"references":["var.elasticache_outbound_acl_rules","count.index"]},"ipv6_cidr_block":{"references":["var.elasticache_outbound_acl_rules","count.index"]},"network_acl_id":{"references":["aws_network_acl.elasticache[0].id","aws_network_acl.elasticache[0]","aws_network_acl.elasticache"]},"protocol":{"references":["var.elasticache_outbound_acl_rules","count.index"]},"rule_action":{"references":["var.elasticache_outbound_acl_rules","count.index"]},"rule_number":{"references":["var.elasticache_outbound_acl_rules","count.index"]},"to_port":{"references":["var.elasticache_outbound_acl_rules","count.index"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.elasticache_dedicated_network_acl","var.elasticache_subnets","var.elasticache_outbound_acl_rules"]}},{"address":"aws_network_acl_rule.intra_inbound","mode":"managed","type":"aws_network_acl_rule","name":"intra_inbound","provider_config_key":"module.vpc.module.network:aws","expressions":{"cidr_block":{"references":["var.intra_inbound_acl_rules","count.index"]},"egress":{"constant_value":false},"from_port":{"references":["var.intra_inbound_acl_rules","count.index"]},"icmp_code":{"references":["var.intra_inbound_acl_rules","count.index"]},"icmp_type":{"references":["var.intra_inbound_acl_rules","count.index"]},"ipv6_cidr_block":{"references":["var.intra_inbound_acl_rules","count.index"]},"network_acl_id":{"references":["aws_network_acl.intra[0].id","aws_network_acl.intra[0]","aws_network_acl.intra"]},"protocol":{"references":["var.intra_inbound_acl_rules","count.index"]},"rule_action":{"references":["var.intra_inbound_acl_rules","count.index"]},"rule_number":{"references":["var.intra_inbound_acl_rules","count.index"]},"to_port":{"references":["var.intra_inbound_acl_rules","count.index"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.intra_dedicated_network_acl","var.intra_subnets","var.intra_inbound_acl_rules"]}},{"address":"aws_network_acl_rule.intra_outbound","mode":"managed","type":"aws_network_acl_rule","name":"intra_outbound","provider_config_key":"module.vpc.module.network:aws","expressions":{"cidr_block":{"references":["var.intra_outbound_acl_rules","count.index"]},"egress":{"constant_value":true},"from_port":{"references":["var.intra_outbound_acl_rules","count.index"]},"icmp_code":{"references":["var.intra_outbound_acl_rules","count.index"]},"icmp_type":{"references":["var.intra_outbound_acl_rules","count.index"]},"ipv6_cidr_block":{"references":["var.intra_outbound_acl_rules","count.index"]},"network_acl_id":{"references":["aws_network_acl.intra[0].id","aws_network_acl.intra[0]","aws_network_acl.intra"]},"protocol":{"references":["var.intra_outbound_acl_rules","count.index"]},"rule_action":{"references":["var.intra_outbound_acl_rules","count.index"]},"rule_number":{"references":["var.intra_outbound_acl_rules","count.index"]},"to_port":{"references":["var.intra_outbound_acl_rules","count.index"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.intra_dedicated_network_acl","var.intra_subnets","var.intra_outbound_acl_rules"]}},{"address":"aws_network_acl_rule.outpost_inbound","mode":"managed","type":"aws_network_acl_rule","name":"outpost_inbound","provider_config_key":"module.vpc.module.network:aws","expressions":{"cidr_block":{"references":["var.outpost_inbound_acl_rules","count.index"]},"egress":{"constant_value":false},"from_port":{"references":["var.outpost_inbound_acl_rules","count.index"]},"icmp_code":{"references":["var.outpost_inbound_acl_rules","count.index"]},"icmp_type":{"references":["var.outpost_inbound_acl_rules","count.index"]},"ipv6_cidr_block":{"references":["var.outpost_inbound_acl_rules","count.index"]},"network_acl_id":{"references":["aws_network_acl.outpost[0].id","aws_network_acl.outpost[0]","aws_network_acl.outpost"]},"protocol":{"references":["var.outpost_inbound_acl_rules","count.index"]},"rule_action":{"references":["var.outpost_inbound_acl_rules","count.index"]},"rule_number":{"references":["var.outpost_inbound_acl_rules","count.index"]},"to_port":{"references":["var.outpost_inbound_acl_rules","count.index"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.outpost_dedicated_network_acl","var.outpost_subnets","var.outpost_inbound_acl_rules"]}},{"address":"aws_network_acl_rule.outpost_outbound","mode":"managed","type":"aws_network_acl_rule","name":"outpost_outbound","provider_config_key":"module.vpc.module.network:aws","expressions":{"cidr_block":{"references":["var.outpost_outbound_acl_rules","count.index"]},"egress":{"constant_value":true},"from_port":{"references":["var.outpost_outbound_acl_rules","count.index"]},"icmp_code":{"references":["var.outpost_outbound_acl_rules","count.index"]},"icmp_type":{"references":["var.outpost_outbound_acl_rules","count.index"]},"ipv6_cidr_block":{"references":["var.outpost_outbound_acl_rules","count.index"]},"network_acl_id":{"references":["aws_network_acl.outpost[0].id","aws_network_acl.outpost[0]","aws_network_acl.outpost"]},"protocol":{"references":["var.outpost_outbound_acl_rules","count.index"]},"rule_action":{"references":["var.outpost_outbound_acl_rules","count.index"]},"rule_number":{"references":["var.outpost_outbound_acl_rules","count.index"]},"to_port":{"references":["var.outpost_outbound_acl_rules","count.index"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.outpost_dedicated_network_acl","var.outpost_subnets","var.outpost_outbound_acl_rules"]}},{"address":"aws_network_acl_rule.private_inbound","mode":"managed","type":"aws_network_acl_rule","name":"private_inbound","provider_config_key":"module.vpc.module.network:aws","expressions":{"cidr_block":{"references":["var.private_inbound_acl_rules","count.index"]},"egress":{"constant_value":false},"from_port":{"references":["var.private_inbound_acl_rules","count.index"]},"icmp_code":{"references":["var.private_inbound_acl_rules","count.index"]},"icmp_type":{"references":["var.private_inbound_acl_rules","count.index"]},"ipv6_cidr_block":{"references":["var.private_inbound_acl_rules","count.index"]},"network_acl_id":{"references":["aws_network_acl.private[0].id","aws_network_acl.private[0]","aws_network_acl.private"]},"protocol":{"references":["var.private_inbound_acl_rules","count.index"]},"rule_action":{"references":["var.private_inbound_acl_rules","count.index"]},"rule_number":{"references":["var.private_inbound_acl_rules","count.index"]},"to_port":{"references":["var.private_inbound_acl_rules","count.index"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.private_dedicated_network_acl","var.private_subnets","var.private_inbound_acl_rules"]}},{"address":"aws_network_acl_rule.private_outbound","mode":"managed","type":"aws_network_acl_rule","name":"private_outbound","provider_config_key":"module.vpc.module.network:aws","expressions":{"cidr_block":{"references":["var.private_outbound_acl_rules","count.index"]},"egress":{"constant_value":true},"from_port":{"references":["var.private_outbound_acl_rules","count.index"]},"icmp_code":{"references":["var.private_outbound_acl_rules","count.index"]},"icmp_type":{"references":["var.private_outbound_acl_rules","count.index"]},"ipv6_cidr_block":{"references":["var.private_outbound_acl_rules","count.index"]},"network_acl_id":{"references":["aws_network_acl.private[0].id","aws_network_acl.private[0]","aws_network_acl.private"]},"protocol":{"references":["var.private_outbound_acl_rules","count.index"]},"rule_action":{"references":["var.private_outbound_acl_rules","count.index"]},"rule_number":{"references":["var.private_outbound_acl_rules","count.index"]},"to_port":{"references":["var.private_outbound_acl_rules","count.index"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.private_dedicated_network_acl","var.private_subnets","var.private_outbound_acl_rules"]}},{"address":"aws_network_acl_rule.public_inbound","mode":"managed","type":"aws_network_acl_rule","name":"public_inbound","provider_config_key":"module.vpc.module.network:aws","expressions":{"cidr_block":{"references":["var.public_inbound_acl_rules","count.index"]},"egress":{"constant_value":false},"from_port":{"references":["var.public_inbound_acl_rules","count.index"]},"icmp_code":{"references":["var.public_inbound_acl_rules","count.index"]},"icmp_type":{"references":["var.public_inbound_acl_rules","count.index"]},"ipv6_cidr_block":{"references":["var.public_inbound_acl_rules","count.index"]},"network_acl_id":{"references":["aws_network_acl.public[0].id","aws_network_acl.public[0]","aws_network_acl.public"]},"protocol":{"references":["var.public_inbound_acl_rules","count.index"]},"rule_action":{"references":["var.public_inbound_acl_rules","count.index"]},"rule_number":{"references":["var.public_inbound_acl_rules","count.index"]},"to_port":{"references":["var.public_inbound_acl_rules","count.index"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.public_dedicated_network_acl","var.public_subnets","var.public_inbound_acl_rules"]}},{"address":"aws_network_acl_rule.public_outbound","mode":"managed","type":"aws_network_acl_rule","name":"public_outbound","provider_config_key":"module.vpc.module.network:aws","expressions":{"cidr_block":{"references":["var.public_outbound_acl_rules","count.index"]},"egress":{"constant_value":true},"from_port":{"references":["var.public_outbound_acl_rules","count.index"]},"icmp_code":{"references":["var.public_outbound_acl_rules","count.index"]},"icmp_type":{"references":["var.public_outbound_acl_rules","count.index"]},"ipv6_cidr_block":{"references":["var.public_outbound_acl_rules","count.index"]},"network_acl_id":{"references":["aws_network_acl.public[0].id","aws_network_acl.public[0]","aws_network_acl.public"]},"protocol":{"references":["var.public_outbound_acl_rules","count.index"]},"rule_action":{"references":["var.public_outbound_acl_rules","count.index"]},"rule_number":{"references":["var.public_outbound_acl_rules","count.index"]},"to_port":{"references":["var.public_outbound_acl_rules","count.index"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.public_dedicated_network_acl","var.public_subnets","var.public_outbound_acl_rules"]}},{"address":"aws_network_acl_rule.redshift_inbound","mode":"managed","type":"aws_network_acl_rule","name":"redshift_inbound","provider_config_key":"module.vpc.module.network:aws","expressions":{"cidr_block":{"references":["var.redshift_inbound_acl_rules","count.index"]},"egress":{"constant_value":false},"from_port":{"references":["var.redshift_inbound_acl_rules","count.index"]},"icmp_code":{"references":["var.redshift_inbound_acl_rules","count.index"]},"icmp_type":{"references":["var.redshift_inbound_acl_rules","count.index"]},"ipv6_cidr_block":{"references":["var.redshift_inbound_acl_rules","count.index"]},"network_acl_id":{"references":["aws_network_acl.redshift[0].id","aws_network_acl.redshift[0]","aws_network_acl.redshift"]},"protocol":{"references":["var.redshift_inbound_acl_rules","count.index"]},"rule_action":{"references":["var.redshift_inbound_acl_rules","count.index"]},"rule_number":{"references":["var.redshift_inbound_acl_rules","count.index"]},"to_port":{"references":["var.redshift_inbound_acl_rules","count.index"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.redshift_dedicated_network_acl","var.redshift_subnets","var.redshift_inbound_acl_rules"]}},{"address":"aws_network_acl_rule.redshift_outbound","mode":"managed","type":"aws_network_acl_rule","name":"redshift_outbound","provider_config_key":"module.vpc.module.network:aws","expressions":{"cidr_block":{"references":["var.redshift_outbound_acl_rules","count.index"]},"egress":{"constant_value":true},"from_port":{"references":["var.redshift_outbound_acl_rules","count.index"]},"icmp_code":{"references":["var.redshift_outbound_acl_rules","count.index"]},"icmp_type":{"references":["var.redshift_outbound_acl_rules","count.index"]},"ipv6_cidr_block":{"references":["var.redshift_outbound_acl_rules","count.index"]},"network_acl_id":{"references":["aws_network_acl.redshift[0].id","aws_network_acl.redshift[0]","aws_network_acl.redshift"]},"protocol":{"references":["var.redshift_outbound_acl_rules","count.index"]},"rule_action":{"references":["var.redshift_outbound_acl_rules","count.index"]},"rule_number":{"references":["var.redshift_outbound_acl_rules","count.index"]},"to_port":{"references":["var.redshift_outbound_acl_rules","count.index"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.redshift_dedicated_network_acl","var.redshift_subnets","var.redshift_outbound_acl_rules"]}},{"address":"aws_redshift_subnet_group.redshift","mode":"managed","type":"aws_redshift_subnet_group","name":"redshift","provider_config_key":"module.vpc.module.network:aws","expressions":{"description":{"references":["var.name"]},"name":{"references":["var.redshift_subnet_group_name","var.name"]},"subnet_ids":{"references":["aws_subnet.redshift"]},"tags":{"references":["var.redshift_subnet_group_name","var.name","var.tags","var.redshift_subnet_group_tags"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.redshift_subnets","var.create_redshift_subnet_group"]}},{"address":"aws_route.database_internet_gateway","mode":"managed","type":"aws_route","name":"database_internet_gateway","provider_config_key":"module.vpc.module.network:aws","expressions":{"destination_cidr_block":{"constant_value":"0.0.0.0/0"},"gateway_id":{"references":["aws_internet_gateway.this[0].id","aws_internet_gateway.this[0]","aws_internet_gateway.this"]},"route_table_id":{"references":["aws_route_table.database[0].id","aws_route_table.database[0]","aws_route_table.database"]},"timeouts":{"create":{"constant_value":"5m"}}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.create_igw","var.create_database_subnet_route_table","var.database_subnets","var.create_database_internet_gateway_route","var.create_database_nat_gateway_route"]}},{"address":"aws_route.database_ipv6_egress","mode":"managed","type":"aws_route","name":"database_ipv6_egress","provider_config_key":"module.vpc.module.network:aws","expressions":{"destination_ipv6_cidr_block":{"constant_value":"::/0"},"egress_only_gateway_id":{"references":["aws_egress_only_internet_gateway.this[0].id","aws_egress_only_internet_gateway.this[0]","aws_egress_only_internet_gateway.this"]},"route_table_id":{"references":["aws_route_table.database[0].id","aws_route_table.database[0]","aws_route_table.database"]},"timeouts":{"create":{"constant_value":"5m"}}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.create_egress_only_igw","var.enable_ipv6","var.create_database_subnet_route_table","var.database_subnets","var.create_database_internet_gateway_route"]}},{"address":"aws_route.database_nat_gateway","mode":"managed","type":"aws_route","name":"database_nat_gateway","provider_config_key":"module.vpc.module.network:aws","expressions":{"destination_cidr_block":{"constant_value":"0.0.0.0/0"},"nat_gateway_id":{"references":["aws_nat_gateway.this","count.index"]},"route_table_id":{"references":["aws_route_table.database","count.index"]},"timeouts":{"create":{"constant_value":"5m"}}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.create_database_subnet_route_table","var.database_subnets","var.create_database_internet_gateway_route","var.create_database_nat_gateway_route","var.enable_nat_gateway","var.single_nat_gateway","var.database_subnets"]}},{"address":"aws_route.private_ipv6_egress","mode":"managed","type":"aws_route","name":"private_ipv6_egress","provider_config_key":"module.vpc.module.network:aws","expressions":{"destination_ipv6_cidr_block":{"constant_value":"::/0"},"egress_only_gateway_id":{"references":["aws_egress_only_internet_gateway.this"]},"route_table_id":{"references":["aws_route_table.private","count.index"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.create_egress_only_igw","var.enable_ipv6","var.private_subnets"]}},{"address":"aws_route.private_nat_gateway","mode":"managed","type":"aws_route","name":"private_nat_gateway","provider_config_key":"module.vpc.module.network:aws","expressions":{"destination_cidr_block":{"references":["var.nat_gateway_destination_cidr_block"]},"nat_gateway_id":{"references":["aws_nat_gateway.this","count.index"]},"route_table_id":{"references":["aws_route_table.private","count.index"]},"timeouts":{"create":{"constant_value":"5m"}}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.enable_nat_gateway","local.nat_gateway_count"]}},{"address":"aws_route.public_internet_gateway","mode":"managed","type":"aws_route","name":"public_internet_gateway","provider_config_key":"module.vpc.module.network:aws","expressions":{"destination_cidr_block":{"constant_value":"0.0.0.0/0"},"gateway_id":{"references":["aws_internet_gateway.this[0].id","aws_internet_gateway.this[0]","aws_internet_gateway.this"]},"route_table_id":{"references":["aws_route_table.public[0].id","aws_route_table.public[0]","aws_route_table.public"]},"timeouts":{"create":{"constant_value":"5m"}}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.create_igw","var.public_subnets"]}},{"address":"aws_route.public_internet_gateway_ipv6","mode":"managed","type":"aws_route","name":"public_internet_gateway_ipv6","provider_config_key":"module.vpc.module.network:aws","expressions":{"destination_ipv6_cidr_block":{"constant_value":"::/0"},"gateway_id":{"references":["aws_internet_gateway.this[0].id","aws_internet_gateway.this[0]","aws_internet_gateway.this"]},"route_table_id":{"references":["aws_route_table.public[0].id","aws_route_table.public[0]","aws_route_table.public"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.create_igw","var.enable_ipv6","var.public_subnets"]}},{"address":"aws_route_table.database","mode":"managed","type":"aws_route_table","name":"database","provider_config_key":"module.vpc.module.network:aws","expressions":{"tags":{"references":["var.single_nat_gateway","var.create_database_internet_gateway_route","var.name","var.database_subnet_suffix","var.name","var.database_subnet_suffix","var.azs","count.index","var.tags","var.database_route_table_tags"]},"vpc_id":{"references":["local.vpc_id"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.create_database_subnet_route_table","var.database_subnets","var.single_nat_gateway","var.create_database_internet_gateway_route","var.database_subnets"]}},{"address":"aws_route_table.elasticache","mode":"managed","type":"aws_route_table","name":"elasticache","provider_config_key":"module.vpc.module.network:aws","expressions":{"tags":{"references":["var.name","var.elasticache_subnet_suffix","var.tags","var.elasticache_route_table_tags"]},"vpc_id":{"references":["local.vpc_id"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.create_elasticache_subnet_route_table","var.elasticache_subnets"]}},{"address":"aws_route_table.intra","mode":"managed","type":"aws_route_table","name":"intra","provider_config_key":"module.vpc.module.network:aws","expressions":{"tags":{"references":["var.name","var.intra_subnet_suffix","var.tags","var.intra_route_table_tags"]},"vpc_id":{"references":["local.vpc_id"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.intra_subnets"]}},{"address":"aws_route_table.private","mode":"managed","type":"aws_route_table","name":"private","provider_config_key":"module.vpc.module.network:aws","expressions":{"tags":{"references":["var.single_nat_gateway","var.name","var.private_subnet_suffix","var.name","var.private_subnet_suffix","var.azs","count.index","var.tags","var.private_route_table_tags"]},"vpc_id":{"references":["local.vpc_id"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","local.max_subnet_length","local.nat_gateway_count"]}},{"address":"aws_route_table.public","mode":"managed","type":"aws_route_table","name":"public","provider_config_key":"module.vpc.module.network:aws","expressions":{"tags":{"references":["var.name","var.public_subnet_suffix","var.tags","var.public_route_table_tags"]},"vpc_id":{"references":["local.vpc_id"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.public_subnets"]}},{"address":"aws_route_table.redshift","mode":"managed","type":"aws_route_table","name":"redshift","provider_config_key":"module.vpc.module.network:aws","expressions":{"tags":{"references":["var.name","var.redshift_subnet_suffix","var.tags","var.redshift_route_table_tags"]},"vpc_id":{"references":["local.vpc_id"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.create_redshift_subnet_route_table","var.redshift_subnets"]}},{"address":"aws_route_table_association.database","mode":"managed","type":"aws_route_table_association","name":"database","provider_config_key":"module.vpc.module.network:aws","expressions":{"route_table_id":{"references":["aws_route_table.database","aws_route_table.private","var.create_database_subnet_route_table","var.single_nat_gateway","var.create_database_internet_gateway_route","count.index","count.index"]},"subnet_id":{"references":["aws_subnet.database","count.index"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.database_subnets","var.database_subnets"]}},{"address":"aws_route_table_association.elasticache","mode":"managed","type":"aws_route_table_association","name":"elasticache","provider_config_key":"module.vpc.module.network:aws","expressions":{"route_table_id":{"references":["aws_route_table.elasticache","aws_route_table.private","var.single_nat_gateway","var.create_elasticache_subnet_route_table","count.index"]},"subnet_id":{"references":["aws_subnet.elasticache","count.index"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.elasticache_subnets","var.elasticache_subnets"]}},{"address":"aws_route_table_association.intra","mode":"managed","type":"aws_route_table_association","name":"intra","provider_config_key":"module.vpc.module.network:aws","expressions":{"route_table_id":{"references":["aws_route_table.intra"]},"subnet_id":{"references":["aws_subnet.intra","count.index"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.intra_subnets","var.intra_subnets"]}},{"address":"aws_route_table_association.outpost","mode":"managed","type":"aws_route_table_association","name":"outpost","provider_config_key":"module.vpc.module.network:aws","expressions":{"route_table_id":{"references":["aws_route_table.private","var.single_nat_gateway","count.index"]},"subnet_id":{"references":["aws_subnet.outpost","count.index"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.outpost_subnets","var.outpost_subnets"]}},{"address":"aws_route_table_association.private","mode":"managed","type":"aws_route_table_association","name":"private","provider_config_key":"module.vpc.module.network:aws","expressions":{"route_table_id":{"references":["aws_route_table.private","var.single_nat_gateway","count.index"]},"subnet_id":{"references":["aws_subnet.private","count.index"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.private_subnets","var.private_subnets"]}},{"address":"aws_route_table_association.public","mode":"managed","type":"aws_route_table_association","name":"public","provider_config_key":"module.vpc.module.network:aws","expressions":{"route_table_id":{"references":["aws_route_table.public[0].id","aws_route_table.public[0]","aws_route_table.public"]},"subnet_id":{"references":["aws_subnet.public","count.index"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.public_subnets","var.public_subnets"]}},{"address":"aws_route_table_association.redshift","mode":"managed","type":"aws_route_table_association","name":"redshift","provider_config_key":"module.vpc.module.network:aws","expressions":{"route_table_id":{"references":["aws_route_table.redshift","aws_route_table.private","var.single_nat_gateway","var.create_redshift_subnet_route_table","count.index"]},"subnet_id":{"references":["aws_subnet.redshift","count.index"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.redshift_subnets","var.enable_public_redshift","var.redshift_subnets"]}},{"address":"aws_route_table_association.redshift_public","mode":"managed","type":"aws_route_table_association","name":"redshift_public","provider_config_key":"module.vpc.module.network:aws","expressions":{"route_table_id":{"references":["aws_route_table.redshift","aws_route_table.public","var.single_nat_gateway","var.create_redshift_subnet_route_table","count.index"]},"subnet_id":{"references":["aws_subnet.redshift","count.index"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.redshift_subnets","var.enable_public_redshift","var.redshift_subnets"]}},{"address":"aws_subnet.database","mode":"managed","type":"aws_subnet","name":"database","provider_config_key":"module.vpc.module.network:aws","expressions":{"assign_ipv6_address_on_creation":{"references":["var.database_subnet_assign_ipv6_address_on_creation","var.assign_ipv6_address_on_creation","var.database_subnet_assign_ipv6_address_on_creation"]},"availability_zone":{"references":["var.azs","count.index","var.azs","count.index"]},"availability_zone_id":{"references":["var.azs","count.index","var.azs","count.index"]},"cidr_block":{"references":["var.database_subnets","count.index"]},"ipv6_cidr_block":{"references":["var.enable_ipv6","var.database_subnet_ipv6_prefixes","aws_vpc.this[0].ipv6_cidr_block","aws_vpc.this[0]","aws_vpc.this","var.database_subnet_ipv6_prefixes","count.index"]},"tags":{"references":["var.name","var.database_subnet_suffix","var.azs","count.index","var.tags","var.database_subnet_tags"]},"vpc_id":{"references":["local.vpc_id"]}},"schema_version":1,"count_expression":{"references":["local.create_vpc","var.database_subnets","var.database_subnets"]}},{"address":"aws_subnet.elasticache","mode":"managed","type":"aws_subnet","name":"elasticache","provider_config_key":"module.vpc.module.network:aws","expressions":{"assign_ipv6_address_on_creation":{"references":["var.elasticache_subnet_assign_ipv6_address_on_creation","var.assign_ipv6_address_on_creation","var.elasticache_subnet_assign_ipv6_address_on_creation"]},"availability_zone":{"references":["var.azs","count.index","var.azs","count.index"]},"availability_zone_id":{"references":["var.azs","count.index","var.azs","count.index"]},"cidr_block":{"references":["var.elasticache_subnets","count.index"]},"ipv6_cidr_block":{"references":["var.enable_ipv6","var.elasticache_subnet_ipv6_prefixes","aws_vpc.this[0].ipv6_cidr_block","aws_vpc.this[0]","aws_vpc.this","var.elasticache_subnet_ipv6_prefixes","count.index"]},"tags":{"references":["var.name","var.elasticache_subnet_suffix","var.azs","count.index","var.tags","var.elasticache_subnet_tags"]},"vpc_id":{"references":["local.vpc_id"]}},"schema_version":1,"count_expression":{"references":["local.create_vpc","var.elasticache_subnets","var.elasticache_subnets"]}},{"address":"aws_subnet.intra","mode":"managed","type":"aws_subnet","name":"intra","provider_config_key":"module.vpc.module.network:aws","expressions":{"assign_ipv6_address_on_creation":{"references":["var.intra_subnet_assign_ipv6_address_on_creation","var.assign_ipv6_address_on_creation","var.intra_subnet_assign_ipv6_address_on_creation"]},"availability_zone":{"references":["var.azs","count.index","var.azs","count.index"]},"availability_zone_id":{"references":["var.azs","count.index","var.azs","count.index"]},"cidr_block":{"references":["var.intra_subnets","count.index"]},"ipv6_cidr_block":{"references":["var.enable_ipv6","var.intra_subnet_ipv6_prefixes","aws_vpc.this[0].ipv6_cidr_block","aws_vpc.this[0]","aws_vpc.this","var.intra_subnet_ipv6_prefixes","count.index"]},"tags":{"references":["var.name","var.intra_subnet_suffix","var.azs","count.index","var.tags","var.intra_subnet_tags"]},"vpc_id":{"references":["local.vpc_id"]}},"schema_version":1,"count_expression":{"references":["local.create_vpc","var.intra_subnets","var.intra_subnets"]}},{"address":"aws_subnet.outpost","mode":"managed","type":"aws_subnet","name":"outpost","provider_config_key":"module.vpc.module.network:aws","expressions":{"assign_ipv6_address_on_creation":{"references":["var.outpost_subnet_assign_ipv6_address_on_creation","var.assign_ipv6_address_on_creation","var.outpost_subnet_assign_ipv6_address_on_creation"]},"availability_zone":{"references":["var.outpost_az"]},"cidr_block":{"references":["var.outpost_subnets","count.index"]},"ipv6_cidr_block":{"references":["var.enable_ipv6","var.outpost_subnet_ipv6_prefixes","aws_vpc.this[0].ipv6_cidr_block","aws_vpc.this[0]","aws_vpc.this","var.outpost_subnet_ipv6_prefixes","count.index"]},"outpost_arn":{"references":["var.outpost_arn"]},"tags":{"references":["var.name","var.outpost_subnet_suffix","var.outpost_az","var.tags","var.outpost_subnet_tags"]},"vpc_id":{"references":["local.vpc_id"]}},"schema_version":1,"count_expression":{"references":["local.create_vpc","var.outpost_subnets","var.outpost_subnets"]}},{"address":"aws_subnet.private","mode":"managed","type":"aws_subnet","name":"private","provider_config_key":"module.vpc.module.network:aws","expressions":{"assign_ipv6_address_on_creation":{"references":["var.private_subnet_assign_ipv6_address_on_creation","var.assign_ipv6_address_on_creation","var.private_subnet_assign_ipv6_address_on_creation"]},"availability_zone":{"references":["var.azs","count.index","var.azs","count.index"]},"availability_zone_id":{"references":["var.azs","count.index","var.azs","count.index"]},"cidr_block":{"references":["var.private_subnets","count.index"]},"ipv6_cidr_block":{"references":["var.enable_ipv6","var.private_subnet_ipv6_prefixes","aws_vpc.this[0].ipv6_cidr_block","aws_vpc.this[0]","aws_vpc.this","var.private_subnet_ipv6_prefixes","count.index"]},"tags":{"references":["var.name","var.private_subnet_suffix","var.azs","count.index","var.tags","var.private_subnet_tags"]},"vpc_id":{"references":["local.vpc_id"]}},"schema_version":1,"count_expression":{"references":["local.create_vpc","var.private_subnets","var.private_subnets"]}},{"address":"aws_subnet.public","mode":"managed","type":"aws_subnet","name":"public","provider_config_key":"module.vpc.module.network:aws","expressions":{"assign_ipv6_address_on_creation":{"references":["var.public_subnet_assign_ipv6_address_on_creation","var.assign_ipv6_address_on_creation","var.public_subnet_assign_ipv6_address_on_creation"]},"availability_zone":{"references":["var.azs","count.index","var.azs","count.index"]},"availability_zone_id":{"references":["var.azs","count.index","var.azs","count.index"]},"cidr_block":{"references":["var.public_subnets","count.index"]},"ipv6_cidr_block":{"references":["var.enable_ipv6","var.public_subnet_ipv6_prefixes","aws_vpc.this[0].ipv6_cidr_block","aws_vpc.this[0]","aws_vpc.this","var.public_subnet_ipv6_prefixes","count.index"]},"map_public_ip_on_launch":{"references":["var.map_public_ip_on_launch"]},"tags":{"references":["var.name","var.public_subnet_suffix","var.azs","count.index","var.tags","var.public_subnet_tags"]},"vpc_id":{"references":["local.vpc_id"]}},"schema_version":1,"count_expression":{"references":["local.create_vpc","var.public_subnets","var.one_nat_gateway_per_az","var.public_subnets","var.azs","var.public_subnets"]}},{"address":"aws_subnet.redshift","mode":"managed","type":"aws_subnet","name":"redshift","provider_config_key":"module.vpc.module.network:aws","expressions":{"assign_ipv6_address_on_creation":{"references":["var.redshift_subnet_assign_ipv6_address_on_creation","var.assign_ipv6_address_on_creation","var.redshift_subnet_assign_ipv6_address_on_creation"]},"availability_zone":{"references":["var.azs","count.index","var.azs","count.index"]},"availability_zone_id":{"references":["var.azs","count.index","var.azs","count.index"]},"cidr_block":{"references":["var.redshift_subnets","count.index"]},"ipv6_cidr_block":{"references":["var.enable_ipv6","var.redshift_subnet_ipv6_prefixes","aws_vpc.this[0].ipv6_cidr_block","aws_vpc.this[0]","aws_vpc.this","var.redshift_subnet_ipv6_prefixes","count.index"]},"tags":{"references":["var.name","var.redshift_subnet_suffix","var.azs","count.index","var.tags","var.redshift_subnet_tags"]},"vpc_id":{"references":["local.vpc_id"]}},"schema_version":1,"count_expression":{"references":["local.create_vpc","var.redshift_subnets","var.redshift_subnets"]}},{"address":"aws_vpc.this","mode":"managed","type":"aws_vpc","name":"this","provider_config_key":"module.vpc.module.network:aws","expressions":{"assign_generated_ipv6_cidr_block":{"references":["var.enable_ipv6"]},"cidr_block":{"references":["var.cidr"]},"enable_classiclink":{"references":["var.enable_classiclink"]},"enable_classiclink_dns_support":{"references":["var.enable_classiclink_dns_support"]},"enable_dns_hostnames":{"references":["var.enable_dns_hostnames"]},"enable_dns_support":{"references":["var.enable_dns_support"]},"instance_tenancy":{"references":["var.instance_tenancy"]},"tags":{"references":["var.name","var.tags","var.vpc_tags"]}},"schema_version":1,"count_expression":{"references":["local.create_vpc"]}},{"address":"aws_vpc_dhcp_options.this","mode":"managed","type":"aws_vpc_dhcp_options","name":"this","provider_config_key":"module.vpc.module.network:aws","expressions":{"domain_name":{"references":["var.dhcp_options_domain_name"]},"domain_name_servers":{"references":["var.dhcp_options_domain_name_servers"]},"netbios_name_servers":{"references":["var.dhcp_options_netbios_name_servers"]},"netbios_node_type":{"references":["var.dhcp_options_netbios_node_type"]},"ntp_servers":{"references":["var.dhcp_options_ntp_servers"]},"tags":{"references":["var.name","var.tags","var.dhcp_options_tags"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.enable_dhcp_options"]}},{"address":"aws_vpc_dhcp_options_association.this","mode":"managed","type":"aws_vpc_dhcp_options_association","name":"this","provider_config_key":"module.vpc.module.network:aws","expressions":{"dhcp_options_id":{"references":["aws_vpc_dhcp_options.this[0].id","aws_vpc_dhcp_options.this[0]","aws_vpc_dhcp_options.this"]},"vpc_id":{"references":["local.vpc_id"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.enable_dhcp_options"]}},{"address":"aws_vpc_ipv4_cidr_block_association.this","mode":"managed","type":"aws_vpc_ipv4_cidr_block_association","name":"this","provider_config_key":"module.vpc.module.network:aws","expressions":{"cidr_block":{"references":["var.secondary_cidr_blocks","count.index"]},"vpc_id":{"references":["aws_vpc.this[0].id","aws_vpc.this[0]","aws_vpc.this"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.secondary_cidr_blocks","var.secondary_cidr_blocks"]}},{"address":"aws_vpn_gateway.this","mode":"managed","type":"aws_vpn_gateway","name":"this","provider_config_key":"module.vpc.module.network:aws","expressions":{"amazon_side_asn":{"references":["var.amazon_side_asn"]},"availability_zone":{"references":["var.vpn_gateway_az"]},"tags":{"references":["var.name","var.tags","var.vpn_gateway_tags"]},"vpc_id":{"references":["local.vpc_id"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.enable_vpn_gateway"]}},{"address":"aws_vpn_gateway_attachment.this","mode":"managed","type":"aws_vpn_gateway_attachment","name":"this","provider_config_key":"module.vpc.module.network:aws","expressions":{"vpc_id":{"references":["local.vpc_id"]},"vpn_gateway_id":{"references":["var.vpn_gateway_id"]}},"schema_version":0,"count_expression":{"references":["var.vpn_gateway_id"]}},{"address":"aws_vpn_gateway_route_propagation.intra","mode":"managed","type":"aws_vpn_gateway_route_propagation","name":"intra","provider_config_key":"module.vpc.module.network:aws","expressions":{"route_table_id":{"references":["aws_route_table.intra","count.index"]},"vpn_gateway_id":{"references":["aws_vpn_gateway.this","aws_vpn_gateway_attachment.this","count.index"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.propagate_intra_route_tables_vgw","var.enable_vpn_gateway","var.vpn_gateway_id","var.intra_subnets"]}},{"address":"aws_vpn_gateway_route_propagation.private","mode":"managed","type":"aws_vpn_gateway_route_propagation","name":"private","provider_config_key":"module.vpc.module.network:aws","expressions":{"route_table_id":{"references":["aws_route_table.private","count.index"]},"vpn_gateway_id":{"references":["aws_vpn_gateway.this","aws_vpn_gateway_attachment.this","count.index"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.propagate_private_route_tables_vgw","var.enable_vpn_gateway","var.vpn_gateway_id","var.private_subnets"]}},{"address":"aws_vpn_gateway_route_propagation.public","mode":"managed","type":"aws_vpn_gateway_route_propagation","name":"public","provider_config_key":"module.vpc.module.network:aws","expressions":{"route_table_id":{"references":["aws_route_table.public","count.index"]},"vpn_gateway_id":{"references":["aws_vpn_gateway.this","aws_vpn_gateway_attachment.this","count.index"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.propagate_public_route_tables_vgw","var.enable_vpn_gateway","var.vpn_gateway_id"]}},{"address":"data.aws_iam_policy_document.flow_log_cloudwatch_assume_role","mode":"data","type":"aws_iam_policy_document","name":"flow_log_cloudwatch_assume_role","provider_config_key":"module.vpc.module.network:aws","expressions":{"statement":[{"actions":{"constant_value":["sts:AssumeRole"]},"effect":{"constant_value":"Allow"},"principals":[{"identifiers":{"constant_value":["vpc-flow-logs.amazonaws.com"]},"type":{"constant_value":"Service"}}],"sid":{"constant_value":"AWSVPCFlowLogsAssumeRole"}}]},"schema_version":0,"count_expression":{"references":["local.create_flow_log_cloudwatch_iam_role"]}},{"address":"data.aws_iam_policy_document.vpc_flow_log_cloudwatch","mode":"data","type":"aws_iam_policy_document","name":"vpc_flow_log_cloudwatch","provider_config_key":"module.vpc.module.network:aws","expressions":{"statement":[{"actions":{"constant_value":["logs:CreateLogStream","logs:PutLogEvents","logs:DescribeLogGroups","logs:DescribeLogStreams"]},"effect":{"constant_value":"Allow"},"resources":{"constant_value":["*"]},"sid":{"constant_value":"AWSVPCFlowLogsPushToCloudWatch"}}]},"schema_version":0,"count_expression":{"references":["local.create_flow_log_cloudwatch_iam_role"]}}],"variables":{"amazon_side_asn":{"default":"64512","description":"The Autonomous System Number (ASN) for the Amazon side of the gateway. By default the virtual private gateway is created with the current default Amazon ASN."},"assign_ipv6_address_on_creation":{"default":false,"description":"Assign IPv6 address on subnet, must be disabled to change IPv6 CIDRs. This is the IPv6 equivalent of map_public_ip_on_launch"},"azs":{"default":[],"description":"A list of availability zones names or ids in the region"},"cidr":{"default":"0.0.0.0/0","description":"The CIDR block for the VPC. Default value is a valid CIDR, but not acceptable by AWS and should be overridden"},"create_database_internet_gateway_route":{"default":false,"description":"Controls if an internet gateway route for public database access should be created"},"create_database_nat_gateway_route":{"default":false,"description":"Controls if a nat gateway route should be created to give internet access to the database subnets"},"create_database_subnet_group":{"default":true,"description":"Controls if database subnet group should be created (n.b. database_subnets must also be set)"},"create_database_subnet_route_table":{"default":false,"description":"Controls if separate route table for database should be created"},"create_egress_only_igw":{"default":true,"description":"Controls if an Egress Only Internet Gateway is created and its related routes."},"create_elasticache_subnet_group":{"default":true,"description":"Controls if elasticache subnet group should be created"},"create_elasticache_subnet_route_table":{"default":false,"description":"Controls if separate route table for elasticache should be created"},"create_flow_log_cloudwatch_iam_role":{"default":false,"description":"Whether to create IAM role for VPC Flow Logs"},"create_flow_log_cloudwatch_log_group":{"default":false,"description":"Whether to create CloudWatch log group for VPC Flow Logs"},"create_igw":{"default":true,"description":"Controls if an Internet Gateway is created for public subnets and the related routes that connect them."},"create_redshift_subnet_group":{"default":true,"description":"Controls if redshift subnet group should be created"},"create_redshift_subnet_route_table":{"default":false,"description":"Controls if separate route table for redshift should be created"},"create_vpc":{"default":true,"description":"Controls if VPC should be created (it affects almost all resources)"},"customer_gateway_tags":{"default":{},"description":"Additional tags for the Customer Gateway"},"customer_gateways":{"default":{},"description":"Maps of Customer Gateway's attributes (BGP ASN and Gateway's Internet-routable external IP address)"},"database_acl_tags":{"default":{},"description":"Additional tags for the database subnets network ACL"},"database_dedicated_network_acl":{"default":false,"description":"Whether to use dedicated network ACL (not default) and custom rules for database subnets"},"database_inbound_acl_rules":{"default":[{"cidr_block":"0.0.0.0/0","from_port":"0","protocol":"-1","rule_action":"allow","rule_number":"100","to_port":"0"}],"description":"Database subnets inbound network ACL rules"},"database_outbound_acl_rules":{"default":[{"cidr_block":"0.0.0.0/0","from_port":"0","protocol":"-1","rule_action":"allow","rule_number":"100","to_port":"0"}],"description":"Database subnets outbound network ACL rules"},"database_route_table_tags":{"default":{},"description":"Additional tags for the database route tables"},"database_subnet_assign_ipv6_address_on_creation":{"default":null,"description":"Assign IPv6 address on database subnet, must be disabled to change IPv6 CIDRs. This is the IPv6 equivalent of map_public_ip_on_launch"},"database_subnet_group_name":{"default":null,"description":"Name of database subnet group"},"database_subnet_group_tags":{"default":{},"description":"Additional tags for the database subnet group"},"database_subnet_ipv6_prefixes":{"default":[],"description":"Assigns IPv6 database subnet id based on the Amazon provided /56 prefix base 10 integer (0-256). Must be of equal length to the corresponding IPv4 subnet list"},"database_subnet_suffix":{"default":"db","description":"Suffix to append to database subnets name"},"database_subnet_tags":{"default":{},"description":"Additional tags for the database subnets"},"database_subnets":{"default":[],"description":"A list of database subnets"},"default_network_acl_egress":{"default":[{"action":"allow","cidr_block":"0.0.0.0/0","from_port":"0","protocol":"-1","rule_no":"100","to_port":"0"},{"action":"allow","from_port":"0","ipv6_cidr_block":"::/0","protocol":"-1","rule_no":"101","to_port":"0"}],"description":"List of maps of egress rules to set on the Default Network ACL"},"default_network_acl_ingress":{"default":[{"action":"allow","cidr_block":"0.0.0.0/0","from_port":"0","protocol":"-1","rule_no":"100","to_port":"0"},{"action":"allow","from_port":"0","ipv6_cidr_block":"::/0","protocol":"-1","rule_no":"101","to_port":"0"}],"description":"List of maps of ingress rules to set on the Default Network ACL"},"default_network_acl_name":{"default":null,"description":"Name to be used on the Default Network ACL"},"default_network_acl_tags":{"default":{},"description":"Additional tags for the Default Network ACL"},"default_route_table_name":{"default":null,"description":"Name to be used on the default route table"},"default_route_table_propagating_vgws":{"default":[],"description":"List of virtual gateways for propagation"},"default_route_table_routes":{"default":[],"description":"Configuration block of routes. See https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/default_route_table#route"},"default_route_table_tags":{"default":{},"description":"Additional tags for the default route table"},"default_security_group_egress":{"default":[],"description":"List of maps of egress rules to set on the default security group"},"default_security_group_ingress":{"default":[],"description":"List of maps of ingress rules to set on the default security group"},"default_security_group_name":{"default":null,"description":"Name to be used on the default security group"},"default_security_group_tags":{"default":{},"description":"Additional tags for the default security group"},"default_vpc_enable_classiclink":{"default":false,"description":"Should be true to enable ClassicLink in the Default VPC"},"default_vpc_enable_dns_hostnames":{"default":false,"description":"Should be true to enable DNS hostnames in the Default VPC"},"default_vpc_enable_dns_support":{"default":true,"description":"Should be true to enable DNS support in the Default VPC"},"default_vpc_name":{"default":null,"description":"Name to be used on the Default VPC"},"default_vpc_tags":{"default":{},"description":"Additional tags for the Default VPC"},"dhcp_options_domain_name":{"default":"","description":"Specifies DNS name for DHCP options set (requires enable_dhcp_options set to true)"},"dhcp_options_domain_name_servers":{"default":["AmazonProvidedDNS"],"description":"Specify a list of DNS server addresses for DHCP options set, default to AWS provided (requires enable_dhcp_options set to true)"},"dhcp_options_netbios_name_servers":{"default":[],"description":"Specify a list of netbios servers for DHCP options set (requires enable_dhcp_options set to true)"},"dhcp_options_netbios_node_type":{"default":"","description":"Specify netbios node_type for DHCP options set (requires enable_dhcp_options set to true)"},"dhcp_options_ntp_servers":{"default":[],"description":"Specify a list of NTP servers for DHCP options set (requires enable_dhcp_options set to true)"},"dhcp_options_tags":{"default":{},"description":"Additional tags for the DHCP option set (requires enable_dhcp_options set to true)"},"elasticache_acl_tags":{"default":{},"description":"Additional tags for the elasticache subnets network ACL"},"elasticache_dedicated_network_acl":{"default":false,"description":"Whether to use dedicated network ACL (not default) and custom rules for elasticache subnets"},"elasticache_inbound_acl_rules":{"default":[{"cidr_block":"0.0.0.0/0","from_port":"0","protocol":"-1","rule_action":"allow","rule_number":"100","to_port":"0"}],"description":"Elasticache subnets inbound network ACL rules"},"elasticache_outbound_acl_rules":{"default":[{"cidr_block":"0.0.0.0/0","from_port":"0","protocol":"-1","rule_action":"allow","rule_number":"100","to_port":"0"}],"description":"Elasticache subnets outbound network ACL rules"},"elasticache_route_table_tags":{"default":{},"description":"Additional tags for the elasticache route tables"},"elasticache_subnet_assign_ipv6_address_on_creation":{"default":null,"description":"Assign IPv6 address on elasticache subnet, must be disabled to change IPv6 CIDRs. This is the IPv6 equivalent of map_public_ip_on_launch"},"elasticache_subnet_group_name":{"default":null,"description":"Name of elasticache subnet group"},"elasticache_subnet_group_tags":{"default":{},"description":"Additional tags for the elasticache subnet group"},"elasticache_subnet_ipv6_prefixes":{"default":[],"description":"Assigns IPv6 elasticache subnet id based on the Amazon provided /56 prefix base 10 integer (0-256). Must be of equal length to the corresponding IPv4 subnet list"},"elasticache_subnet_suffix":{"default":"elasticache","description":"Suffix to append to elasticache subnets name"},"elasticache_subnet_tags":{"default":{},"description":"Additional tags for the elasticache subnets"},"elasticache_subnets":{"default":[],"description":"A list of elasticache subnets"},"enable_classiclink":{"default":null,"description":"Should be true to enable ClassicLink for the VPC. Only valid in regions and accounts that support EC2 Classic."},"enable_classiclink_dns_support":{"default":null,"description":"Should be true to enable ClassicLink DNS Support for the VPC. Only valid in regions and accounts that support EC2 Classic."},"enable_dhcp_options":{"default":false,"description":"Should be true if you want to specify a DHCP options set with a custom domain name, DNS servers, NTP servers, netbios servers, and/or netbios server type"},"enable_dns_hostnames":{"default":false,"description":"Should be true to enable DNS hostnames in the VPC"},"enable_dns_support":{"default":true,"description":"Should be true to enable DNS support in the VPC"},"enable_flow_log":{"default":false,"description":"Whether or not to enable VPC Flow Logs"},"enable_ipv6":{"default":false,"description":"Requests an Amazon-provided IPv6 CIDR block with a /56 prefix length for the VPC. You cannot specify the range of IP addresses, or the size of the CIDR block."},"enable_nat_gateway":{"default":false,"description":"Should be true if you want to provision NAT Gateways for each of your private networks"},"enable_public_redshift":{"default":false,"description":"Controls if redshift should have public routing table"},"enable_vpn_gateway":{"default":false,"description":"Should be true if you want to create a new VPN Gateway resource and attach it to the VPC"},"external_nat_ip_ids":{"default":[],"description":"List of EIP IDs to be assigned to the NAT Gateways (used in combination with reuse_nat_ips)"},"external_nat_ips":{"default":[],"description":"List of EIPs to be used for `nat_public_ips` output (used in combination with reuse_nat_ips and external_nat_ip_ids)"},"flow_log_cloudwatch_iam_role_arn":{"default":"","description":"The ARN for the IAM role that's used to post flow logs to a CloudWatch Logs log group. When flow_log_destination_arn is set to ARN of Cloudwatch Logs, this argument needs to be provided."},"flow_log_cloudwatch_log_group_kms_key_id":{"default":null,"description":"The ARN of the KMS Key to use when encrypting log data for VPC flow logs."},"flow_log_cloudwatch_log_group_name_prefix":{"default":"/aws/vpc-flow-log/","description":"Specifies the name prefix of CloudWatch Log Group for VPC flow logs."},"flow_log_cloudwatch_log_group_retention_in_days":{"default":null,"description":"Specifies the number of days you want to retain log events in the specified log group for VPC flow logs."},"flow_log_destination_arn":{"default":"","description":"The ARN of the CloudWatch log group or S3 bucket where VPC Flow Logs will be pushed. If this ARN is a S3 bucket the appropriate permissions need to be set on that bucket's policy. When create_flow_log_cloudwatch_log_group is set to false this argument must be provided."},"flow_log_destination_type":{"default":"cloud-watch-logs","description":"Type of flow log destination. Can be s3 or cloud-watch-logs."},"flow_log_file_format":{"default":"plain-text","description":"(Optional) The format for the flow log. Valid values: `plain-text`, `parquet`."},"flow_log_hive_compatible_partitions":{"default":false,"description":"(Optional) Indicates whether to use Hive-compatible prefixes for flow logs stored in Amazon S3."},"flow_log_log_format":{"default":null,"description":"The fields to include in the flow log record, in the order in which they should appear."},"flow_log_max_aggregation_interval":{"default":600,"description":"The maximum interval of time during which a flow of packets is captured and aggregated into a flow log record. Valid Values: `60` seconds or `600` seconds."},"flow_log_per_hour_partition":{"default":false,"description":"(Optional) Indicates whether to partition the flow log per hour. This reduces the cost and response time for queries."},"flow_log_traffic_type":{"default":"ALL","description":"The type of traffic to capture. Valid values: ACCEPT, REJECT, ALL."},"igw_tags":{"default":{},"description":"Additional tags for the internet gateway"},"instance_tenancy":{"default":"default","description":"A tenancy option for instances launched into the VPC"},"intra_acl_tags":{"default":{},"description":"Additional tags for the intra subnets network ACL"},"intra_dedicated_network_acl":{"default":false,"description":"Whether to use dedicated network ACL (not default) and custom rules for intra subnets"},"intra_inbound_acl_rules":{"default":[{"cidr_block":"0.0.0.0/0","from_port":"0","protocol":"-1","rule_action":"allow","rule_number":"100","to_port":"0"}],"description":"Intra subnets inbound network ACLs"},"intra_outbound_acl_rules":{"default":[{"cidr_block":"0.0.0.0/0","from_port":"0","protocol":"-1","rule_action":"allow","rule_number":"100","to_port":"0"}],"description":"Intra subnets outbound network ACLs"},"intra_route_table_tags":{"default":{},"description":"Additional tags for the intra route tables"},"intra_subnet_assign_ipv6_address_on_creation":{"default":null,"description":"Assign IPv6 address on intra subnet, must be disabled to change IPv6 CIDRs. This is the IPv6 equivalent of map_public_ip_on_launch"},"intra_subnet_ipv6_prefixes":{"default":[],"description":"Assigns IPv6 intra subnet id based on the Amazon provided /56 prefix base 10 integer (0-256). Must be of equal length to the corresponding IPv4 subnet list"},"intra_subnet_suffix":{"default":"intra","description":"Suffix to append to intra subnets name"},"intra_subnet_tags":{"default":{},"description":"Additional tags for the intra subnets"},"intra_subnets":{"default":[],"description":"A list of intra subnets"},"manage_default_network_acl":{"default":false,"description":"Should be true to adopt and manage Default Network ACL"},"manage_default_route_table":{"default":false,"description":"Should be true to manage default route table"},"manage_default_security_group":{"default":false,"description":"Should be true to adopt and manage default security group"},"manage_default_vpc":{"default":false,"description":"Should be true to adopt and manage Default VPC"},"map_public_ip_on_launch":{"default":true,"description":"Should be false if you do not want to auto-assign public IP on launch"},"name":{"default":"","description":"Name to be used on all the resources as identifier"},"nat_eip_tags":{"default":{},"description":"Additional tags for the NAT EIP"},"nat_gateway_destination_cidr_block":{"default":"0.0.0.0/0","description":"Used to pass a custom destination route for private NAT Gateway. If not specified, the default 0.0.0.0/0 is used as a destination route."},"nat_gateway_tags":{"default":{},"description":"Additional tags for the NAT gateways"},"one_nat_gateway_per_az":{"default":false,"description":"Should be true if you want only one NAT Gateway per availability zone. Requires `var.azs` to be set, and the number of `public_subnets` created to be greater than or equal to the number of availability zones specified in `var.azs`."},"outpost_acl_tags":{"default":{},"description":"Additional tags for the outpost subnets network ACL"},"outpost_arn":{"default":null,"description":"ARN of Outpost you want to create a subnet in."},"outpost_az":{"default":null,"description":"AZ where Outpost is anchored."},"outpost_dedicated_network_acl":{"default":false,"description":"Whether to use dedicated network ACL (not default) and custom rules for outpost subnets"},"outpost_inbound_acl_rules":{"default":[{"cidr_block":"0.0.0.0/0","from_port":"0","protocol":"-1","rule_action":"allow","rule_number":"100","to_port":"0"}],"description":"Outpost subnets inbound network ACLs"},"outpost_outbound_acl_rules":{"default":[{"cidr_block":"0.0.0.0/0","from_port":"0","protocol":"-1","rule_action":"allow","rule_number":"100","to_port":"0"}],"description":"Outpost subnets outbound network ACLs"},"outpost_subnet_assign_ipv6_address_on_creation":{"default":null,"description":"Assign IPv6 address on outpost subnet, must be disabled to change IPv6 CIDRs. This is the IPv6 equivalent of map_public_ip_on_launch"},"outpost_subnet_ipv6_prefixes":{"default":[],"description":"Assigns IPv6 outpost subnet id based on the Amazon provided /56 prefix base 10 integer (0-256). Must be of equal length to the corresponding IPv4 subnet list"},"outpost_subnet_suffix":{"default":"outpost","description":"Suffix to append to outpost subnets name"},"outpost_subnet_tags":{"default":{},"description":"Additional tags for the outpost subnets"},"outpost_subnets":{"default":[],"description":"A list of outpost subnets inside the VPC"},"private_acl_tags":{"default":{},"description":"Additional tags for the private subnets network ACL"},"private_dedicated_network_acl":{"default":false,"description":"Whether to use dedicated network ACL (not default) and custom rules for private subnets"},"private_inbound_acl_rules":{"default":[{"cidr_block":"0.0.0.0/0","from_port":"0","protocol":"-1","rule_action":"allow","rule_number":"100","to_port":"0"}],"description":"Private subnets inbound network ACLs"},"private_outbound_acl_rules":{"default":[{"cidr_block":"0.0.0.0/0","from_port":"0","protocol":"-1","rule_action":"allow","rule_number":"100","to_port":"0"}],"description":"Private subnets outbound network ACLs"},"private_route_table_tags":{"default":{},"description":"Additional tags for the private route tables"},"private_subnet_assign_ipv6_address_on_creation":{"default":null,"description":"Assign IPv6 address on private subnet, must be disabled to change IPv6 CIDRs. This is the IPv6 equivalent of map_public_ip_on_launch"},"private_subnet_ipv6_prefixes":{"default":[],"description":"Assigns IPv6 private subnet id based on the Amazon provided /56 prefix base 10 integer (0-256). Must be of equal length to the corresponding IPv4 subnet list"},"private_subnet_suffix":{"default":"private","description":"Suffix to append to private subnets name"},"private_subnet_tags":{"default":{},"description":"Additional tags for the private subnets"},"private_subnets":{"default":[],"description":"A list of private subnets inside the VPC"},"propagate_intra_route_tables_vgw":{"default":false,"description":"Should be true if you want route table propagation"},"propagate_private_route_tables_vgw":{"default":false,"description":"Should be true if you want route table propagation"},"propagate_public_route_tables_vgw":{"default":false,"description":"Should be true if you want route table propagation"},"public_acl_tags":{"default":{},"description":"Additional tags for the public subnets network ACL"},"public_dedicated_network_acl":{"default":false,"description":"Whether to use dedicated network ACL (not default) and custom rules for public subnets"},"public_inbound_acl_rules":{"default":[{"cidr_block":"0.0.0.0/0","from_port":"0","protocol":"-1","rule_action":"allow","rule_number":"100","to_port":"0"}],"description":"Public subnets inbound network ACLs"},"public_outbound_acl_rules":{"default":[{"cidr_block":"0.0.0.0/0","from_port":"0","protocol":"-1","rule_action":"allow","rule_number":"100","to_port":"0"}],"description":"Public subnets outbound network ACLs"},"public_route_table_tags":{"default":{},"description":"Additional tags for the public route tables"},"public_subnet_assign_ipv6_address_on_creation":{"default":null,"description":"Assign IPv6 address on public subnet, must be disabled to change IPv6 CIDRs. This is the IPv6 equivalent of map_public_ip_on_launch"},"public_subnet_ipv6_prefixes":{"default":[],"description":"Assigns IPv6 public subnet id based on the Amazon provided /56 prefix base 10 integer (0-256). Must be of equal length to the corresponding IPv4 subnet list"},"public_subnet_suffix":{"default":"public","description":"Suffix to append to public subnets name"},"public_subnet_tags":{"default":{},"description":"Additional tags for the public subnets"},"public_subnets":{"default":[],"description":"A list of public subnets inside the VPC"},"putin_khuylo":{"default":true,"description":"Do you agree that Putin doesn't respect Ukrainian sovereignty and territorial integrity? More info: https://en.wikipedia.org/wiki/Putin_khuylo!"},"redshift_acl_tags":{"default":{},"description":"Additional tags for the redshift subnets network ACL"},"redshift_dedicated_network_acl":{"default":false,"description":"Whether to use dedicated network ACL (not default) and custom rules for redshift subnets"},"redshift_inbound_acl_rules":{"default":[{"cidr_block":"0.0.0.0/0","from_port":"0","protocol":"-1","rule_action":"allow","rule_number":"100","to_port":"0"}],"description":"Redshift subnets inbound network ACL rules"},"redshift_outbound_acl_rules":{"default":[{"cidr_block":"0.0.0.0/0","from_port":"0","protocol":"-1","rule_action":"allow","rule_number":"100","to_port":"0"}],"description":"Redshift subnets outbound network ACL rules"},"redshift_route_table_tags":{"default":{},"description":"Additional tags for the redshift route tables"},"redshift_subnet_assign_ipv6_address_on_creation":{"default":null,"description":"Assign IPv6 address on redshift subnet, must be disabled to change IPv6 CIDRs. This is the IPv6 equivalent of map_public_ip_on_launch"},"redshift_subnet_group_name":{"default":null,"description":"Name of redshift subnet group"},"redshift_subnet_group_tags":{"default":{},"description":"Additional tags for the redshift subnet group"},"redshift_subnet_ipv6_prefixes":{"default":[],"description":"Assigns IPv6 redshift subnet id based on the Amazon provided /56 prefix base 10 integer (0-256). Must be of equal length to the corresponding IPv4 subnet list"},"redshift_subnet_suffix":{"default":"redshift","description":"Suffix to append to redshift subnets name"},"redshift_subnet_tags":{"default":{},"description":"Additional tags for the redshift subnets"},"redshift_subnets":{"default":[],"description":"A list of redshift subnets"},"reuse_nat_ips":{"default":false,"description":"Should be true if you don't want EIPs to be created for your NAT Gateways and will instead pass them in via the 'external_nat_ip_ids' variable"},"secondary_cidr_blocks":{"default":[],"description":"List of secondary CIDR blocks to associate with the VPC to extend the IP Address pool"},"single_nat_gateway":{"default":false,"description":"Should be true if you want to provision a single shared NAT Gateway across all of your private networks"},"tags":{"default":{},"description":"A map of tags to add to all resources"},"vpc_flow_log_permissions_boundary":{"default":null,"description":"The ARN of the Permissions Boundary for the VPC Flow Log IAM Role"},"vpc_flow_log_tags":{"default":{},"description":"Additional tags for the VPC Flow Logs"},"vpc_tags":{"default":{},"description":"Additional tags for the VPC"},"vpn_gateway_az":{"default":null,"description":"The Availability Zone for the VPN Gateway"},"vpn_gateway_id":{"default":"","description":"ID of VPN Gateway to attach to the VPC"},"vpn_gateway_tags":{"default":{},"description":"Additional tags for the VPN gateway"}}}}},"variables":{"network_availability_zones":{},"network_caller_id":{},"network_cidr":{},"network_create_database_subnet":{},"network_database_subnet_group_name":{},"network_enable_hostname":{},"network_enable_nat_gateway":{},"network_enable_single_nat_gateway":{},"network_global_environment":{},"network_name":{},"network_private_database_subnets_cidrs":{},"network_private_subnets_cidrs":{},"network_product_name":{},"network_public_subnets_cidrs":{}}}}},"variables":{"var_global_aws_environment":{},"var_global_aws_profile":{},"var_global_aws_region":{},"var_global_ec2instance_aws_ami_owner_list":{},"var_global_ec2instance_filter_full_ref_list":{},"var_global_ec2instance_filter_virtualiazation_type_list":{},"var_global_mysql_port":{},"var_global_product":{},"var_iam_ec2_ec2_session_manager_ssm_policy_name":{},"var_iam_ec2_profile_name":{},"var_iam_ec2_role_name":{},"var_iam_ec2_s3_bucket_arn_list":{},"var_iam_ec2_s3_policy_name":{},"var_iam_ec2_secret_manager_readwrite_resource_name":{},"var_iam_ecs_task_bucket_arn_list":{},"var_iam_ecs_task_loggroup_resources_list":{},"var_iam_ecs_task_policy_name":{},"var_iam_ecs_task_role_name":{},"var_load_balancer_default_tg_name":{},"var_load_balancer_name":{},"var_rds_aurora_mr_apply_immediately":{},"var_rds_aurora_mr_cloudwatch_logs_exports":{},"var_rds_aurora_mr_cluster_gr_family":{},"var_rds_aurora_mr_cluster_param_gr_name":{},"var_rds_aurora_mr_create_db_subnet_group":{},"var_rds_aurora_mr_create_security_group":{},"var_rds_aurora_mr_database_name":{},"var_rds_aurora_mr_engine":{},"var_rds_aurora_mr_engine_version":{},"var_rds_aurora_mr_first_instance_class":{},"var_rds_aurora_mr_first_instance_identifier":{},"var_rds_aurora_mr_first_publicly_assessible":{},"var_rds_aurora_mr_iam_authentication_enable":{},"var_rds_aurora_mr_identifier":{},"var_rds_aurora_mr_master_password":{},"var_rds_aurora_mr_master_username":{},"var_rds_aurora_mr_param_gr_family":{},"var_rds_aurora_mr_param_gr_name":{},"var_rds_aurora_mr_skip_final_snapshot":{},"var_rds_aurora_multiregion_parameter_max_con":{},"var_secgroup_app_ecs_allow_egress_cidrs_list":{},"var_secgroup_app_ecs_from_port":{},"var_secgroup_app_ecs_group_name":{},"var_secgroup_app_ecs_to_port":{},"var_secgroup_jumpbox_ec2_allow_egress_cidrs_list":{},"var_secgroup_jumpbox_ec2_group_name":{},"var_secgroup_jumpbox_ec2_ingress_cidr_list":{},"var_secgroup_jumpbox_ec2_ingress_rules_list":{},"var_secgroup_mysql_allow_egress_cidrs_list":{},"var_secgroup_public_elb_allow_egress_cidrs_list":{},"var_secgroup_public_elb_allow_ingress_waf_cidrs_list":{},"var_secgroup_public_elb_group_name":{},"var_secgroup_public_elb_group_rule_list":{},"var_secgroup_single_multiregion_rds_allowed_ingress_cidr":{},"var_secgroup_single_multiregion_rds_group_name":{},"vpc_cidr":{},"vpc_create_database_subnet":{},"vpc_database_subnet_group_name":{},"vpc_enable_hostname":{},"vpc_enable_nat_gateway":{},"vpc_enable_single_nat_gateway":{},"vpc_global_environment":{},"vpc_name":{},"vpc_private_database_subnets_cidrs":{},"vpc_private_subnets_cidrs":{},"vpc_public_subnets_cidrs":{}}}},"relevant_attributes":[{"resource":"module.vpc.module.network.aws_vpc.this[0]","attribute":["ipv6_association_id"]},{"resource":"module.securitygroups.module.single_multiregion_rds_security_group.aws_security_group.this_name_prefix[0]","attribute":["id"]},{"resource":"module.rds_aurora_multiregion.module.rds_aurora.aws_rds_cluster_role_association.this","attribute":[]},{"resource":"module.rds_aurora_multiregion.module.rds_aurora.random_password.master_password[0]","attribute":["result"]},{"resource":"module.vpc.module.network.aws_vpc.this[0]","attribute":["enable_dns_support"]},{"resource":"module.vpc.module.network.aws_vpc.this[0]","attribute":["default_security_group_id"]},{"resource":"module.securitygroups.module.single_multiregion_rds_security_group.aws_security_group.this_name_prefix[0]","attribute":["name"]},{"resource":"module.vpc.module.network.aws_route_table_association.private","attribute":[]},{"resource":"module.iam.aws_iam_policy.ec2_secrets_manager_readwrite_policy","attribute":["arn"]},{"resource":"module.vpc.module.network.aws_network_acl.public[0]","attribute":["id"]},{"resource":"module.vpc.module.network.aws_network_acl.private[0]","attribute":["arn"]},{"resource":"module.iam.aws_iam_role.ec2_iam_role","attribute":["arn"]},{"resource":"module.securitygroups.module.single_multiregion_rds_security_group.aws_security_group.this_name_prefix[0]","attribute":["owner_id"]},{"resource":"module.securitygroups.module.public_elb_security_group.aws_security_group.this_name_prefix","attribute":[]},{"resource":"module.alb.aws_lb.lb","attribute":["arn"]},{"resource":"module.vpc.module.network.aws_vpc.this[0]","attribute":["id"]},{"resource":"module.vpc.module.network.aws_vpc.this[0]","attribute":["default_network_acl_id"]},{"resource":"module.securitygroups.module.app_ecs_security_group.aws_security_group.this[0]","attribute":["description"]},{"resource":"module.rds_aurora_multiregion.module.rds_aurora.aws_rds_cluster.this[0]","attribute":["engine_version_actual"]},{"resource":"module.securitygroups.module.single_multiregion_rds_security_group.aws_security_group.this","attribute":[]},{"resource":"module.securitygroups.module.single_multiregion_rds_security_group.aws_security_group.this[0]","attribute":["owner_id"]},{"resource":"module.securitygroups.module.public_elb_security_group.aws_security_group.this_name_prefix[0]","attribute":["id"]},{"resource":"module.securitygroups.module.jumpbox_ec2_security_group.aws_security_group.this_name_prefix[0]","attribute":["name"]},{"resource":"module.vpc.module.network.aws_network_acl.database[0]","attribute":["id"]},{"resource":"module.vpc.module.network.aws_route.private_nat_gateway","attribute":[]},{"resource":"module.vpc.module.network.aws_default_vpc.this[0]","attribute":["enable_dns_support"]},{"resource":"module.vpc.module.network.aws_vpc.this[0]","attribute":["main_route_table_id"]},{"resource":"module.vpc.module.network.aws_network_acl.outpost[0]","attribute":["arn"]},{"resource":"module.securitygroups.module.jumpbox_ec2_security_group.aws_security_group.this_name_prefix[0]","attribute":["id"]},{"resource":"module.iam.data.aws_iam_policy_document.ec2_assume_document","attribute":["json"]},{"resource":"module.vpc.module.network.aws_route_table.public[0]","attribute":["id"]},{"resource":"module.rds_aurora_multiregion.module.rds_aurora.random_id.snapshot_identifier","attribute":[]},{"resource":"module.securitygroups.module.jumpbox_ec2_security_group.aws_security_group.this_name_prefix[0]","attribute":["owner_id"]},{"resource":"module.vpc.module.network.aws_cloudwatch_log_group.flow_log[0]","attribute":["arn"]},{"resource":"module.vpc.module.network.aws_default_vpc.this[0]","attribute":["arn"]},{"resource":"module.securitygroups.module.public_elb_security_group.aws_security_group.this[0]","attribute":["name"]},{"resource":"module.securitygroups.module.jumpbox_ec2_security_group.aws_security_group.this[0]","attribute":["owner_id"]},{"resource":"module.vpc.module.network.aws_vpn_gateway.this[0]","attribute":["id"]},{"resource":"module.vpc.module.network.aws_route_table.intra","attribute":[]},{"resource":"module.rds_aurora_multiregion.module.rds_aurora.aws_rds_cluster.this[0]","attribute":["reader_endpoint"]},{"resource":"module.iam.data.aws_iam_policy_document.ec2_session_manager_ssm_document","attribute":["json"]},{"resource":"module.vpc.module.network.aws_internet_gateway.this[0]","attribute":["id"]},{"resource":"module.rds_aurora_multiregion.module.rds_aurora.aws_iam_role.rds_enhanced_monitoring[0]","attribute":["arn"]},{"resource":"module.vpc.module.network.aws_network_acl.elasticache[0]","attribute":["id"]},{"resource":"module.rds_aurora_multiregion.aws_rds_cluster_parameter_group.aurora_multiregion_cluster_mysql_57_param_group","attribute":["name"]},{"resource":"module.vpc.module.network.aws_default_vpc.this[0]","attribute":["main_route_table_id"]},{"resource":"module.securitygroups.module.jumpbox_ec2_security_group.aws_security_group.this[0]","attribute":["id"]},{"resource":"module.securitygroups.module.app_ecs_security_group.aws_security_group.this_name_prefix[0]","attribute":["vpc_id"]},{"resource":"module.vpc.module.network.aws_network_acl.database[0]","attribute":["arn"]},{"resource":"module.rds_aurora_multiregion.module.rds_aurora.aws_rds_cluster_instance.this","attribute":[]},{"resource":"module.iam.aws_iam_role.ecs_task_iam_role","attribute":["arn"]},{"resource":"module.securitygroups.module.jumpbox_ec2_security_group.aws_security_group.this[0]","attribute":["name"]},{"resource":"module.securitygroups.module.single_multiregion_rds_security_group.aws_security_group.this[0]","attribute":["name"]},{"resource":"module.vpc.module.network.aws_vpn_gateway.this[0]","attribute":["arn"]},{"resource":"module.securitygroups.module.public_elb_security_group.aws_security_group.this[0]","attribute":["vpc_id"]},{"resource":"module.vpc.module.network.aws_route.database_internet_gateway[0]","attribute":["id"]},{"resource":"module.vpc.module.network.aws_route_table_association.public","attribute":[]},{"resource":"module.vpc.module.network.aws_iam_role.vpc_flow_log_cloudwatch[0]","attribute":["arn"]},{"resource":"module.rds_aurora_multiregion.module.rds_aurora.aws_rds_cluster.this[0]","attribute":["id"]},{"resource":"module.vpc.module.network.aws_default_vpc.this[0]","attribute":["default_network_acl_id"]},{"resource":"module.vpc.module.network.aws_egress_only_internet_gateway.this[0]","attribute":["id"]},{"resource":"module.securitygroups.module.app_ecs_security_group.aws_security_group.this[0]","attribute":["vpc_id"]},{"resource":"module.rds_aurora_multiregion.aws_db_parameter_group.aurora_multiregion_mysql_57_param_group","attribute":["name"]},{"resource":"module.vpc.module.network.aws_route_table.private","attribute":[]},{"resource":"module.iam.data.aws_iam_policy_document.ec2_secrets_manager_readwrite_document","attribute":["json"]},{"resource":"module.securitygroups.module.app_ecs_security_group.aws_security_group.this[0]","attribute":["owner_id"]},{"resource":"module.vpc.module.network.aws_db_subnet_group.database[0]","attribute":["name"]},{"resource":"module.securitygroups.module.jumpbox_ec2_security_group.aws_security_group.this_name_prefix","attribute":[]},{"resource":"module.iam.aws_iam_role.ecs_task_iam_role","attribute":["name"]},{"resource":"module.alb.aws_lb_target_group.http_backend_target_group","attribute":["arn"]},{"resource":"module.vpc.module.network.aws_route_table_association.redshift_public","attribute":[]},{"resource":"module.securitygroups.module.public_elb_security_group.aws_security_group.this_name_prefix[0]","attribute":["vpc_id"]},{"resource":"module.vpc.module.network.aws_elasticache_subnet_group.elasticache[0]","attribute":["id"]},{"resource":"module.vpc.module.network.aws_vpc.this[0]","attribute":["ipv6_cidr_block"]},{"resource":"module.vpc.module.network.aws_default_vpc.this[0]","attribute":["default_route_table_id"]},{"resource":"module.securitygroups.module.app_ecs_security_group.aws_security_group.this_name_prefix[0]","attribute":["owner_id"]},{"resource":"module.securitygroups.module.app_ecs_security_group.aws_security_group.this[0]","attribute":["id"]},{"resource":"module.securitygroups.module.app_ecs_security_group.aws_security_group.this_name_prefix","attribute":[]},{"resource":"module.iam.data.aws_iam_policy_document.ecs_task_log-ssm-s3_document","attribute":["json"]},{"resource":"module.vpc.module.network.aws_route_table.database","attribute":[]},{"resource":"module.securitygroups.module.public_elb_security_group.aws_security_group.this[0]","attribute":["owner_id"]},{"resource":"module.vpc.module.network.aws_network_acl.elasticache[0]","attribute":["arn"]},{"resource":"module.vpc.module.network.aws_route_table_association.intra","attribute":[]},{"resource":"module.securitygroups.module.public_elb_security_group.aws_security_group.this","attribute":[]},{"resource":"module.vpc.module.network.aws_subnet.private","attribute":[]},{"resource":"module.securitygroups.module.app_ecs_security_group.aws_security_group.this[0]","attribute":["name"]},{"resource":"module.vpc.module.network.aws_subnet.elasticache","attribute":[]},{"resource":"module.vpc.module.network.aws_vpc_dhcp_options.this[0]","attribute":["id"]},{"resource":"module.securitygroups.module.single_multiregion_rds_security_group.aws_security_group.this_name_prefix[0]","attribute":["vpc_id"]},{"resource":"module.vpc.module.network.aws_eip.nat","attribute":[]},{"resource":"module.rds_aurora_multiregion.module.rds_aurora.aws_rds_cluster.this[0]","attribute":["arn"]},{"resource":"module.vpc.module.network.aws_nat_gateway.this","attribute":[]},{"resource":"module.vpc.module.network.aws_customer_gateway.this","attribute":[]},{"resource":"module.vpc.module.network.aws_default_vpc.this[0]","attribute":["id"]},{"resource":"module.vpc.module.network.aws_vpc_ipv4_cidr_block_association.this","attribute":[]},{"resource":"module.vpc.module.network.aws_network_acl.outpost[0]","attribute":["id"]},{"resource":"module.securitygroups.module.app_ecs_security_group.aws_security_group.this_name_prefix[0]","attribute":["name"]},{"resource":"module.securitygroups.module.single_multiregion_rds_security_group.aws_security_group.this[0]","attribute":["id"]},{"resource":"module.securitygroups.module.app_ecs_security_group.aws_security_group.this_name_prefix[0]","attribute":["id"]},{"resource":"module.iam.data.aws_iam_policy_document.ecs_task_assume_document","attribute":["json"]},{"resource":"module.iam.aws_iam_role.ec2_iam_role","attribute":["name"]},{"resource":"module.iam.aws_iam_policy.ecs_task_log-ssm-s3_policy","attribute":["arn"]},{"resource":"module.vpc.module.network.aws_route.public_internet_gateway_ipv6[0]","attribute":["id"]},{"resource":"module.rds_aurora_multiregion.module.rds_aurora.aws_rds_cluster.this[0]","attribute":["hosted_zone_id"]},{"resource":"module.vpc.module.network.aws_vpc.this[0]","attribute":["instance_tenancy"]},{"resource":"module.vpc.module.network.aws_route.private_ipv6_egress","attribute":[]},{"resource":"module.vpc.module.network.aws_route.database_nat_gateway","attribute":[]},{"resource":"module.iam.data.aws_iam_policy_document.ec2_s3_bucket_document","attribute":["json"]},{"resource":"module.vpc.module.network.aws_subnet.public","attribute":[]},{"resource":"module.rds_aurora_multiregion.module.rds_aurora.aws_security_group.this","attribute":[]},{"resource":"module.vpc.module.network.aws_route_table.elasticache","attribute":[]},{"resource":"module.rds_aurora_multiregion.module.rds_aurora.aws_rds_cluster.this[0]","attribute":["master_password"]},{"resource":"module.rds_aurora_multiregion.module.rds_aurora.aws_rds_cluster.this[0]","attribute":["port"]},{"resource":"module.securitygroups.module.jumpbox_ec2_security_group.aws_security_group.this[0]","attribute":["description"]},{"resource":"module.securitygroups.module.public_elb_security_group.aws_security_group.this_name_prefix[0]","attribute":["description"]},{"resource":"module.vpc.module.network.aws_subnet.intra","attribute":[]},{"resource":"module.vpc.module.network.aws_vpc.this[0]","attribute":["cidr_block"]},{"resource":"module.vpc.module.network.aws_internet_gateway.this[0]","attribute":["arn"]},{"resource":"module.securitygroups.module.public_elb_security_group.aws_security_group.this[0]","attribute":["description"]},{"resource":"module.rds_aurora_multiregion.module.rds_aurora.aws_rds_cluster.this[0]","attribute":["cluster_resource_id"]},{"resource":"module.rds_aurora_multiregion.module.rds_aurora.aws_rds_cluster.this[0]","attribute":["endpoint"]},{"resource":"module.iam.aws_iam_policy.ec2_session_manager_ssm_policy","attribute":["arn"]},{"resource":"module.vpc.module.network.aws_subnet.database","attribute":[]},{"resource":"module.vpc.module.network.aws_default_vpc.this[0]","attribute":["instance_tenancy"]},{"resource":"module.rds_aurora_multiregion.module.rds_aurora.aws_rds_cluster.this[0]","attribute":["master_username"]},{"resource":"module.securitygroups.module.app_ecs_security_group.aws_security_group.this","attribute":[]},{"resource":"module.rds_aurora_multiregion.module.rds_aurora.aws_db_subnet_group.this","attribute":[]},{"resource":"data.aws_ami.ec2_instance_type","attribute":["id"]},{"resource":"module.vpc.module.network.aws_vpc.this[0]","attribute":["owner_id"]},{"resource":"module.vpc.module.network.aws_subnet.outpost","attribute":[]},{"resource":"data.aws_availability_zones.azs","attribute":["names"]},{"resource":"module.rds_aurora_multiregion.module.rds_aurora.aws_iam_role.rds_enhanced_monitoring","attribute":[]},{"resource":"module.vpc.module.network.aws_default_vpc.this[0]","attribute":["default_security_group_id"]},{"resource":"module.securitygroups.module.app_ecs_security_group.aws_security_group.this_name_prefix[0]","attribute":["description"]},{"resource":"module.vpc.module.network.aws_elasticache_subnet_group.elasticache[0]","attribute":["name"]},{"resource":"module.vpc.module.network.aws_subnet.redshift","attribute":[]},{"resource":"module.vpc.module.network.aws_route_table_association.redshift","attribute":[]},{"resource":"module.securitygroups.module.public_elb_security_group.aws_security_group.this[0]","attribute":["id"]},{"resource":"module.securitygroups.module.jumpbox_ec2_security_group.aws_security_group.this_name_prefix[0]","attribute":["description"]},{"resource":"module.vpc.module.network.aws_route_table.public","attribute":[]},{"resource":"module.securitygroups.module.public_elb_security_group.aws_security_group.this_name_prefix[0]","attribute":["name"]},{"resource":"module.vpc.module.network.aws_egress_only_internet_gateway.this","attribute":[]},{"resource":"module.rds_aurora_multiregion.module.rds_aurora.aws_iam_role.rds_enhanced_monitoring[0]","attribute":["name"]},{"resource":"module.vpc.module.network.aws_vpc.this[0]","attribute":["enable_dns_hostnames"]},{"resource":"module.securitygroups.module.jumpbox_ec2_security_group.aws_security_group.this_name_prefix[0]","attribute":["vpc_id"]},{"resource":"module.iam.aws_iam_policy.ec2_s3_bucket_policy","attribute":["arn"]},{"resource":"module.securitygroups.module.single_multiregion_rds_security_group.aws_security_group.this[0]","attribute":["description"]},{"resource":"module.securitygroups.module.jumpbox_ec2_security_group.aws_security_group.this[0]","attribute":["vpc_id"]},{"resource":"module.vpc.module.network.aws_route.public_internet_gateway[0]","attribute":["id"]},{"resource":"module.vpc.module.network.aws_network_acl.public[0]","attribute":["arn"]},{"resource":"module.vpc.module.network.aws_route_table_association.elasticache","attribute":[]},{"resource":"module.jumpbox_instance.aws_instance.ec2_instance","attribute":[]},{"resource":"module.rds_aurora_multiregion.module.rds_aurora.aws_iam_role.rds_enhanced_monitoring[0]","attribute":["unique_id"]},{"resource":"module.iam.aws_iam_instance_profile.ec2_instance_profile","attribute":["name"]},{"resource":"module.securitygroups.module.public_elb_security_group.aws_security_group.this_name_prefix[0]","attribute":["owner_id"]},{"resource":"module.securitygroups.module.single_multiregion_rds_security_group.aws_security_group.this_name_prefix","attribute":[]},{"resource":"module.vpc.module.network.aws_network_acl.intra[0]","attribute":["arn"]},{"resource":"module.vpc.module.network.aws_default_vpc.this[0]","attribute":["cidr_block"]},{"resource":"module.vpc.module.network.aws_vpc.this[0]","attribute":["arn"]},{"resource":"module.vpc.module.network.aws_network_acl.redshift[0]","attribute":["id"]},{"resource":"module.vpc.module.network.aws_db_subnet_group.database[0]","attribute":["id"]},{"resource":"module.rds_aurora_multiregion.module.rds_aurora.aws_rds_cluster_endpoint.this","attribute":[]},{"resource":"module.securitygroups.module.single_multiregion_rds_security_group.aws_security_group.this_name_prefix[0]","attribute":["description"]},{"resource":"module.vpc.module.network.aws_flow_log.this[0]","attribute":["id"]},{"resource":"module.vpc.module.network.aws_redshift_subnet_group.redshift[0]","attribute":["id"]},{"resource":"module.vpc.module.network.aws_network_acl.private[0]","attribute":["id"]},{"resource":"module.securitygroups.module.jumpbox_ec2_security_group.aws_security_group.this","attribute":[]},{"resource":"module.rds_aurora_multiregion.module.rds_aurora.data.aws_iam_policy_document.monitoring_rds_assume_role","attribute":["json"]},{"resource":"module.securitygroups.module.single_multiregion_rds_security_group.aws_security_group.this[0]","attribute":["vpc_id"]},{"resource":"module.vpc.module.network.aws_route.database_ipv6_egress[0]","attribute":["id"]},{"resource":"module.vpc.module.network.aws_route_table.redshift","attribute":[]},{"resource":"module.vpc.module.network.aws_network_acl.intra[0]","attribute":["id"]},{"resource":"module.vpc.module.network.aws_network_acl.redshift[0]","attribute":["arn"]},{"resource":"module.vpc.module.network.aws_route_table_association.database","attribute":[]},{"resource":"module.alb.aws_lb.lb","attribute":["dns_name"]},{"resource":"module.rds_aurora_multiregion.module.rds_aurora.aws_rds_cluster.this[0]","attribute":["cluster_members"]},{"resource":"module.vpc.module.network.aws_default_vpc.this[0]","attribute":["enable_dns_hostnames"]},{"resource":"module.vpc.module.network.aws_vpc.this[0]","attribute":["default_route_table_id"]},{"resource":"module.vpc.module.network.aws_vpn_gateway_attachment.this[0]","attribute":["vpn_gateway_id"]},{"resource":"module.vpc.module.network.aws_vpc_ipv4_cidr_block_association.this[0]","attribute":["vpc_id"]}]}
