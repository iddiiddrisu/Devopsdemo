module "rds_aurora_multiregion" {
  source                                             = "../modules/rds_aurora"
  rds_aurora_multiregion_apply_immediately           = var.var_rds_aurora_mr_apply_immediately
  rds_aurora_multiregion_caller_id                   = data.aws_caller_identity.current.arn
  rds_aurora_multiregion_cloudwatch_logs_exports     = var.var_rds_aurora_mr_cloudwatch_logs_exports
  rds_aurora_multiregion_cluster_gr_family           = var.var_rds_aurora_mr_cluster_gr_family
  rds_aurora_multiregion_cluster_param_gr_name       = "${local.global_prefix}-${var.var_rds_aurora_mr_cluster_param_gr_name}"
  rds_aurora_multiregion_create_db_subnet_group      = var.var_rds_aurora_mr_create_db_subnet_group
  rds_aurora_multiregion_create_security_group       = var.var_rds_aurora_mr_create_security_group
  rds_aurora_multiregion_database_name               = var.var_rds_aurora_mr_database_name
  rds_aurora_multiregion_db_port                     = var.var_global_mysql_port
  rds_aurora_multiregion_engine                      = var.var_rds_aurora_mr_engine
  rds_aurora_multiregion_engine_version              = var.var_rds_aurora_mr_engine_version
  rds_aurora_multiregion_environment                 = var.var_global_aws_environment
  rds_aurora_multiregion_first_instance_class        = var.var_rds_aurora_mr_first_instance_class
  rds_aurora_multiregion_first_instance_identifier   = "${local.global_prefix}-${var.var_rds_aurora_mr_first_instance_identifier}"
  rds_aurora_multiregion_first_publicly_assessible   = var.var_rds_aurora_mr_first_publicly_assessible
  rds_aurora_multiregion_iam_authentication_enable   = var.var_rds_aurora_mr_iam_authentication_enable
  rds_aurora_multiregion_identifier                  = "${local.global_prefix}-${var.var_rds_aurora_mr_identifier}"
  rds_aurora_multiregion_master_password             = var.var_rds_aurora_mr_master_password
  rds_aurora_multiregion_master_username             = var.var_rds_aurora_mr_master_username
  rds_aurora_multiregion_param_gr_family             = var.var_rds_aurora_mr_param_gr_family
  rds_aurora_multiregion_param_gr_name               = var.var_rds_aurora_mr_param_gr_name
  rds_aurora_multiregion_product_name                = var.var_global_product
  rds_aurora_multiregion_second_instance_class       = var.var_rds_aurora_mr_second_instance_class
  rds_aurora_multiregion_second_instance_identifier  = "${local.global_prefix}-${var.var_rds_aurora_mr_second_instance_identifier}"
  rds_aurora_multiregion_second_publicly_assessible  = var.var_rds_aurora_mr_second_publicly_assessible
  rds_aurora_multiregion_skip_final_snapshot         = var.var_rds_aurora_mr_skip_final_snapshot
  rds_aurora_multiregion_subnet_group_name           = module.vpc.output_vpc_database_subnet_group_name
  rds_aurora_multiregion_vpc_id                      = module.vpc.output_vpc_vpc_id
  rds_aurora_multiregion_vpc_security_group_ids_list = [module.securitygroups.output_secgroup_mysql_group_id]
  rds_aurora_multiregion_parameter_max_con = var.var_rds_aurora_multiregion_parameter_max_con
}